var Yl=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Kf=Yl((Vf,Xi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();class Bl{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Kt=Bl,di={PROPERTYCHANGE:"propertychange"};class $l{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const ss=$l;function os(i,e){return i>e?1:i<e?-1:0}function nr(i,e,t){if(i[0]<=e)return 0;const n=i.length;if(e<=i[n-1])return n-1;if(typeof t=="function"){for(let r=1;r<n;++r){const a=i[r];if(a===e)return r;if(a<e)return t(e,i[r-1],a)>0?r-1:r}return n-1}if(t>0){for(let r=1;r<n;++r)if(i[r]<e)return r-1;return n-1}if(t<0){for(let r=1;r<n;++r)if(i[r]<=e)return r;return n-1}for(let r=1;r<n;++r){if(i[r]==e)return r;if(i[r]<e)return i[r-1]-e<e-i[r]?r-1:r}return n-1}function Ql(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let r=0;r<n;r++)i[i.length]=t[r]}function ir(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function Jl(i,e,t){const n=e||os;return i.every(function(r,a){if(a===0)return!0;const l=n(i[a-1],r);return!(l>0||t&&l===0)})}function Ui(){return!0}function rr(){return!1}function qi(){}function ec(i){let e=!1,t,n,r;return function(){const a=Array.prototype.slice.call(arguments);return(!e||this!==r||!ir(a,n))&&(e=!0,r=this,n=a,t=i.apply(this,arguments)),t}}function tc(i){function e(){let t;try{t=i()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function sr(i){for(const e in i)delete i[e]}function nc(i){let e;for(e in i)return!1;return!e}class ic extends ss{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const a=t?new Kt(e):e;a.target||(a.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),d=this.pendingRemovals_||(this.pendingRemovals_={});n in l||(l[n]=0,d[n]=0),++l[n];let f;for(let p=0,m=r.length;p<m;++p)if("handleEvent"in r[p]?f=r[p].handleEvent(a):f=r[p].call(this,a),f===!1||a.propagationStopped){f=!1;break}if(--l[n]===0){let p=d[n];for(delete d[n];p--;)this.removeEventListener(n,qi);delete l[n]}return f}disposeInternal(){this.listeners_&&sr(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=qi,++this.pendingRemovals_[e]):(n.splice(r,1),n.length===0&&delete this.listeners_[e]))}}const or=ic,ie={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ae(i,e,t,n,r){if(n&&n!==i&&(t=t.bind(n)),r){const l=t;t=function(){i.removeEventListener(e,t),l.apply(this,arguments)}}const a={target:i,type:e,listener:t};return i.addEventListener(e,t),a}function Hi(i,e,t,n){return ae(i,e,t,n,!0)}function Re(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),sr(i))}class $n extends or{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(ie.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let a=0;a<n;++a)r[a]=ae(this,e[a],t);return r}return ae(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let a=0;a<r;++a)n[a]=Hi(this,e[a],t)}else n=Hi(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)Bo(n);else if(Array.isArray(e))for(let r=0,a=e.length;r<a;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}$n.prototype.on;$n.prototype.once;$n.prototype.un;function Bo(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)Re(i[e]);else Re(i)}const rc=Object.freeze(Object.defineProperty({__proto__:null,unByKey:Bo,default:$n},Symbol.toStringTag,{value:"Module"}));function Ie(){throw new Error("Unimplemented abstract method.")}let sc=0;function ht(i){return i.ol_uid||(i.ol_uid=String(++sc))}class fo extends Kt{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class oc extends $n{constructor(e){super(),this.on,this.once,this.un,ht(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new fo(n,e,t)),n=di.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new fo(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const a=r[e];r[e]=t,a!==t&&this.notify(e,a)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){!e.values_||Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],nc(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const Wt=oc,Tt={ADD:"add",REMOVE:"remove"},go={LENGTH:"length"};class Oi extends Kt{constructor(e,t,n){super(e),this.element=t,this.index=n}}class ac extends Wt{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let n=0,r=this.array_.length;n<r;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(go.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Oi(Tt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Oi(Tt.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Oi(Tt.REMOVE,r,e)),this.dispatchEvent(new Oi(Tt.ADD,t,e))}updateLength_(){this.set(go.LENGTH,this.array_.length)}assertUnique_(e,t){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}}const Zt=ac;function Ee(i,e){if(!i)throw new Error(e)}const cn=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",lc=cn.includes("firefox"),cc=cn.includes("safari")&&!cn.includes("chrom");cc&&(cn.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(cn));const uc=cn.includes("webkit")&&!cn.includes("edge"),$o=cn.includes("macintosh"),Qo=typeof devicePixelRatio<"u"?devicePixelRatio:1,Jo=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,as=typeof Image<"u"&&Image.prototype.decode,hc=typeof createImageBitmap=="function",ea=function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i}();new Array(6);function Hn(){return[1,0,0,1,0,0]}function vt(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function En(i,e,t,n,r,a,l,d){const f=Math.sin(a),p=Math.cos(a);return i[0]=n*p,i[1]=r*f,i[2]=-n*f,i[3]=r*p,i[4]=l*n*p-d*n*f+e,i[5]=l*r*f+d*r*p+t,i}function ls(i,e){const t=dc(e);Ee(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],a=e[2],l=e[3],d=e[4],f=e[5];return i[0]=l/t,i[1]=-r/t,i[2]=-a/t,i[3]=n/t,i[4]=(a*f-l*d)/t,i[5]=-(n*f-r*d)/t,i}function dc(i){return i[0]*i[3]-i[1]*i[2]}let po;function ta(i){const e="matrix("+i.join(", ")+")";if(Jo)return e;const t=po||(po=document.createElement("div"));return t.style.transform=e,t.style.transform}const qe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function mo(i){const e=wn();for(let t=0,n=i.length;t<n;++t)Gi(e,i[t]);return e}function fc(i,e,t){const n=Math.min.apply(null,i),r=Math.min.apply(null,e),a=Math.max.apply(null,i),l=Math.max.apply(null,e);return Qn(n,r,a,l,t)}function gc(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function na(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function ar(i,e){return ia(i,e[0],e[1])}function Zi(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function ia(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function _o(i,e){const t=i[0],n=i[1],r=i[2],a=i[3],l=e[0],d=e[1];let f=qe.UNKNOWN;return l<t?f=f|qe.LEFT:l>r&&(f=f|qe.RIGHT),d<n?f=f|qe.BELOW:d>a&&(f=f|qe.ABOVE),f===qe.UNKNOWN&&(f=qe.INTERSECTING),f}function wn(){return[1/0,1/0,-1/0,-1/0]}function Qn(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function mi(i){return Qn(1/0,1/0,-1/0,-1/0,i)}function pc(i,e){const t=i[0],n=i[1];return Qn(t,n,t,n,e)}function mc(i,e,t,n,r){const a=mi(r);return ra(a,i,e,t,n)}function Ki(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function _c(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function Gi(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function ra(i,e,t,n,r){for(;t<n;t+=r)yc(i,e[t],e[t+1]);return i}function yc(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function sa(i,e){let t;return t=e(lr(i)),t||(t=e(cr(i)),t)||(t=e(ur(i)),t)||(t=e(Tn(i)),t)?t:!1}function Yr(i){let e=0;return Cn(i)||(e=we(i)*Qe(i)),e}function lr(i){return[i[0],i[1]]}function cr(i){return[i[2],i[1]]}function xn(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function vc(i,e){let t;if(e==="bottom-left")t=lr(i);else if(e==="bottom-right")t=cr(i);else if(e==="top-left")t=Tn(i);else if(e==="top-right")t=ur(i);else throw new Error("Invalid corner");return t}function fi(i,e,t,n,r){const[a,l,d,f,p,m,E,w]=Br(i,e,t,n);return Qn(Math.min(a,d,p,E),Math.min(l,f,m,w),Math.max(a,d,p,E),Math.max(l,f,m,w),r)}function Br(i,e,t,n){const r=e*n[0]/2,a=e*n[1]/2,l=Math.cos(t),d=Math.sin(t),f=r*l,p=r*d,m=a*l,E=a*d,w=i[0],x=i[1];return[w-f+E,x-p-m,w-f-E,x-p+m,w+f-E,x+p+m,w+f+E,x+p-m,w-f+E,x-p-m]}function Qe(i){return i[3]-i[1]}function vn(i,e,t){const n=t||wn();return bn(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):mi(n),n}function Tn(i){return[i[0],i[3]]}function ur(i){return[i[2],i[3]]}function we(i){return i[2]-i[0]}function bn(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function Cn(i){return i[2]<i[0]||i[3]<i[1]}function Ec(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function xc(i,e,t){let n=!1;const r=_o(i,e),a=_o(i,t);if(r===qe.INTERSECTING||a===qe.INTERSECTING)n=!0;else{const l=i[0],d=i[1],f=i[2],p=i[3],m=e[0],E=e[1],w=t[0],x=t[1],R=(x-E)/(w-m);let N,P;!!(a&qe.ABOVE)&&!(r&qe.ABOVE)&&(N=w-(x-p)/R,n=N>=l&&N<=f),!n&&!!(a&qe.RIGHT)&&!(r&qe.RIGHT)&&(P=x-(w-f)*R,n=P>=d&&P<=p),!n&&!!(a&qe.BELOW)&&!(r&qe.BELOW)&&(N=w-(x-d)/R,n=N>=l&&N<=f),!n&&!!(a&qe.LEFT)&&!(r&qe.LEFT)&&(P=x-(w-l)*R,n=P>=d&&P<=p)}return n}function wc(i,e,t,n){if(Cn(i))return mi(t);let r=[];if(n>1){const d=i[2]-i[0],f=i[3]-i[1];for(let p=0;p<n;++p)r.push(i[0]+d*p/n,i[1],i[2],i[1]+f*p/n,i[2]-d*p/n,i[3],i[0],i[3]-f*p/n)}else r=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]];e(r,r,2);const a=[],l=[];for(let d=0,f=r.length;d<f;d+=2)a.push(r[d]),l.push(r[d+1]);return fc(a,l,t)}const Yn={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Tc{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Yn[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const oa=Tc,_i=6378137,Un=Math.PI*_i,bc=[-Un,-Un,Un,Un],Cc=[-180,-85,180,85],Ni=_i*Math.log(Math.tan(Math.PI/2));class Fn extends oa{constructor(e){super({code:e,units:"m",extent:bc,global:!0,worldExtent:Cc,getPointResolution:function(t,n){return t/Math.cosh(n[1]/_i)}})}}const yo=[new Fn("EPSG:3857"),new Fn("EPSG:102100"),new Fn("EPSG:102113"),new Fn("EPSG:900913"),new Fn("http://www.opengis.net/def/crs/EPSG/0/3857"),new Fn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Rc(i,e,t){const n=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let r=0;r<n;r+=t){e[r]=Un*i[r]/180;let a=_i*Math.log(Math.tan(Math.PI*(+i[r+1]+90)/360));a>Ni?a=Ni:a<-Ni&&(a=-Ni),e[r+1]=a}return e}function Sc(i,e,t){const n=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let r=0;r<n;r+=t)e[r]=180*i[r]/Un,e[r+1]=360*Math.atan(Math.exp(i[r+1]/_i))/Math.PI-90;return e}const Ic=6378137,vo=[-180,-90,180,90],Lc=Math.PI*Ic/180;class mn extends oa{constructor(e,t){super({code:e,units:"degrees",extent:vo,axisOrientation:t,global:!0,metersPerUnit:Lc,worldExtent:vo})}}const Eo=[new mn("CRS:84"),new mn("EPSG:4326","neu"),new mn("urn:ogc:def:crs:OGC:1.3:CRS84"),new mn("urn:ogc:def:crs:OGC:2:84"),new mn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new mn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new mn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let $r={};function Ac(i){return $r[i]||$r[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Pc(i,e){$r[i]=e}let Zn={};function Wi(i,e,t){const n=i.getCode(),r=e.getCode();n in Zn||(Zn[n]={}),Zn[n][r]=t}function Mc(i,e){let t;return i in Zn&&e in Zn[i]&&(t=Zn[i][e]),t}function Ge(i,e,t){return Math.min(Math.max(i,e),t)}function Oc(i,e,t,n,r,a){const l=r-t,d=a-n;if(l!==0||d!==0){const f=((i-t)*l+(e-n)*d)/(l*l+d*d);f>1?(t=r,n=a):f>0&&(t+=l*f,n+=d*f)}return Kn(i,e,t,n)}function Kn(i,e,t,n){const r=t-i,a=n-e;return r*r+a*a}function Nc(i){const e=i.length;for(let n=0;n<e;n++){let r=n,a=Math.abs(i[n][n]);for(let d=n+1;d<e;d++){const f=Math.abs(i[d][n]);f>a&&(a=f,r=d)}if(a===0)return null;const l=i[r];i[r]=i[n],i[n]=l;for(let d=n+1;d<e;d++){const f=-i[d][n]/i[n][n];for(let p=n;p<e+1;p++)n==p?i[d][p]=0:i[d][p]+=f*i[n][p]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let r=n-1;r>=0;r--)i[r][e]-=i[r][n]*t[n]}return t}function zi(i){return i*Math.PI/180}function Wn(i,e){const t=i%e;return t*e<0?t+e:t}function Dc(i,e,t){return i+t*(e-i)}function cs(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function xo(i,e){return Math.round(cs(i,e))}function qn(i,e){return Math.floor(cs(i,e))}function rn(i,e){return Math.ceil(cs(i,e))}function aa(i,e){const t=(""+i).split("."),n=(""+e).split(".");for(let r=0;r<Math.max(t.length,n.length);r++){const a=parseInt(t[r]||"0",10),l=parseInt(n[r]||"0",10);if(a>l)return 1;if(l>a)return-1}return 0}function Fc(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function kc(i){return function(e){return zc(e,i)}}function jc(i,e,t){return i?e.replace("{x}",i[0].toFixed(t)).replace("{y}",i[1].toFixed(t)):""}function Vi(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function us(i,e){const t=Math.cos(e),n=Math.sin(e),r=i[0]*t-i[1]*n,a=i[1]*t+i[0]*n;return i[0]=r,i[1]=a,i}function Gc(i,e){return i[0]*=e,i[1]*=e,i}function zc(i,e){return jc(i,"{x}, {y}",e)}function la(i,e){if(e.canWrapX()){const t=we(e.getExtent()),n=Xc(i,e,t);n&&(i[0]-=n*t)}return i}function Xc(i,e,t){const n=e.getExtent();let r=0;return e.canWrapX()&&(i[0]<n[0]||i[0]>n[2])&&(t=t||we(n),r=Math.floor((i[0]-n[0])/t)),r}const Uc=63710088e-1;function wo(i,e,t){t=t||Uc;const n=zi(i[1]),r=zi(e[1]),a=(r-n)/2,l=zi(e[0]-i[0])/2,d=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}const ca={info:1,warn:2,error:3,none:4};let qc=ca.info;function ua(...i){qc>ca.warn||console.warn(...i)}let Qr=!0;function ha(i){Qr=!(i===void 0?!0:i)}function hs(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function ds(i,e){if(e!==void 0&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function Hc(i){Pc(i.getCode(),i),Wi(i,i,hs)}function Zc(i){i.forEach(Hc)}function ze(i){return typeof i=="string"?Ac(i):i||null}function Yi(i,e,t,n){i=ze(i);let r;const a=i.getPointResolutionFunc();if(a){if(r=a(e,t),n&&n!==i.getUnits()){const l=i.getMetersPerUnit();l&&(r=r*l/Yn[n])}}else{const l=i.getUnits();if(l=="degrees"&&!n||n=="degrees")r=e;else{const d=yi(i,ze("EPSG:4326"));if(d===ds&&l!=="degrees")r=e*i.getMetersPerUnit();else{let p=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];p=d(p,p,2);const m=wo(p.slice(0,2),p.slice(2,4)),E=wo(p.slice(4,6),p.slice(6,8));r=(m+E)/2}const f=n?Yn[n]:i.getMetersPerUnit();f!==void 0&&(r/=f)}}return r}function To(i){Zc(i),i.forEach(function(e){i.forEach(function(t){e!==t&&Wi(e,t,hs)})})}function Kc(i,e,t,n){i.forEach(function(r){e.forEach(function(a){Wi(r,a,t),Wi(a,r,n)})})}function fs(i,e){return i?typeof i=="string"?ze(i):i:ze(e)}function Wc(i,e){return ha(),gs(i,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function nn(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||yi(i,e)===hs)&&t}function yi(i,e){const t=i.getCode(),n=e.getCode();let r=Mc(t,n);return r||(r=ds),r}function Bi(i,e){const t=ze(i),n=ze(e);return yi(t,n)}function gs(i,e,t){return Bi(e,t)(i,void 0,i.length)}function Jr(i,e){return i}function qt(i,e){return Qr&&!Vi(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(Qr=!1,ua("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function Vc(i,e){return i}function sn(i,e){return i}function Yc(){To(yo),To(Eo),Kc(Eo,yo,Rc,Sc)}Yc();function Bc(i,e,t,n,r,a){a=a||[];let l=0;for(let d=e;d<t;d+=n){const f=i[d],p=i[d+1];a[l++]=r[0]*f+r[2]*p+r[4],a[l++]=r[1]*f+r[3]*p+r[5]}return a&&a.length!=l&&(a.length=l),a}function $c(i,e,t,n,r,a,l){l=l||[];const d=Math.cos(r),f=Math.sin(r),p=a[0],m=a[1];let E=0;for(let w=e;w<t;w+=n){const x=i[w]-p,R=i[w+1]-m;l[E++]=p+x*d-R*f,l[E++]=m+x*f+R*d;for(let N=w+2;N<w+n;++N)l[E++]=i[N]}return l&&l.length!=E&&(l.length=E),l}function Qc(i,e,t,n,r,a,l,d){d=d||[];const f=l[0],p=l[1];let m=0;for(let E=e;E<t;E+=n){const w=i[E]-f,x=i[E+1]-p;d[m++]=f+r*w,d[m++]=p+a*x;for(let R=E+2;R<E+n;++R)d[m++]=i[R]}return d&&d.length!=m&&(d.length=m),d}function Jc(i,e,t,n,r,a,l){l=l||[];let d=0;for(let f=e;f<t;f+=n){l[d++]=i[f]+r,l[d++]=i[f+1]+a;for(let p=f+2;p<f+n;++p)l[d++]=i[p]}return l&&l.length!=d&&(l.length=d),l}const bo=Hn();class eu extends Wt{constructor(){super(),this.extent_=wn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=ec((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Ie()}closestPointXY(e,t,n,r){return Ie()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ie()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&mi(t),this.extentRevision_=this.getRevision()}return Ec(this.extent_,e)}rotate(e,t){Ie()}scale(e,t,n){Ie()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ie()}getType(){return Ie()}applyTransform(e){Ie()}intersectsExtent(e){return Ie()}translate(e,t){Ie()}transform(e,t){const n=ze(e),r=n.getUnits()=="tile-pixels"?function(a,l,d){const f=n.getExtent(),p=n.getWorldExtent(),m=Qe(p)/Qe(f);return En(bo,p[0],p[3],m,-m,0,0,0),Bc(a,0,a.length,d,bo,l),Bi(n,t)(a,l,d)}:Bi(n,t);return this.applyTransform(r),this}}const tu=eu;class nu extends tu{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return mc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ie()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Co(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Ie()}setLayout(e,t,n){let r;if(e)r=Co(e);else{for(let a=0;a<n;++a){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=iu(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();$c(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=xn(this.getExtent()));const r=this.getFlatCoordinates();if(r){const a=this.getStride();Qc(r,0,r.length,a,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();Jc(n,0,n.length,r,e,t,n),this.changed()}}}function iu(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function Co(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}const ps=nu;function Ro(i,e,t,n,r,a,l){const d=i[e],f=i[e+1],p=i[t]-d,m=i[t+1]-f;let E;if(p===0&&m===0)E=e;else{const w=((r-d)*p+(a-f)*m)/(p*p+m*m);if(w>1)E=t;else if(w>0){for(let x=0;x<n;++x)l[x]=Dc(i[e+x],i[t+x],w);l.length=n;return}else E=e}for(let w=0;w<n;++w)l[w]=i[E+w];l.length=n}function da(i,e,t,n,r){let a=i[e],l=i[e+1];for(e+=n;e<t;e+=n){const d=i[e],f=i[e+1],p=Kn(a,l,d,f);p>r&&(r=p),a=d,l=f}return r}function ru(i,e,t,n,r){for(let a=0,l=t.length;a<l;++a){const d=t[a];r=da(i,e,d,n,r),e=d}return r}function fa(i,e,t,n,r,a,l,d,f,p,m){if(e==t)return p;let E,w;if(r===0){if(w=Kn(l,d,i[e],i[e+1]),w<p){for(E=0;E<n;++E)f[E]=i[e+E];return f.length=n,w}return p}m=m||[NaN,NaN];let x=e+n;for(;x<t;)if(Ro(i,x-n,x,n,l,d,m),w=Kn(l,d,m[0],m[1]),w<p){for(p=w,E=0;E<n;++E)f[E]=m[E];f.length=n,x+=n}else x+=n*Math.max((Math.sqrt(w)-Math.sqrt(p))/r|0,1);if(a&&(Ro(i,t-n,e,n,l,d,m),w=Kn(l,d,m[0],m[1]),w<p)){for(p=w,E=0;E<n;++E)f[E]=m[E];f.length=n}return p}function su(i,e,t,n,r,a,l,d,f,p,m){m=m||[NaN,NaN];for(let E=0,w=t.length;E<w;++E){const x=t[E];p=fa(i,e,x,n,r,a,l,d,f,p,m),e=x}return p}function ou(i,e,t,n){for(let r=0,a=t.length;r<a;++r)i[e++]=t[r];return e}function ga(i,e,t,n){for(let r=0,a=t.length;r<a;++r){const l=t[r];for(let d=0;d<n;++d)i[e++]=l[d]}return e}function au(i,e,t,n,r){r=r||[];let a=0;for(let l=0,d=t.length;l<d;++l){const f=ga(i,e,t[l],n);r[a++]=f,e=f}return r.length=a,r}function lu(i,e,t,n,r,a,l){const d=(t-e)/n;if(d<3){for(;e<t;e+=n)a[l++]=i[e],a[l++]=i[e+1];return l}const f=new Array(d);f[0]=1,f[d-1]=1;const p=[e,t-n];let m=0;for(;p.length>0;){const E=p.pop(),w=p.pop();let x=0;const R=i[w],N=i[w+1],P=i[E],z=i[E+1];for(let F=w+n;F<E;F+=n){const G=i[F],U=i[F+1],u=Oc(G,U,R,N,P,z);u>x&&(m=F,x=u)}x>r&&(f[(m-e)/n]=1,w+n<m&&p.push(w,m),m+n<E&&p.push(m,E))}for(let E=0;E<d;++E)f[E]&&(a[l++]=i[e+E*n],a[l++]=i[e+E*n+1]);return l}function kn(i,e){return e*Math.round(i/e)}function cu(i,e,t,n,r,a,l){if(e==t)return l;let d=kn(i[e],r),f=kn(i[e+1],r);e+=n,a[l++]=d,a[l++]=f;let p,m;do if(p=kn(i[e],r),m=kn(i[e+1],r),e+=n,e==t)return a[l++]=p,a[l++]=m,l;while(p==d&&m==f);for(;e<t;){const E=kn(i[e],r),w=kn(i[e+1],r);if(e+=n,E==p&&w==m)continue;const x=p-d,R=m-f,N=E-d,P=w-f;if(x*P==R*N&&(x<0&&N<x||x==N||x>0&&N>x)&&(R<0&&P<R||R==P||R>0&&P>R)){p=E,m=w;continue}a[l++]=p,a[l++]=m,d=p,f=m,p=E,m=w}return a[l++]=p,a[l++]=m,l}function uu(i,e,t,n,r,a,l,d){for(let f=0,p=t.length;f<p;++f){const m=t[f];l=cu(i,e,m,n,r,a,l),d.push(l),e=m}return l}function pa(i,e,t,n,r){r=r!==void 0?r:[];let a=0;for(let l=e;l<t;l+=n)r[a++]=i.slice(l,l+n);return r.length=a,r}function hu(i,e,t,n,r){r=r!==void 0?r:[];let a=0;for(let l=0,d=t.length;l<d;++l){const f=t[l];r[a++]=pa(i,e,f,n,r[a]),e=f}return r.length=a,r}function ma(i,e,t,n){let r=0,a=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const d=i[e],f=i[e+1];r+=l*d-a*f,a=d,l=f}return r/2}function du(i,e,t,n){let r=0;for(let a=0,l=t.length;a<l;++a){const d=t[a];r+=ma(i,e,d,n),e=d}return r}class $i extends ps{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new $i(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<na(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(da(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),fa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return ma(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return pa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=lu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new $i(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ga(this.flatCoordinates,0,e,this.stride),this.changed()}}const So=$i;class ms extends ps{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new ms(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const a=this.flatCoordinates,l=Kn(e,t,a[0],a[1]);if(l<r){const d=this.stride;for(let f=0;f<d;++f)n[f]=a[f];return n.length=d,l}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return pc(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return ia(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ou(this.flatCoordinates,0,e,this.stride),this.changed()}}const fu=ms;function gu(i,e,t,n,r){return!sa(r,function(l){return!yn(i,e,t,n,l[0],l[1])})}function yn(i,e,t,n,r,a){let l=0,d=i[t-n],f=i[t-n+1];for(;e<t;e+=n){const p=i[e],m=i[e+1];f<=a?m>a&&(p-d)*(a-f)-(r-d)*(m-f)>0&&l++:m<=a&&(p-d)*(a-f)-(r-d)*(m-f)<0&&l--,d=p,f=m}return l!==0}function _a(i,e,t,n,r,a){if(t.length===0||!yn(i,e,t[0],n,r,a))return!1;for(let l=1,d=t.length;l<d;++l)if(yn(i,t[l-1],t[l],n,r,a))return!1;return!0}function pu(i,e,t,n,r,a,l){let d,f,p,m,E,w,x;const R=r[a+1],N=[];for(let F=0,G=t.length;F<G;++F){const U=t[F];for(m=i[U-n],w=i[U-n+1],d=e;d<U;d+=n)E=i[d],x=i[d+1],(R<=w&&x<=R||w<=R&&R<=x)&&(p=(R-w)/(x-w)*(E-m)+m,N.push(p)),m=E,w=x}let P=NaN,z=-1/0;for(N.sort(os),m=N[0],d=1,f=N.length;d<f;++d){E=N[d];const F=Math.abs(E-m);F>z&&(p=(m+E)/2,_a(i,e,t,n,p,R)&&(P=p,z=F)),m=E}return isNaN(P)&&(P=r[a]),l?(l.push(P,R,z),l):[P,R,z]}function mu(i,e,t,n,r){let a;for(e+=n;e<t;e+=n)if(a=r(i.slice(e-n,e),i.slice(e,e+n)),a)return a;return!1}function ya(i,e,t,n,r){const a=ra(wn(),i,e,t,n);return bn(r,a)?Zi(r,a)||a[0]>=r[0]&&a[2]<=r[2]||a[1]>=r[1]&&a[3]<=r[3]?!0:mu(i,e,t,n,function(l,d){return xc(r,l,d)}):!1}function va(i,e,t,n,r){return!!(ya(i,e,t,n,r)||yn(i,e,t,n,r[0],r[1])||yn(i,e,t,n,r[0],r[3])||yn(i,e,t,n,r[2],r[1])||yn(i,e,t,n,r[2],r[3]))}function _u(i,e,t,n,r){if(!va(i,e,t[0],n,r))return!1;if(t.length===1)return!0;for(let a=1,l=t.length;a<l;++a)if(gu(i,t[a-1],t[a],n,r)&&!ya(i,t[a-1],t[a],n,r))return!1;return!0}function yu(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const a=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=a}e+=n,t-=n}}function Ea(i,e,t,n){let r=0,a=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const d=i[e],f=i[e+1];r+=(d-a)*(f+l),a=d,l=f}return r===0?void 0:r>0}function vu(i,e,t,n,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const d=t[a],f=Ea(i,e,d,n);if(a===0){if(r&&f||!r&&!f)return!1}else if(r&&!f||!r&&f)return!1;e=d}return!0}function Io(i,e,t,n,r){r=r!==void 0?r:!1;for(let a=0,l=t.length;a<l;++a){const d=t[a],f=Ea(i,e,d,n);(a===0?r&&f||!r&&!f:r&&!f||!r&&f)&&yu(i,e,d,n),e=d}return e}class gi extends ps{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Ql(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new gi(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<na(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ru(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),su(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return _a(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return du(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Io(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,hu(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=xn(this.getExtent());this.flatInteriorPoint_=pu(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new fu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new So(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let a=0;for(let l=0,d=n.length;l<d;++l){const f=n[l],p=new So(t.slice(a,f),e);r.push(p),a=f}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;vu(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Io(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=uu(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new gi(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return _u(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=au(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function Lo(i){if(Cn(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],a=[e,t,e,r,n,r,n,t,e,t];return new gi(a,"XY",[a.length])}const ln={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ao(i){return i[0]>0&&i[1]>0}function Eu(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function on(i,e){return Array.isArray(i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}const Qi={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var rt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};rt.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};rt.max=rt.whitepoint[2].D65;rt.rgb=function(i,e){e=e||rt.whitepoint[2].E;var t=i[0]/e[0],n=i[1]/e[1],r=i[2]/e[2],a,l,d;return a=t*3.240969941904521+n*-1.537383177570093+r*-.498610760293,l=t*-.96924363628087+n*1.87596750150772+r*.041555057407175,d=t*.055630079696993+n*-.20397695888897+r*1.056971514242878,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d=d*12.92,a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),d=Math.min(Math.max(0,d),1),[a*255,l*255,d*255]};Qi.xyz=function(i,e){var t=i[0]/255,n=i[1]/255,r=i[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var a=t*.41239079926595+n*.35758433938387+r*.18048078840183,l=t*.21263900587151+n*.71516867876775+r*.072192315360733,d=t*.019330818715591+n*.11919477979462+r*.95053215224966;return e=e||rt.whitepoint[2].E,[a*e[0],l*e[1],d*e[2]]};const xa={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,e,t){var n,r,a,l,d,f,p,m,E,w,x,R,N;if(a=i[0],l=i[1],d=i[2],a===0)return[0,0,0];var P=.0011070564598794539;return e=e||"D65",t=t||2,E=rt.whitepoint[t][e][0],w=rt.whitepoint[t][e][1],x=rt.whitepoint[t][e][2],R=4*E/(E+15*w+3*x),N=9*w/(E+15*w+3*x),n=l/(13*a)+R||0,r=d/(13*a)+N||0,p=a>8?w*Math.pow((a+16)/116,3):w*a*P,f=p*9*n/(4*r)||0,m=p*(12-3*n-20*r)/(4*r)||0,[f,p,m]}};rt.luv=function(i,e,t){var n,r,a,l,d,f,p,m,E,w,x,R,N,P=.008856451679035631,z=903.2962962962961;e=e||"D65",t=t||2,E=rt.whitepoint[t][e][0],w=rt.whitepoint[t][e][1],x=rt.whitepoint[t][e][2],R=4*E/(E+15*w+3*x),N=9*w/(E+15*w+3*x),f=i[0],p=i[1],m=i[2],n=4*f/(f+15*p+3*m)||0,r=9*p/(f+15*p+3*m)||0;var F=p/w;return a=F<=P?z*F:116*Math.pow(F,1/3)-16,l=13*a*(n-R),d=13*a*(r-N),[a,l,d]};xa.lchuv=function(i){var e=i[0],t=i[1],n=i[2],r=Math.sqrt(t*t+n*n),a=Math.atan2(n,t),l=a*360/2/Math.PI;return l<0&&(l+=360),[e,r,l]};rt.lchuv=function(i){return xa.lchuv(rt.luv(i))};const Po={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Mo={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function xu(i){var m,E;var e,t=[],n=1,r;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),Po[i])t=Po[i].slice(),r="rgb";else if(i==="transparent")n=0,r="rgb",t=[0,0,0];else if(i[0]==="#"){var a=i.slice(1),l=a.length,d=l<=4;n=1,d?(t=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],l===4&&(n=parseInt(a[3]+a[3],16)/255)):(t=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],l===8&&(n=parseInt(a[6]+a[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var f=e[1];r=f.replace(/a$/,"");var p=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(w,x){if(w[w.length-1]==="%")return w=parseFloat(w)/100,x===3?w:r==="rgb"?w*255:r[0]==="h"||r[0]==="l"&&!x?w*100:r==="lab"?w*125:r==="lch"?x<2?w*150:w*360:r[0]==="o"&&!x?w:r==="oklab"?w*.4:r==="oklch"?x<2?w*.4:w*360:w;if(r[x]==="h"||x===2&&r[r.length-1]==="h"){if(Mo[w]!==void 0)return Mo[w];if(w.endsWith("deg"))return parseFloat(w);if(w.endsWith("turn"))return parseFloat(w)*360;if(w.endsWith("grad"))return parseFloat(w)*360/400;if(w.endsWith("rad"))return parseFloat(w)*180/Math.PI}return w==="none"?0:parseFloat(w)}),n=t.length>p?t.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(t=i.match(/([0-9]+)/g).map(function(w){return parseFloat(w)}),r=((E=(m=i.match(/([a-z])/ig))==null?void 0:m.join(""))==null?void 0:E.toLowerCase())||"rgb");return{space:r,values:t,alpha:n}}const Fr={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var e=i[0]/360,t=i[1]/100,n=i[2]/100,r,a,l,d,f,p=0;if(t===0)return f=n*255,[f,f,f];for(a=n<.5?n*(1+t):n+t-n*t,r=2*n-a,d=[0,0,0];p<3;)l=e+1/3*-(p-1),l<0?l++:l>1&&l--,f=6*l<1?r+(a-r)*6*l:2*l<1?a:3*l<2?r+(a-r)*(2/3-l)*6:r,d[p++]=f*255;return d}};Qi.hsl=function(i){var e=i[0]/255,t=i[1]/255,n=i[2]/255,r=Math.min(e,t,n),a=Math.max(e,t,n),l=a-r,d,f,p;return a===r?d=0:e===a?d=(t-n)/l:t===a?d=2+(n-e)/l:n===a&&(d=4+(e-t)/l),d=Math.min(d*60,360),d<0&&(d+=360),p=(r+a)/2,a===r?f=0:p<=.5?f=l/(a+r):f=l/(2-a-r),[d,f*100,p*100]};function wu(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var e,t=xu(i);if(!t.space)return[];const n=t.space[0]==="h"?Fr.min:Qi.min,r=t.space[0]==="h"?Fr.max:Qi.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],n[0]),r[0]),e[1]=Math.min(Math.max(t.values[1],n[1]),r[1]),e[2]=Math.min(Math.max(t.values[2],n[2]),r[2]),t.space[0]==="h"&&(e=Fr.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}function Tu(i){return typeof i=="string"?i:Su(i)}const bu=1024,ui={};let kr=0;function Cu(i){if(ui.hasOwnProperty(i))return ui[i];if(kr>=bu){let t=0;for(const n in ui)(t++&3)===0&&(delete ui[n],--kr)}const e=wu(i);if(e.length!==4)throw new Error('Failed to parse "'+i+'" as color');for(const t of e)if(isNaN(t))throw new Error('Failed to parse "'+i+'" as color');return Ru(e),ui[i]=e,++kr,e}function Oo(i){return Array.isArray(i)?i:Cu(i)}function Ru(i){return i[0]=Ge(i[0]+.5|0,0,255),i[1]=Ge(i[1]+.5|0,0,255),i[2]=Ge(i[2]+.5|0,0,255),i[3]=Ge(i[3],0,1),i}function Su(i){let e=i[0];e!=(e|0)&&(e=e+.5|0);let t=i[1];t!=(t|0)&&(t=t+.5|0);let n=i[2];n!=(n|0)&&(n=n+.5|0);const r=i[3]===void 0?1:Math.round(i[3]*100)/100;return"rgba("+e+","+t+","+n+","+r+")"}function Bn(i,e,t,n){let r;return t&&t.length?r=t.shift():Jo?r=new OffscreenCanvas(i||300,e||300):r=document.createElement("canvas"),i&&(r.width=i),e&&(r.height=e),r.getContext("2d",n)}function _s(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}function Ji(i,e){const t=e.parentNode;t&&t.replaceChild(i,e)}function es(i){return i&&i.parentNode?i.parentNode.removeChild(i):null}function Iu(i){for(;i.lastChild;)i.removeChild(i.lastChild)}function Lu(i,e){const t=i.childNodes;for(let n=0;;++n){const r=t[n],a=e[n];if(!r&&!a)break;if(r!==a){if(!r){i.appendChild(a);continue}if(!a){i.removeChild(r),--n;continue}i.insertBefore(a,r)}}}const Di="ol-hidden",Jn="ol-unselectable",No="ol-unsupported",hr="ol-control",Do="ol-collapsed",Au=new Wt,ge={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Pu extends Wt{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[ge.OPACITY]=e.opacity!==void 0?e.opacity:1,Ee(typeof t[ge.OPACITY]=="number","Layer opacity must be a number"),t[ge.VISIBLE]=e.visible!==void 0?e.visible:!0,t[ge.Z_INDEX]=e.zIndex,t[ge.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[ge.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[ge.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[ge.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=Ge(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Ie()}getLayerStatesArray(e){return Ie()}getExtent(){return this.get(ge.EXTENT)}getMaxResolution(){return this.get(ge.MAX_RESOLUTION)}getMinResolution(){return this.get(ge.MIN_RESOLUTION)}getMinZoom(){return this.get(ge.MIN_ZOOM)}getMaxZoom(){return this.get(ge.MAX_ZOOM)}getOpacity(){return this.get(ge.OPACITY)}getSourceState(){return Ie()}getVisible(){return this.get(ge.VISIBLE)}getZIndex(){return this.get(ge.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ge.EXTENT,e)}setMaxResolution(e){this.set(ge.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ge.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ge.MAX_ZOOM,e)}setMinZoom(e){this.set(ge.MIN_ZOOM,e)}setOpacity(e){Ee(typeof e=="number","Layer opacity must be a number"),this.set(ge.OPACITY,e)}setVisible(e){this.set(ge.VISIBLE,e)}setZIndex(e){this.set(ge.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const wa=Pu,ut={ANIMATING:0,INTERACTING:1},Pt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Mu=42,ys=256;function Fo(i,e,t){return function(n,r,a,l,d){if(!n)return;if(!r&&!e)return n;const f=e?0:a[0]*r,p=e?0:a[1]*r,m=d?d[0]:0,E=d?d[1]:0;let w=i[0]+f/2+m,x=i[2]-f/2+m,R=i[1]+p/2+E,N=i[3]-p/2+E;w>x&&(w=(x+w)/2,x=w),R>N&&(R=(N+R)/2,N=R);let P=Ge(n[0],w,x),z=Ge(n[1],R,N);if(l&&t&&r){const F=30*r;P+=-F*Math.log(1+Math.max(0,w-n[0])/F)+F*Math.log(1+Math.max(0,n[0]-x)/F),z+=-F*Math.log(1+Math.max(0,R-n[1])/F)+F*Math.log(1+Math.max(0,n[1]-N)/F)}return[P,z]}}function Ou(i){return i}function vs(i,e,t,n){const r=we(e)/t[0],a=Qe(e)/t[1];return n?Math.min(i,Math.max(r,a)):Math.min(i,Math.min(r,a))}function Es(i,e,t){let n=Math.min(i,e);const r=50;return n*=Math.log(1+r*Math.max(0,i/e-1))/r+1,t&&(n=Math.max(n,t),n/=Math.log(1+r*Math.max(0,t/i-1))/r+1),Ge(n,t/2,e*2)}function Nu(i,e,t,n){return e=e!==void 0?e:!0,function(r,a,l,d){if(r!==void 0){const f=i[0],p=i[i.length-1],m=t?vs(f,t,l,n):f;if(d)return e?Es(r,m,p):Ge(r,p,m);const E=Math.min(m,r),w=Math.floor(nr(i,E,a));return i[w]>m&&w<i.length-1?i[w+1]:i[w]}}}function Du(i,e,t,n,r,a){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(l,d,f,p){if(l!==void 0){const m=r?vs(e,r,f,a):e;if(p)return n?Es(l,m,t):Ge(l,t,m);const E=1e-9,w=Math.ceil(Math.log(e/m)/Math.log(i)-E),x=-d*(.5-E)+.5,R=Math.min(m,l),N=Math.floor(Math.log(e/R)/Math.log(i)+x),P=Math.max(w,N),z=e/Math.pow(i,P);return Ge(z,t,m)}}}function ko(i,e,t,n,r){return t=t!==void 0?t:!0,function(a,l,d,f){if(a!==void 0){const p=n?vs(i,n,d,r):i;return!t||!f?Ge(a,e,p):Es(a,p,e)}}}function xs(i){if(i!==void 0)return 0}function jo(i){if(i!==void 0)return i}function Fu(i){const e=2*Math.PI/i;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function ku(i){const e=i===void 0?zi(5):i;return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function Ta(i){return Math.pow(i,3)}function ei(i){return 1-Ta(1-i)}function ju(i){return 3*i*i-2*i*i*i}function Gu(i){return i}const jr=0;class zu extends Wt{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=fs(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&ha(),e.center&&(e.center=qt(e.center,this.projection_)),e.extent&&(e.extent=sn(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const d in Pt)delete t[d];this.setProperties(t,!0);const n=Uu(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=Xu(e),a=n.constraint,l=qu(e);this.constraints_={center:r,resolution:a,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const a=this.getResolution(),l=a/2*(r[3]-t[3]+t[1]-r[1]),d=a/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+l,n[1]-d])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=qt(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=qt(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===t){n&&Fi(n,!0);return}let a=Date.now(),l=this.targetCenter_.slice(),d=this.targetResolution_,f=this.targetRotation_;const p=[];for(;r<t;++r){const m=arguments[r],E={start:a,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||ju,callback:n};if(m.center&&(E.sourceCenter=l,E.targetCenter=m.center.slice(),l=E.targetCenter),m.zoom!==void 0?(E.sourceResolution=d,E.targetResolution=this.getResolutionForZoom(m.zoom),d=E.targetResolution):m.resolution&&(E.sourceResolution=d,E.targetResolution=m.resolution,d=E.targetResolution),m.rotation!==void 0){E.sourceRotation=f;const w=Wn(m.rotation-f+Math.PI,2*Math.PI)-Math.PI;E.targetRotation=f+w,f=E.targetRotation}Hu(E)?E.complete=!0:a+=E.duration,p.push(E)}this.animations_.push(p),this.setHint(ut.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ut.ANIMATING]>0}getInteracting(){return this.hints_[ut.INTERACTING]>0}cancelAnimations(){this.setHint(ut.ANIMATING,-this.hints_[ut.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&Fi(r[0].callback,!1),!e)for(let a=0,l=r.length;a<l;++a){const d=r[a];if(!d.complete){e=d.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let a=!0;for(let l=0,d=r.length;l<d;++l){const f=r[l];if(f.complete)continue;const p=e-f.start;let m=f.duration>0?p/f.duration:1;m>=1?(f.complete=!0,m=1):a=!1;const E=f.easing(m);if(f.sourceCenter){const w=f.sourceCenter[0],x=f.sourceCenter[1],R=f.targetCenter[0],N=f.targetCenter[1];this.nextCenter_=f.targetCenter;const P=w+E*(R-w),z=x+E*(N-x);this.targetCenter_=[P,z]}if(f.sourceResolution&&f.targetResolution){const w=E===1?f.targetResolution:f.sourceResolution+E*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(w,0,x,!0);this.targetCenter_=this.calculateCenterZoom(R,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=w,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const w=E===1?Wn(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+E*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(w,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=w}if(this.applyTargetState_(!0),t=!0,!f.complete)break}if(a){this.animations_[n]=null,this.setHint(ut.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=r[0].callback;l&&Fi(l,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return r!==void 0&&(n=[r[0]-t[0],r[1]-t[1]],us(n,e-this.getRotation()),Fc(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),a=this.getResolution();if(r!==void 0&&a!==void 0){const l=t[0]-e*(t[0]-r[0])/a,d=t[1]-e*(t[1]-r[1])/a;n=[l,d]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Jr(e,this.getProjection())}getCenterInternal(){return this.get(Pt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return Vc(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Ee(t,"The view center is not defined");const n=this.getResolution();Ee(n!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ee(r!==void 0,"The view rotation is not defined"),fi(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Pt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(sn(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=we(e)/t[0],r=Qe(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(a){return t/Math.pow(e,a*r)}}getRotation(){return this.get(Pt.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,a=Math.log(n/r)/t;return function(l){return Math.log(n/l)/t/a}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const a=this.padding_;if(a){const l=this.getViewportSizeMinusPadding_();r=Gr(r,this.getViewportSize_(),[l[0]/2+a[3],l[1]/2+a[0]],t,n)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,r;if(this.resolutions_){const a=nr(this.resolutions_,e,1);t=a,n=this.resolutions_[a],a==this.resolutions_.length-1?r=2:r=n/this.resolutions_[a+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Ge(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,Ge(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(Ee(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ee(!Cn(e),"Cannot fit empty extent provided as `geometry`");const r=sn(e,this.getProjection());n=Lo(r)}else if(e.getType()==="Circle"){const r=sn(e.getExtent(),this.getProjection());n=Lo(r),n.rotate(this.getRotation(),xn(r))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),a=e.getFlatCoordinates(),l=e.getStride();let d=1/0,f=1/0,p=-1/0,m=-1/0;for(let E=0,w=a.length;E<w;E+=l){const x=a[E]*n-a[E+1]*r,R=a[E]*r+a[E+1]*n;d=Math.min(d,x),f=Math.min(f,R),p=Math.max(p,x),m=Math.max(m,R)}return[d,f,p,m]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],a=t.nearest!==void 0?t.nearest:!1;let l;t.minResolution!==void 0?l=t.minResolution:t.maxZoom!==void 0?l=this.getResolutionForZoom(t.maxZoom):l=0;const d=this.rotatedExtentForGeometry(e);let f=this.getResolutionForExtentInternal(d,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);f=isNaN(f)?l:Math.max(f,l),f=this.getConstrainedResolution(f,a?0:1);const p=this.getRotation(),m=Math.sin(p),E=Math.cos(p),w=xn(d);w[0]+=(r[1]-r[3])/2*f,w[1]+=(r[0]-r[2])/2*f;const x=w[0]*E-w[1]*m,R=w[1]*E+w[0]*m,N=this.getConstrainedCenter([x,R],f),P=t.callback?t.callback:qi;t.duration!==void 0?this.animateInternal({resolution:f,center:N,duration:t.duration,easing:t.easing},P):(this.targetResolution_=f,this.targetCenter_=N,this.applyTargetState_(!1,!0),Fi(P,!0))}centerOn(e,t,n){this.centerOnInternal(qt(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(Gr(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let a;const l=this.padding_;if(l&&e){const d=this.getViewportSizeMinusPadding_(-n),f=Gr(e,r,[d[0]/2+l[3],d[1]/2+l[0]],t,n);a=[e[0]-f[0],e[1]-f[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=Jr(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&qt(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(a,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=qt(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&qt(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),a=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,a,n),d=this.constraints_.center(this.targetCenter_,l,a,n,this.calculateCenterShift(this.targetCenter_,l,r,a));this.get(Pt.ROTATION)!==r&&this.set(Pt.ROTATION,r),this.get(Pt.RESOLUTION)!==l&&(this.set(Pt.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!d||!this.get(Pt.CENTER)||!Vi(this.get(Pt.CENTER),d))&&this.set(Pt.CENTER,d),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const r=t||0,a=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(a),d=this.constraints_.resolution(this.targetResolution_,r,l),f=this.constraints_.center(this.targetCenter_,d,l,!1,this.calculateCenterShift(this.targetCenter_,d,a,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=d,this.targetRotation_=a,this.targetCenter_=f,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==d||this.getRotation()!==a||!this.getCenterInternal()||!Vi(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:f,resolution:d,duration:e,easing:ei,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ut.INTERACTING,1)}endInteraction(e,t,n){n=n&&qt(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){!this.getInteracting()||(this.setHint(ut.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function Fi(i,e){setTimeout(function(){i(e)},0)}function Xu(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return Fo(i.extent,i.constrainOnlyCenter,t)}const e=fs(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,Fo(t,!1,!1)}return Ou}function Uu(i){let e,t,n,l=i.minZoom!==void 0?i.minZoom:jr,d=i.maxZoom!==void 0?i.maxZoom:28;const f=i.zoomFactor!==void 0?i.zoomFactor:2,p=i.multiWorld!==void 0?i.multiWorld:!1,m=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,E=i.showFullExtent!==void 0?i.showFullExtent:!1,w=fs(i.projection,"EPSG:3857"),x=w.getExtent();let R=i.constrainOnlyCenter,N=i.extent;if(!p&&!N&&w.isGlobal()&&(R=!1,N=x),i.resolutions!==void 0){const P=i.resolutions;t=P[l],n=P[d]!==void 0?P[d]:P[P.length-1],i.constrainResolution?e=Nu(P,m,!R&&N,E):e=ko(t,n,m,!R&&N,E)}else{const z=(x?Math.max(we(x),Qe(x)):360*Yn.degrees/w.getMetersPerUnit())/ys/Math.pow(2,jr),F=z/Math.pow(2,28-jr);t=i.maxResolution,t!==void 0?l=0:t=z/Math.pow(f,l),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(f,d):n=z/Math.pow(f,d):n=F),d=l+Math.floor(Math.log(t/n)/Math.log(f)),n=t/Math.pow(f,d-l),i.constrainResolution?e=Du(f,t,n,m,!R&&N,E):e=ko(t,n,m,!R&&N,E)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:l,zoomFactor:f}}function qu(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?ku():t===!1?jo:typeof t=="number"?Fu(t):jo}return xs}function Hu(i){return!(i.sourceCenter&&i.targetCenter&&!Vi(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Gr(i,e,t,n,r){const a=Math.cos(-r);let l=Math.sin(-r),d=i[0]*a-i[1]*l,f=i[1]*a+i[0]*l;d+=(e[0]/2-t[0])*n,f+=(t[1]-e[1]/2)*n,l=-l;const p=d*a-f*l,m=f*a+d*l;return[p,m]}const kt=zu;class Zu extends wa{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ge.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ge.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Re(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ae(e,ie.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const n=this.getMapInternal();!e&&n&&(e=n.getView()),e instanceof kt?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(l=>l.layer===this):r=this.getLayerState();const a=this.getExtent();return ws(r,t.viewState)&&(!a||bn(a,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const n=this.getSource();if(n&&(t=n.getAttributions()),!t)return[];const r=e instanceof kt?e.getViewStateAndExtent():e;let a=t(r);return Array.isArray(a)||(a=[a]),a}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(ge.MAP,e)}getMapInternal(){return this.get(ge.MAP)}setMap(e){this.mapPrecomposeKey_&&(Re(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Re(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ae(e,ln.PRECOMPOSE,function(t){const r=t.frameState.layerStatesArray,a=this.getLayerState(!1);Ee(!r.some(function(l){return l.layer===a.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(a)},this),this.mapRenderKey_=ae(this,ie.CHANGE,e.render,e),this.changed())}setSource(e){this.set(ge.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function ws(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}const dr=Zu;class ba extends or{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state=typeof r=="function"?ve.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(ie.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==ve.IDLE&&this.loader){this.state=ve.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;tc(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(n=>{"image"in n&&(this.image_=n.image),"extent"in n&&(this.extent=n.extent),"resolution"in n&&(this.resolution=n.resolution),"pixelRatio"in n&&(this.pixelRatio_=n.pixelRatio),(n instanceof HTMLImageElement||n instanceof ImageBitmap||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement)&&(this.image_=n),this.state=ve.LOADED}).catch(n=>{this.state=ve.ERROR,console.error(n)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Ku(i,e,t){const n=i;let r=!0,a=!1,l=!1;const d=[Hi(n,ie.LOAD,function(){l=!0,a||e()})];return n.src&&as?(a=!0,n.decode().then(function(){r&&e()}).catch(function(f){r&&(l?e():t())})):d.push(Hi(n,ie.ERROR,t)),function(){r=!1,d.forEach(Re)}}function Wu(i,e){return new Promise((t,n)=>{function r(){l(),t(i)}function a(){l(),n(new Error("Image load error"))}function l(){i.removeEventListener("load",r),i.removeEventListener("error",a)}i.addEventListener("load",r),i.addEventListener("error",a),e&&(i.src=e)})}function Vu(i,e){return e&&(i.src=e),i.src&&as?new Promise((t,n)=>i.decode().then(()=>t(i)).catch(r=>i.complete&&i.width?t(i):n(r))):Wu(i)}function Ca(i,e){return e&&(i.src=e),i.src&&as&&hc?i.decode().then(()=>createImageBitmap(i)).catch(t=>{if(i.complete&&i.width)return i;throw t}):Vu(i)}class Yu{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];(e++&3)===0&&!n.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,n){const r=Go(e,t,n);return r in this.cache_?this.cache_[r]:null}set(e,t,n,r){const a=Go(e,t,n);this.cache_[a]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Go(i,e,t){const n=t?Tu(t):"null";return e+":"+i+":"+n}const Ra=new Yu;class Bu extends $n{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Ie()}getData(e){return null}prepareFrame(e){return Ie()}renderFrame(e,t){return Ie()}loadedTileCallback(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}createLoadedTileFinder(e,t,n){return(r,a)=>{const l=this.loadedTileCallback.bind(this,n,r);return e.forEachLoadedTile(t,r,a,l)}}forEachFeatureAtCoordinate(e,t,n,r,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===ve.LOADED||t.getState()===ve.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=ve.LOADED&&t!=ve.ERROR&&e.addEventListener(ie.CHANGE,this.boundHandleImageChange_),t==ve.IDLE&&(e.load(),t=e.getState()),t==ve.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const $u=Bu;class Qu extends Kt{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}}const Sa=Qu;let zn=null;function Ju(){zn=Bn(1,1,void 0,{willReadFrequently:!0})}class eh extends $u{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Hn(),this.pixelTransform=Hn(),this.inversePixelTransform=Hn(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,n){zn||Ju(),zn.clearRect(0,0,1,1);let r;try{zn.drawImage(e,t,n,1,1,0,0,1,1),r=zn.getImageData(0,0,1,1).data}catch{return zn=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let a,l;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&ir(Oo(e.style.backgroundColor),Oo(n)))){const d=e.firstElementChild;d instanceof HTMLCanvasElement&&(l=d.getContext("2d"))}if(l&&l.canvas.style.transform===t?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=r;let d=a.style;d.position="absolute",d.width="100%",d.height="100%",l=Bn();const f=l.canvas;a.appendChild(f),d=f.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=a,this.context=l}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=Tn(n),a=ur(n),l=cr(n),d=lr(n);vt(t.coordinateToPixelTransform,r),vt(t.coordinateToPixelTransform,a),vt(t.coordinateToPixelTransform,l),vt(t.coordinateToPixelTransform,d);const f=this.inversePixelTransform;vt(f,r),vt(f,a),vt(f,l),vt(f,d),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(d[0]),Math.round(d[1])),e.clip()}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const a=new Sa(e,this.inversePixelTransform,n,t);r.dispatchEvent(a)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(ln.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(ln.POSTRENDER,e,t)}getRenderTransform(e,t,n,r,a,l,d){const f=a/2,p=l/2,m=r/t,E=-m,w=-e[0]+d,x=-e[1];return En(this.tempTransform,f,p,m,E,-n,w,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const Ia=eh;class th extends Wt{constructor(e){super(),this.projection=ze(e.projection),this.attributions_=zo(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=zo(e),this.changed()}setState(e){this.state_=e,this.changed()}}function zo(i){return i?Array.isArray(i)?function(e){return i}:typeof i=="function"?i:function(e){return[i]}:null}const La=th,B={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class nh extends or{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=n.transition===void 0?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(ie.CHANGE)}release(){this.state===B.ERROR&&this.setState(B.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==B.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let t=this;do{if(e.getState()==B.LOADED){e.interimTile=null;break}e.getState()==B.LOADING?t=e:e.getState()==B.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==B.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Ie()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(!n)n=t,this.transitionStarts_[e]=n;else if(n===-1)return 1;const r=t-n+1e3/60;return r>=this.transition_?1:Ta(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const Aa=nh;class ih extends Aa{constructor(e,t,n,r,a,l){super(e,t,l),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=B.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=B.ERROR,this.unlistenImage_(),this.image_=rh(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=B.LOADED:this.state=B.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==B.ERROR&&(this.state=B.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==B.IDLE&&(this.state=B.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ku(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function rh(){const i=Bn(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}const Pa=ih;class sh{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const a=this.points_[t]-this.points_[n],l=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(l,a),this.initialVelocity_=Math.sqrt(a*a+l*l)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const oh=sh;class ah extends ss{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Ie()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;En(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),ls(r,n)}forEachFeatureAtCoordinate(e,t,n,r,a,l,d,f){let p;const m=t.viewState;function E(U,u,V,re){return a.call(l,u,U?V:null,re)}const w=m.projection,x=la(e.slice(),w),R=[[0,0]];if(w.canWrapX()&&r){const U=w.getExtent(),u=we(U);R.push([-u,0],[u,0])}const N=t.layerStatesArray,P=N.length,z=[],F=[];for(let U=0;U<R.length;U++)for(let u=P-1;u>=0;--u){const V=N[u],re=V.layer;if(re.hasRenderer()&&ws(V,m)&&d.call(f,re)){const le=re.getRenderer(),fe=re.getSource();if(le&&fe){const he=fe.getWrapX()?x:e,ce=E.bind(null,V.managed);F[0]=he[0]+R[U][0],F[1]=he[1]+R[U][1],p=le.forEachFeatureAtCoordinate(F,t,n,ce,z)}if(p)return p}}if(z.length===0)return;const G=1/z.length;return z.forEach((U,u)=>U.distanceSq+=u*G),z.sort((U,u)=>U.distanceSq-u.distanceSq),z.some(U=>p=U.callback(U.feature,U.layer,U.geometry)),p}hasFeatureAtCoordinate(e,t,n,r,a,l){return this.forEachFeatureAtCoordinate(e,t,n,r,Ui,this,a,l)!==void 0}getMap(){return this.map_}renderFrame(e){Ie()}flushDeclutterItems(e){}scheduleExpireIconCache(e){Ra.canExpireCache()&&e.postRenderFunctions.push(lh)}}function lh(i,e){Ra.expire()}const ch=ah;class uh extends ch{constructor(e){super(e),this.fontChangeListenerKey_=ae(Au,di.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Jn+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new Sa(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){Re(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ln.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(l,d){return l.zIndex-d.zIndex}),n=e.viewState;this.children_.length=0;const r=this.declutterLayers_;r.length=0;let a=null;for(let l=0,d=t.length;l<d;++l){const f=t[l];e.layerIndex=l;const p=f.layer,m=p.getSourceState();if(!ws(f,n)||m!="ready"&&m!="undefined"){p.unrender();continue}const E=p.render(e,a);!E||(E!==a&&(this.children_.push(E),a=E),"getDeclutter"in p&&r.push(p))}this.flushDeclutterItems(e),Lu(this.element_,this.children_),this.dispatchRenderEvent(ln.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let n=t.length-1;n>=0;--n)t[n].renderDeclutter(e);t.length=0}}const hh=uh;class Ht extends Kt{constructor(e,t){super(e),this.layer=t}}const zr={LAYERS:"layers"};class Ts extends wa{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(zr.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new Zt(n.slice(),{unique:!0}):Ee(typeof n.getArray=="function","Expected `layers` to be an array or a `Collection`"):n=new Zt(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Re),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ae(e,Tt.ADD,this.handleLayersAdd_,this),ae(e,Tt.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(Re);sr(this.listenerKeys_);const t=e.getArray();for(let n=0,r=t.length;n<r;n++){const a=t[n];this.registerLayerListeners_(a),this.dispatchEvent(new Ht("addlayer",a))}this.changed()}registerLayerListeners_(e){const t=[ae(e,di.PROPERTYCHANGE,this.handleLayerChange_,this),ae(e,ie.CHANGE,this.handleLayerChange_,this)];e instanceof Ts&&t.push(ae(e,"addlayer",this.handleLayerGroupAdd_,this),ae(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ht(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ht("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ht("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ht("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=ht(t);this.listenerKeys_[n].forEach(Re),delete this.listenerKeys_[n],this.dispatchEvent(new Ht("removelayer",t)),this.changed()}getLayers(){return this.get(zr.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let r=0,a=n.length;r<a;++r)this.dispatchEvent(new Ht("removelayer",n[r]))}this.set(zr.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(t)});const r=this.getLayerState();let a=r.zIndex;!e&&r.zIndex===void 0&&(a=0);for(let l=n,d=t.length;l<d;l++){const f=t[l];f.opacity*=r.opacity,f.visible=f.visible&&r.visible,f.maxResolution=Math.min(f.maxResolution,r.maxResolution),f.minResolution=Math.max(f.minResolution,r.minResolution),f.minZoom=Math.max(f.minZoom,r.minZoom),f.maxZoom=Math.min(f.maxZoom,r.maxZoom),r.extent!==void 0&&(f.extent!==void 0?f.extent=vn(f.extent,r.extent):f.extent=r.extent),f.zIndex===void 0&&(f.zIndex=a)}return t}getSourceState(){return"ready"}}const Rn=Ts,dh=Object.freeze(Object.defineProperty({__proto__:null,GroupEvent:Ht,default:Rn},Symbol.toStringTag,{value:"Module"}));class fh extends Kt{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}}const Xn=fh;class gh extends Xn{constructor(e,t,n,r,a,l){super(e,t,a),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const en=gh,Se={SINGLECLICK:"singleclick",CLICK:ie.CLICK,DBLCLICK:ie.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},pi={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class ph extends or{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=ae(n,pi.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ae(n,pi.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(ie.TOUCHMOVE,this.boundHandleTouchMove_,ea?{passive:!1}:!1)}emulateClick_(e){let t=new en(Se.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new en(Se.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new en(Se.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Se.POINTERUP||t.type==Se.POINTERCANCEL){delete this.trackedTouches_[n];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Se.POINTERDOWN||t.type==Se.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new en(Se.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Re),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new en(Se.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ae(n,Se.POINTERMOVE,this.handlePointerMove_,this),ae(n,Se.POINTERUP,this.handlePointerUp_,this),ae(this.element_,Se.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(ae(this.element_.getRootNode(),Se.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new en(Se.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new en(Se.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Re(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ie.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Re(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Re),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const mh=ph,tn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},je={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},er=1/0;class _h{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,sr(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){Ee(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=er?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,a=t[e],l=n[e],d=e;for(;e<r>>1;){const f=this.getLeftChildIndex_(e),p=this.getRightChildIndex_(e),m=p<r&&n[p]<n[f]?p:f;t[e]=t[m],n[e]=n[m],e=m}t[e]=a,n[e]=l,this.siftDown_(d,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,a=n[t],l=r[t];for(;t>e;){const d=this.getParentIndex_(t);if(r[d]>l)n[t]=n[d],r[t]=r[d],t=d;else break}n[t]=a,r[t]=l}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const a=t.length;let l,d,f;for(d=0;d<a;++d)l=t[d],f=e(l),f==er?delete this.queuedElements_[this.keyFunction_(l)]:(n[r]=f,t[r++]=l);t.length=r,n.length=r,this.heapify_()}}const yh=_h;class vh extends yh{constructor(e,t){super(function(n){return e.apply(null,n)},function(n){return n[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(ie.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===B.LOADED||n===B.ERROR||n===B.EMPTY){n!==B.ERROR&&t.removeEventListener(ie.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0,r,a,l;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;)a=this.dequeue()[0],l=a.getKey(),r=a.getState(),r===B.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++n,a.load())}}const Eh=vh;function xh(i,e,t,n,r){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][e.getKey()])return er;const a=i.viewState.center,l=n[0]-a[0],d=n[1]-a[1];return 65536*Math.log(r)+Math.sqrt(l*l+d*d)/r}class wh extends Wt{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){es(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&es(this.element);for(let t=0,n=this.listenerKeys.length;t<n;++t)Re(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==qi&&this.listenerKeys.push(ae(e,tn.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const Sn=wh,Th=Object.freeze(Object.defineProperty({__proto__:null,default:Sn},Symbol.toStringTag,{value:"Module"}));class bh extends Sn{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",l=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=l):this.collapseLabel_=a;const d=e.label!==void 0?e.label:"i";typeof d=="string"?(this.label_=document.createElement("span"),this.label_.textContent=d,this.label_.className=r):this.label_=d;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(ie.CLICK,this.handleClick_.bind(this),!1);const p=t+" "+Jn+" "+hr+(this.collapsed_&&this.collapsible_?" "+Do:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=p,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),n=!this.getMap().getAllLayers().some(r=>r.getSource()&&r.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(n),t}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!ir(t,this.renderedAttributions_)){Iu(this.ulElement_);for(let r=0,a=t.length;r<a;++r){const l=document.createElement("li");l.innerHTML=t[r],this.ulElement_.appendChild(l)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Do),this.collapsed_?Ji(this.collapseLabel_,this.label_):Ji(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const Ch=bh;class Rh extends Sn{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const a=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=t+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(this.label_),l.addEventListener(ie.CLICK,this.handleClick_.bind(this),!1);const d=t+" "+Jn+" "+hr,f=this.element;f.className=d,f.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Di)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const n=t.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ei}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const r="rotate("+n+"rad)";if(this.autoHide_){const a=this.element.classList.contains(Di);!a&&n===0?this.element.classList.add(Di):a&&n!==0&&this.element.classList.remove(Di)}this.label_.style.transform=r}this.rotation_=n}}const Sh=Rh;class Ih extends Sn{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",d=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",f=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",p=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof l=="string"?document.createTextNode(l):l),m.addEventListener(ie.CLICK,this.handleClick_.bind(this,n),!1);const E=document.createElement("button");E.className=a,E.setAttribute("type","button"),E.title=p,E.appendChild(typeof d=="string"?document.createTextNode(d):d),E.addEventListener(ie.CLICK,this.handleClick_.bind(this,-n),!1);const w=t+" "+Jn+" "+hr,x=this.element;x.className=w,x.appendChild(m),x.appendChild(E),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const n=this.getMap().getView();if(!n)return;const r=n.getZoom();if(r!==void 0){const a=n.getConstrainedZoom(r+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:a,duration:this.duration_,easing:ei})):n.setZoom(a)}}}const Lh=Ih;function Ah(i){i=i||{};const e=new Zt;return(i.zoom!==void 0?i.zoom:!0)&&e.push(new Lh(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&e.push(new Sh(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&e.push(new Ch(i.attributionOptions)),e}const Xo={ACTIVE:"active"};class Ph extends Wt{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Xo.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Xo.ACTIVE,e)}setMap(e){this.map_=e}}function Mh(i,e,t){const n=i.getCenterInternal();if(n){const r=[n[0]+e[0],n[1]+e[1]];i.animateInternal({duration:t!==void 0?t:250,easing:Gu,center:i.getConstrainedCenter(r)})}}function bs(i,e,t,n){const r=i.getZoom();if(r===void 0)return;const a=i.getConstrainedZoom(r+e),l=i.getResolutionForZoom(a);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:l,anchor:t,duration:n!==void 0?n:250,easing:ei})}const vi=Ph;class Oh extends vi{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Se.DBLCLICK){const n=e.originalEvent,r=e.map,a=e.coordinate,l=n.shiftKey?-this.delta_:this.delta_,d=r.getView();bs(d,l,a,this.duration_),n.preventDefault(),t=!0}return!t}}const Nh=Oh;class Dh extends vi{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Se.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Se.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==Se.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Se.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Cs(i){const e=i.length;let t=0,n=0;for(let r=0;r<e;r++)t+=i[r].clientX,n+=i[r].clientY;return{clientX:t/e,clientY:n/e}}const Ei=Dh;function ts(i){const e=arguments;return function(t){let n=!0;for(let r=0,a=e.length;r<a&&(n=n&&e[r](t),!!n);++r);return n}}const Fh=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},kh=function(i){const e=i.map.getTargetElement(),t=i.map.getOwnerDocument().activeElement;return e.contains(t)},Ma=function(i){return i.map.getTargetElement().hasAttribute("tabindex")?kh(i):!0},jh=Ui,Oa=function(i){const e=i.originalEvent;return e.button==0&&!(uc&&$o&&e.ctrlKey)},Na=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Gh=function(i){const e=i.originalEvent;return $o?e.metaKey:e.ctrlKey},zh=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Da=function(i){const e=i.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Xr=function(i){const e=i.originalEvent;return Ee(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Xh=function(i){const e=i.originalEvent;return Ee(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class Uh extends Ei{constructor(e){super({stopDown:rr}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:ts(Na,Xh);this.condition_=e.onFocusOnly?ts(Ma,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(Cs(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const a=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],d=e.map.getView();Gc(a,d.getResolution()),us(a,d.getRotation()),d.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),l=n.getCenterInternal(),d=t.getPixelFromCoordinateInternal(l),f=t.getCoordinateFromPixelInternal([d[0]-r*Math.cos(a),d[1]-r*Math.sin(a)]);n.animateInternal({center:n.getConstrainedCenter(f),duration:500,easing:ei})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const n=e.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const qh=Uh;class Hh extends Ei{constructor(e){e=e||{},super({stopDown:rr}),this.condition_=e.condition?e.condition:Fh,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Xr(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===xs)return;const r=t.getSize(),a=e.pixel,l=Math.atan2(r[1]/2-a[1],a[0]-r[0]/2);if(this.lastAngle_!==void 0){const d=l-this.lastAngle_;n.adjustRotationInternal(-d)}this.lastAngle_=l}handleUpEvent(e){return Xr(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Xr(e)&&Oa(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const Zh=Hh;class Kh extends ss{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new gi([r])}getGeometry(){return this.geometry_}}const Wh=Kh,ki={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ur extends Kt{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class Vh extends Ei{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new Wh(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Oa,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],a=n[1]-t[1];return r*r+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ur(ki.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ur(t?ki.BOXEND:ki.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ur(ki.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}const Yh=Vh;class Bh extends Yh{constructor(e){e=e||{};const t=e.condition?e.condition:zh;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const n=this.getMap().getView();let r=this.getGeometry();if(this.out_){const a=n.rotatedExtentForGeometry(r),l=n.getResolutionForExtentInternal(a),d=n.getResolution()/l;r=r.clone(),r.scale(d*d)}n.fitInternal(r,{duration:this.duration_,easing:ei})}}const $h=Bh,_n={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Qh extends vi{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Na(t)&&Da(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==ie.KEYDOWN){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==_n.DOWN||r==_n.LEFT||r==_n.RIGHT||r==_n.UP)){const l=e.map.getView(),d=l.getResolution()*this.pixelDelta_;let f=0,p=0;r==_n.DOWN?p=-d:r==_n.LEFT?f=-d:r==_n.RIGHT?f=d:p=d;const m=[f,p];us(m,l.getRotation()),Mh(l,m,this.duration_),n.preventDefault(),t=!0}}return!t}}const Jh=Qh;class ed extends vi{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!Gh(t)&&Da(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==ie.KEYDOWN||e.type==ie.KEYPRESS){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==="+"||r==="-")){const a=e.map,l=r==="+"?this.delta_:-this.delta_,d=a.getView();bs(d,l,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const td=ed;class nd extends vi{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:jh;this.condition_=e.onFocusOnly?ts(Ma,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==ie.WHEEL)return!0;const n=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let a;if(e.type==ie.WHEEL&&(a=r.deltaY,lc&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Qo),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const d=n.getView();if(this.mode_==="trackpad"&&!(d.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(d.getAnimating()&&d.cancelAnimations(),d.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),d.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=l,!1;this.totalDelta_+=a;const f=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),f),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-Ge(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),bs(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}const id=nd;class rd extends Ei{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=rr),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],a=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(this.lastAngle_!==void 0){const f=a-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=f}this.lastAngle_=a;const l=e.map,d=l.getView();d.getConstraints().rotation!==xs&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Cs(this.targetPointers))),this.rotating_&&(l.render(),d.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}const sd=rd;class od extends Ei{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=rr),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],a=n.clientX-r.clientX,l=n.clientY-r.clientY,d=Math.sqrt(a*a+l*l);this.lastDistance_!==void 0&&(t=this.lastDistance_/d),this.lastDistance_=d;const f=e.map,p=f.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(Cs(this.targetPointers))),f.render(),p.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const n=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}const ad=od;function ld(i){i=i||{};const e=new Zt,t=new oh(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&e.push(new Zh),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&e.push(new Nh({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&e.push(new qh({onFocusOnly:i.onFocusOnly,kinetic:t})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&e.push(new sd),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&e.push(new ad({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(e.push(new Jh),e.push(new td({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&e.push(new id({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&e.push(new $h({duration:i.zoomDuration})),e}function Fa(i){if(i instanceof dr){i.setMapInternal(null);return}i instanceof Rn&&i.getLayers().forEach(Fa)}function ka(i,e){if(i instanceof dr){i.setMapInternal(e);return}if(i instanceof Rn){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n)ka(t[n],e)}}class cd extends Wt{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=ud(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Qo,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Hn(),this.pixelToCoordinateTransform_=Hn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||Ah(),this.interactions=t.interactions||ld({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Eh(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(je.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(je.VIEW,this.handleViewChanged_),this.addChangeListener(je.SIZE,this.handleSizeChanged_),this.addChangeListener(je.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const n=this;e.view&&!(e.view instanceof kt)&&e.view.then(function(r){n.setView(new kt(r))}),this.controls.addEventListener(Tt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Tt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Tt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Tt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Tt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Tt.REMOVE,r=>{const a=r.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){ka(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const a=n.hitTolerance!==void 0?n.hitTolerance:0,l=n.layerFilter!==void 0?n.layerFilter:Ui,d=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,a,d,t,null,l,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(r){n.push(r)},t),n}getAllLayers(){const e=[];function t(n){n.forEach(function(r){r instanceof Rn?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:Ui,a=t.hitTolerance!==void 0?t.hitTolerance:0,l=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,a,l,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),r=this.getSize(),a=n.width/r[0],l=n.height/r[1],d="changedTouches"in e?e.changedTouches[0]:e;return[(d.clientX-n.left)/a,(d.clientY-n.top)/l]}getTarget(){return this.get(je.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Jr(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?vt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(je.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Zt){t.setLayers(e);return}const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const r=e[t];if(!r.visible)continue;const a=r.layer.getRenderer();if(a&&!a.ready)return!0;const l=r.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const t=qt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?vt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(je.SIZE)}getView(){return this.get(je.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return xh(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){t=t||e.type;const n=new en(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===pi.POINTERDOWN||n===ie.WHEEL||n===ie.KEYDOWN){const r=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=t.target;if(this.overlayContainerStopEvent_.contains(l)||!(a===r?r.documentElement:a).contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let a=r.length-1;a>=0;a--){const l=r[a];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,a=r;if(e){const l=e.viewHints;if(l[ut.ANIMATING]||l[ut.INTERACTING]){const d=Date.now()-e.time>8;r=d?0:8,a=d?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(ln.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ln.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Xn(tn.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Xn(tn.LOADSTART,this,e))));const n=this.postRenderFunctions_;for(let r=0,a=n.length;r<a;++r)n[r](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)Re(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ie.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ie.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,es(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new hh(this)),this.mapBrowserEventHandler_=new mh(this,this.moveTolerance_);for(const a in Se)this.mapBrowserEventHandler_.addEventListener(Se[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ie.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ie.WHEEL,this.boundHandleBrowserEvent_,ea?{passive:!1}:!1);const n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[ae(n,ie.KEYDOWN,this.handleBrowserEvent,this),ae(n,ie.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Re(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Re(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ae(e,di.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ae(e,ie.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Re),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ht("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ae(e,di.PROPERTYCHANGE,this.render,this),ae(e,ie.CHANGE,this.render,this),ae(e,"addlayer",this.handleLayerAdd_,this),ae(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;!e||this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Fa(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let a=null;if(t!==void 0&&Ao(t)&&n&&n.isDef()){const l=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=n.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:fi(d.center,d.resolution,d.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:d,viewHints:l,wantedTiles:{},mapId:ht(this),renderTargets:{}},d.nextCenter&&d.nextResolution){const f=isNaN(d.nextRotation)?d.rotation:d.nextRotation;a.nextExtent=fi(d.nextCenter,d.nextResolution,f,t)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r&&(!this.previousExtent_||!Cn(this.previousExtent_)&&!Ki(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Xn(tn.MOVESTART,this,r)),this.previousExtent_=mi(this.previousExtent_)),this.previousExtent_&&!a.viewHints[ut.ANIMATING]&&!a.viewHints[ut.INTERACTING]&&!Ki(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Xn(tn.MOVEEND,this,a)),gc(a.extent,this.previousExtent_))),this.dispatchEvent(new Xn(tn.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(tn.LOADSTART)||this.hasListener(tn.LOADEND)||this.hasListener(ln.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ht("removelayer",t)),this.set(je.LAYERGROUP,e)}setSize(e){this.set(je.SIZE,e)}setTarget(e){this.set(je.TARGET,e)}setView(e){if(!e||e instanceof kt){this.set(je.VIEW,e);return}this.set(je.VIEW,new kt);const t=this;e.then(function(n){t.setView(new kt(n))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),a=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),l=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(a)&&!isNaN(l)&&(t=[a,l],!Ao(t)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ua("No map visible because the map container's width or height are 0."))}const n=this.getSize();t&&(!n||!ir(t,n))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}}function ud(i){let e=null;i.keyboardEventTarget!==void 0&&(e=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const t={},n=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new Rn({layers:i.layers});t[je.LAYERGROUP]=n,t[je.TARGET]=i.target,t[je.VIEW]=i.view instanceof kt?i.view:new kt;let r;i.controls!==void 0&&(Array.isArray(i.controls)?r=new Zt(i.controls.slice()):(Ee(typeof i.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=i.controls));let a;i.interactions!==void 0&&(Array.isArray(i.interactions)?a=new Zt(i.interactions.slice()):(Ee(typeof i.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),a=i.interactions));let l;return i.overlays!==void 0?Array.isArray(i.overlays)?l=new Zt(i.overlays.slice()):(Ee(typeof i.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=i.overlays):l=new Zt,{controls:r,interactions:a,keyboardEventTarget:e,overlays:l,values:t}}const hd=cd;class dd{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return Ee(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return Ee(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}getValues(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var t;return(t=this.entries_[e])==null?void 0:t.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ee(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}}const fd=dd;function ns(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function fr(i,e,t){return i+"/"+e+"/"+t}function ja(i){return fr(i[0],i[1],i[2])}function gd(i){return i.split("/").map(Number)}function pd(i){return(i[1]<<i[0])+i[2]}function md(i,e){const t=i[0],n=i[1],r=i[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const a=e.getFullTileRange(t);return a?a.containsXY(n,r):!0}class _d extends fd{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),n=gd(e)[0];this.forEach(r=>{r.tileCoord[0]!==n&&(this.remove(ja(r.tileCoord)),r.release())})}}const Ga=_d;class za{constructor(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function jn(i,e,t,n,r){return r!==void 0?(r.minX=i,r.maxX=e,r.minY=t,r.maxY=n,r):new za(i,e,t,n)}const Xa=za;var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rs(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}const Ua=.5,vd=10,Uo=.25;class Ed{constructor(e,t,n,r,a,l){this.sourceProj_=e,this.targetProj_=t;let d={};const f=Bi(this.targetProj_,this.sourceProj_);this.transformInv_=function(F){const G=F[0]+"/"+F[1];return d[G]||(d[G]=f(F)),d[G]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&we(r)>=we(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?we(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?we(this.targetProj_.getExtent()):null;const p=Tn(n),m=ur(n),E=cr(n),w=lr(n),x=this.transformInv_(p),R=this.transformInv_(m),N=this.transformInv_(E),P=this.transformInv_(w),z=vd+(l?Math.max(0,Math.ceil(Math.log2(Yr(n)/(l*l*256*256)))):0);if(this.addQuad_(p,m,E,w,x,R,N,P,z),this.wrapsXInSource_){let F=1/0;this.triangles_.forEach(function(G,U,u){F=Math.min(F,G.source[0][0],G.source[1][0],G.source[2][0])}),this.triangles_.forEach(G=>{if(Math.max(G.source[0][0],G.source[1][0],G.source[2][0])-F>this.sourceWorldWidth_/2){const U=[[G.source[0][0],G.source[0][1]],[G.source[1][0],G.source[1][1]],[G.source[2][0],G.source[2][1]]];U[0][0]-F>this.sourceWorldWidth_/2&&(U[0][0]-=this.sourceWorldWidth_),U[1][0]-F>this.sourceWorldWidth_/2&&(U[1][0]-=this.sourceWorldWidth_),U[2][0]-F>this.sourceWorldWidth_/2&&(U[2][0]-=this.sourceWorldWidth_);const u=Math.min(U[0][0],U[1][0],U[2][0]);Math.max(U[0][0],U[1][0],U[2][0])-u<this.sourceWorldWidth_/2&&(G.source=U)}})}d={}}addTriangle_(e,t,n,r,a,l){this.triangles_.push({source:[r,a,l],target:[e,t,n]})}addQuad_(e,t,n,r,a,l,d,f,p){const m=mo([a,l,d,f]),E=this.sourceWorldWidth_?we(m)/this.sourceWorldWidth_:null,w=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&E>.5&&E<1;let R=!1;if(p>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const P=mo([e,t,n,r]);R=we(P)/this.targetWorldWidth_>Uo||R}!x&&this.sourceProj_.isGlobal()&&E&&(R=E>Uo||R)}if(!R&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!bn(m,this.maxSourceExtent_))return;let N=0;if(!R&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(d[0])||!isFinite(d[1])||!isFinite(f[0])||!isFinite(f[1]))){if(p>0)R=!0;else if(N=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(d[0])||!isFinite(d[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),N!=1&&N!=2&&N!=4&&N!=8)return}if(p>0){if(!R){const P=[(e[0]+n[0])/2,(e[1]+n[1])/2],z=this.transformInv_(P);let F;x?F=(Wn(a[0],w)+Wn(d[0],w))/2-Wn(z[0],w):F=(a[0]+d[0])/2-z[0];const G=(a[1]+d[1])/2-z[1];R=F*F+G*G>this.errorThresholdSquared_}if(R){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const P=[(t[0]+n[0])/2,(t[1]+n[1])/2],z=this.transformInv_(P),F=[(r[0]+e[0])/2,(r[1]+e[1])/2],G=this.transformInv_(F);this.addQuad_(e,t,P,F,a,l,z,G,p-1),this.addQuad_(F,P,n,r,G,z,d,f,p-1)}else{const P=[(e[0]+t[0])/2,(e[1]+t[1])/2],z=this.transformInv_(P),F=[(n[0]+r[0])/2,(n[1]+r[1])/2],G=this.transformInv_(F);this.addQuad_(e,P,F,r,a,z,G,f,p-1),this.addQuad_(P,t,n,F,z,l,d,G,p-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(N&11)==0&&this.addTriangle_(e,n,r,a,d,f),(N&14)==0&&this.addTriangle_(e,n,t,a,d,l),N&&((N&13)==0&&this.addTriangle_(t,r,e,l,f,a),(N&7)==0&&this.addTriangle_(t,r,n,l,f,d))}calculateSourceExtent(){const e=wn();return this.triangles_.forEach(function(t,n,r){const a=t.source;Gi(e,a[0]),Gi(e,a[1]),Gi(e,a[2])}),e}getTriangles(){return this.triangles_}}const qa=Ed;let qr;const Vn=[];function qo(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function Hr(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function xd(){if(qr===void 0){const i=Bn(6,6,Vn);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",qo(i,4,5,4,0),qo(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;qr=Hr(e,0)||Hr(e,4)||Hr(e,8),_s(i),Vn.push(i.canvas)}return qr}function tr(i,e,t,n){const r=gs(t,e,i);let a=Yi(e,n,t);const l=e.getMetersPerUnit();l!==void 0&&(a*=l);const d=i.getMetersPerUnit();d!==void 0&&(a/=d);const f=i.getExtent();if(!f||ar(f,r)){const p=Yi(i,a,r)/a;isFinite(p)&&p>0&&(a/=p)}return a}function wd(i,e,t,n){const r=xn(t);let a=tr(i,e,r,n);return(!isFinite(a)||a<=0)&&sa(t,function(l){return a=tr(i,e,l,n),isFinite(a)&&a>0}),a}function Ha(i,e,t,n,r,a,l,d,f,p,m,E,w){const x=Bn(Math.round(t*i),Math.round(t*e),Vn);if(E||(x.imageSmoothingEnabled=!1),f.length===0)return x.canvas;x.scale(t,t);function R(F){return Math.round(F*t)/t}x.globalCompositeOperation="lighter";const N=wn();f.forEach(function(F,G,U){_c(N,F.extent)});let P;if(!w||f.length!==1||p!==0){const F=we(N),G=Qe(N);P=Bn(Math.round(t*F/n),Math.round(t*G/n),Vn),E||(P.imageSmoothingEnabled=!1);const U=t/n;f.forEach(function(u,V,re){const le=u.extent[0]-N[0],fe=-(u.extent[3]-N[3]),he=we(u.extent),ce=Qe(u.extent);u.image.width>0&&u.image.height>0&&P.drawImage(u.image,p,p,u.image.width-2*p,u.image.height-2*p,le*U,fe*U,he*U,ce*U)})}const z=Tn(l);return d.getTriangles().forEach(function(F,G,U){const u=F.source,V=F.target;let re=u[0][0],le=u[0][1],fe=u[1][0],he=u[1][1],ce=u[2][0],st=u[2][1];const Je=R((V[0][0]-z[0])/a),Ke=R(-(V[0][1]-z[1])/a),et=R((V[1][0]-z[0])/a),We=R(-(V[1][1]-z[1])/a),de=R((V[2][0]-z[0])/a),dt=R(-(V[2][1]-z[1])/a),Ae=re,Xe=le;re=0,le=0,fe-=Ae,he-=Xe,ce-=Ae,st-=Xe;const Mt=[[fe,he,0,0,et-Je],[ce,st,0,0,de-Je],[0,0,fe,he,We-Ke],[0,0,ce,st,dt-Ke]],Oe=Nc(Mt);if(!Oe)return;if(x.save(),x.beginPath(),xd()||!E){x.moveTo(et,We);const me=4,xe=Je-et,Ye=Ke-We;for(let tt=0;tt<me;tt++)x.lineTo(et+R((tt+1)*xe/me),We+R(tt*Ye/(me-1))),tt!=me-1&&x.lineTo(et+R((tt+1)*xe/me),We+R((tt+1)*Ye/(me-1)));x.lineTo(de,dt)}else x.moveTo(et,We),x.lineTo(Je,Ke),x.lineTo(de,dt);x.clip(),x.transform(Oe[0],Oe[2],Oe[1],Oe[3],Je,Ke),x.translate(N[0]-Ae,N[3]-Xe);let Ve;if(P)Ve=P.canvas,x.scale(n/t,-n/t);else{const me=f[0],xe=me.extent;Ve=me.image,x.scale(we(xe)/Ve.width,-Qe(xe)/Ve.height)}x.drawImage(Ve,0,0),x.restore()}),P&&(_s(P),Vn.push(P.canvas)),m&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,d.getTriangles().forEach(function(F,G,U){const u=F.target,V=(u[0][0]-z[0])/a,re=-(u[0][1]-z[1])/a,le=(u[1][0]-z[0])/a,fe=-(u[1][1]-z[1])/a,he=(u[2][0]-z[0])/a,ce=-(u[2][1]-z[1])/a;x.beginPath(),x.moveTo(le,fe),x.lineTo(V,re),x.lineTo(he,ce),x.closePath(),x.stroke()}),x.restore()),x.canvas}class Td extends Aa{constructor(e,t,n,r,a,l,d,f,p,m,E,w){super(a,B.IDLE,w),this.renderEdges_=E!==void 0?E:!1,this.pixelRatio_=d,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=r.getTileCoordExtent(this.wrappedTileCoord_),R=this.targetTileGrid_.getExtent();let N=this.sourceTileGrid_.getExtent();const P=R?vn(x,R):x;if(Yr(P)===0){this.state=B.EMPTY;return}const z=e.getExtent();z&&(N?N=vn(N,z):N=z);const F=r.getResolution(this.wrappedTileCoord_[0]),G=wd(e,n,P,F);if(!isFinite(G)||G<=0){this.state=B.EMPTY;return}const U=m!==void 0?m:Ua;if(this.triangulation_=new qa(e,n,P,N,G*U,F),this.triangulation_.getTriangles().length===0){this.state=B.EMPTY;return}this.sourceZ_=t.getZForResolution(G);let u=this.triangulation_.calculateSourceExtent();if(N&&(e.canWrapX()?(u[1]=Ge(u[1],N[1],N[3]),u[3]=Ge(u[3],N[1],N[3])):u=vn(u,N)),!Yr(u))this.state=B.EMPTY;else{const V=t.getTileRangeForExtentAndZ(u,this.sourceZ_);for(let re=V.minX;re<=V.maxX;re++)for(let le=V.minY;le<=V.maxY;le++){const fe=p(this.sourceZ_,re,le,d);fe&&this.sourceTiles_.push(fe)}this.sourceTiles_.length===0&&(this.state=B.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==B.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=B.ERROR;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r=typeof n=="number"?n:n[0],a=typeof n=="number"?n:n[1],l=this.targetTileGrid_.getResolution(t),d=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ha(r,a,this.pixelRatio_,d,this.sourceTileGrid_.getExtent(),l,f,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=B.LOADED}this.changed()}load(){if(this.state==B.IDLE){this.state=B.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const n=t.getState();if(n==B.IDLE||n==B.LOADING){e++;const r=ae(t,ie.CHANGE,function(a){const l=t.getState();(l==B.LOADED||l==B.ERROR||l==B.EMPTY)&&(Re(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,n,r){t.getState()==B.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Re),this.sourcesListenerKeys_=null}release(){this.canvas_&&(_s(this.canvas_.getContext("2d")),Vn.push(this.canvas_),this.canvas_=null),super.release()}}const is=Td;class bd extends dr{constructor(e){e=e||{},super(e)}}const Cd=bd;class Rd extends Ia{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,a=r.resolution,l=this.getLayer().getSource(),d=e.viewHints;let f=e.extent;if(t.extent!==void 0&&(f=vn(f,sn(t.extent,r.projection))),!d[ut.ANIMATING]&&!d[ut.INTERACTING]&&!Cn(f))if(l){const p=r.projection,m=l.getImage(f,a,n,p);m&&(this.loadImage(m)?this.image_=m:m.getState()===ve.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=vt(t.pixelToCoordinateTransform,e.slice()),a=n.getExtent();if(a&&!ar(a,r))return null;const l=this.image_.getExtent(),d=this.image_.getImage(),f=we(l),p=Math.floor(d.width*((r[0]-l[0])/f));if(p<0||p>=d.width)return null;const m=Qe(l),E=Math.floor(d.height*((l[3]-r[1])/m));return E<0||E>=d.height?null:this.getImageData(d,p,E)}renderFrame(e,t){const n=this.image_,r=n.getExtent(),a=n.getResolution(),[l,d]=Array.isArray(a)?a:[a,a],f=n.getPixelRatio(),p=e.layerStatesArray[e.layerIndex],m=e.pixelRatio,E=e.viewState,w=E.center,x=E.resolution,R=m*l/(x*f),N=m*d/(x*f),P=e.extent,z=E.resolution,F=E.rotation,G=Math.round(we(P)/z*m),U=Math.round(Qe(P)/z*m);En(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/m,1/m,F,-G/2,-U/2),ls(this.inversePixelTransform,this.pixelTransform);const u=ta(this.pixelTransform);this.useContainer(t,u,this.getBackground(e));const V=this.context,re=V.canvas;re.width!=G||re.height!=U?(re.width=G,re.height=U):this.containerReused||V.clearRect(0,0,G,U);let le=!1,fe=!0;if(p.extent){const Ke=sn(p.extent,E.projection);fe=bn(Ke,e.extent),le=fe&&!Zi(Ke,e.extent),le&&this.clipUnrotated(V,e,Ke)}const he=n.getImage(),ce=En(this.tempTransform,G/2,U/2,R,N,0,f*(r[0]-w[0])/l,f*(w[1]-r[3])/d);this.renderedResolution=d*m/f;const st=he.width*ce[0],Je=he.height*ce[3];if(this.getLayer().getSource().getInterpolate()||(V.imageSmoothingEnabled=!1),this.preRender(V,e),fe&&st>=.5&&Je>=.5){const Ke=ce[4],et=ce[5],We=p.opacity;let de;We!==1&&(de=V.globalAlpha,V.globalAlpha=We),V.drawImage(he,0,0,+he.width,+he.height,Ke,et,st,Je),We!==1&&(V.globalAlpha=de)}return this.postRender(V,e),le&&V.restore(),V.imageSmoothingEnabled=!0,u!==re.style.transform&&(re.style.transform=u),this.container}}const Sd=Rd;class Id extends Cd{constructor(e){super(e)}createRenderer(){return new Sd(this)}getData(e){return super.getData(e)}}const He=Id,ji={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Ld extends dr{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(ji.PRELOAD)}setPreload(e){this.set(ji.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ji.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ji.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const Ad=Ld;class Pd extends Ia{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=wn(),this.tmpTileRange_=new Xa(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),n=e.getState(),r=t.getUseInterimTilesOnError();return n==B.LOADED||n==B.EMPTY||n==B.ERROR&&!r}getTile(e,t,n,r){const a=r.pixelRatio,l=r.viewState.projection,d=this.getLayer();let p=d.getSource().getTile(e,t,n,a,l);return p.getState()==B.ERROR&&d.getUseInterimTilesOnError()&&d.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(p)||(p=p.getInterimTile()),p}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=vt(t.pixelToCoordinateTransform,e.slice()),a=n.getExtent();if(a&&!ar(a,r))return null;const l=t.pixelRatio,d=t.viewState.projection,f=t.viewState,p=n.getRenderSource(),m=p.getTileGridForProjection(f.projection),E=p.getTilePixelRatio(t.pixelRatio);for(let w=m.getZForResolution(f.resolution);w>=m.getMinZoom();--w){const x=m.getTileCoordForCoordAndZ(r,w),R=p.getTile(w,x[1],x[2],l,d);if(!(R instanceof Pa||R instanceof is)||R instanceof is&&R.getState()===B.EMPTY)return null;if(R.getState()!==B.LOADED)continue;const N=m.getOrigin(w),P=on(m.getTileSize(w)),z=m.getResolution(w),F=Math.floor(E*((r[0]-N[0])/z-x[1]*P[0])),G=Math.floor(E*((N[1]-r[1])/z-x[2]*P[1])),U=Math.round(E*p.getGutterForProjection(f.projection));return this.getImageData(R.getImage(),F+U,G+U)}return null}loadedTileCallback(e,t,n){return this.isDrawableTile(n)?super.loadedTileCallback(e,t,n):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex],r=e.viewState,a=r.projection,l=r.resolution,d=r.center,f=r.rotation,p=e.pixelRatio,m=this.getLayer(),E=m.getSource(),w=E.getRevision(),x=E.getTileGridForProjection(a),R=x.getZForResolution(l,E.zDirection),N=x.getResolution(R);let P=e.extent;const z=e.viewState.resolution,F=E.getTilePixelRatio(p),G=Math.round(we(P)/z*p),U=Math.round(Qe(P)/z*p),u=n.extent&&sn(n.extent);u&&(P=vn(P,sn(n.extent)));const V=N*G/2/F,re=N*U/2/F,le=[d[0]-V,d[1]-re,d[0]+V,d[1]+re],fe=x.getTileRangeForExtentAndZ(P,R),he={};he[R]={};const ce=this.createLoadedTileFinder(E,a,he),st=this.tmpExtent,Je=this.tmpTileRange_;this.newTiles_=!1;const Ke=f?Br(r.center,z,f,e.size):void 0;for(let Ve=fe.minX;Ve<=fe.maxX;++Ve)for(let me=fe.minY;me<=fe.maxY;++me){if(f&&!x.tileCoordIntersectsViewport([R,Ve,me],Ke))continue;const xe=this.getTile(R,Ve,me,e);if(this.isDrawableTile(xe)){const Vt=ht(this);if(xe.getState()==B.LOADED){he[R][xe.tileCoord.toString()]=xe;let Yt=xe.inTransition(Vt);Yt&&n.opacity!==1&&(xe.endTransition(Vt),Yt=!1),!this.newTiles_&&(Yt||!this.renderedTiles.includes(xe))&&(this.newTiles_=!0)}if(xe.getAlpha(Vt,e.time)===1)continue}const Ye=x.getTileCoordChildTileRange(xe.tileCoord,Je,st);let tt=!1;Ye&&(tt=ce(R+1,Ye)),tt||x.forEachTileCoordParentTileRange(xe.tileCoord,ce,Je,st)}const et=N/l*p/F;En(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/p,1/p,f,-G/2,-U/2);const We=ta(this.pixelTransform);this.useContainer(t,We,this.getBackground(e));const de=this.context,dt=de.canvas;ls(this.inversePixelTransform,this.pixelTransform),En(this.tempTransform,G/2,U/2,et,et,0,-G/2,-U/2),dt.width!=G||dt.height!=U?(dt.width=G,dt.height=U):this.containerReused||de.clearRect(0,0,G,U),u&&this.clipUnrotated(de,e,u),E.getInterpolate()||(de.imageSmoothingEnabled=!1),this.preRender(de,e),this.renderedTiles.length=0;let Ae=Object.keys(he).map(Number);Ae.sort(os);let Xe,Mt,Oe;n.opacity===1&&(!this.containerReused||E.getOpaque(e.viewState.projection))?Ae=Ae.reverse():(Xe=[],Mt=[]);for(let Ve=Ae.length-1;Ve>=0;--Ve){const me=Ae[Ve],xe=E.getTilePixelSize(me,p,a),tt=x.getResolution(me)/N,Vt=xe[0]*tt*et,Yt=xe[1]*tt*et,ot=x.getTileCoordForCoordAndZ(Tn(le),me),Bt=x.getTileCoordExtent(ot),Ot=vt(this.tempTransform,[F*(Bt[0]-le[0])/N,F*(le[3]-Bt[3])/N]),Y=F*E.getGutterForProjection(a),Ue=he[me];for(const mr in Ue){const $t=Ue[mr],ti=$t.tileCoord,ni=ot[1]-ti[1],un=Math.round(Ot[0]-(ni-1)*Vt),Et=ot[2]-ti[2],jt=Math.round(Ot[1]-(Et-1)*Yt),Be=Math.round(Ot[0]-ni*Vt),bt=Math.round(Ot[1]-Et*Yt),Nt=un-Be,Qt=jt-bt,ii=R===me,Gt=ii&&$t.getAlpha(ht(this),e.time)!==1;let Ct=!1;if(!Gt)if(Xe){Oe=[Be,bt,Be+Nt,bt,Be+Nt,bt+Qt,Be,bt+Qt];for(let zt=0,hn=Xe.length;zt<hn;++zt)if(R!==me&&me<Mt[zt]){const nt=Xe[zt];bn([Be,bt,Be+Nt,bt+Qt],[nt[0],nt[3],nt[4],nt[7]])&&(Ct||(de.save(),Ct=!0),de.beginPath(),de.moveTo(Oe[0],Oe[1]),de.lineTo(Oe[2],Oe[3]),de.lineTo(Oe[4],Oe[5]),de.lineTo(Oe[6],Oe[7]),de.moveTo(nt[6],nt[7]),de.lineTo(nt[4],nt[5]),de.lineTo(nt[2],nt[3]),de.lineTo(nt[0],nt[1]),de.clip())}Xe.push(Oe),Mt.push(me)}else de.clearRect(Be,bt,Nt,Qt);this.drawTileImage($t,e,Be,bt,Nt,Qt,Y,ii),Xe&&!Gt?(Ct&&de.restore(),this.renderedTiles.unshift($t)):this.renderedTiles.push($t),this.updateUsedTiles(e.usedTiles,E,$t)}}return this.renderedRevision=w,this.renderedResolution=N,this.extentChanged=!this.renderedExtent_||!Ki(this.renderedExtent_,le),this.renderedExtent_=le,this.renderedPixelRatio=p,this.renderedProjection=a,this.manageTilePyramid(e,E,x,p,a,P,R,m.getPreload()),this.scheduleExpireCache(e,E),this.postRender(de,e),n.extent&&de.restore(),de.imageSmoothingEnabled=!0,We!==dt.style.transform&&(dt.style.transform=We),this.container}drawTileImage(e,t,n,r,a,l,d,f){const p=this.getTileImage(e);if(!p)return;const m=ht(this),E=t.layerStatesArray[t.layerIndex],w=E.opacity*(f?e.getAlpha(m,t.time):1),x=w!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=w),this.context.drawImage(p,d,d,p.width-2*d,p.height-2*d,n,r,a,l),x&&this.context.restore(),w!==E.opacity?t.animate=!0:f&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const n=function(r,a,l){const d=ht(r);d in l.usedTiles&&r.expireCache(l.viewState.projection,l.usedTiles[d])}.bind(null,t);e.postRenderFunctions.push(n)}}updateUsedTiles(e,t,n){const r=ht(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}manageTilePyramid(e,t,n,r,a,l,d,f,p){const m=ht(t);m in e.wantedTiles||(e.wantedTiles[m]={});const E=e.wantedTiles[m],w=e.tileQueue,x=n.getMinZoom(),R=e.viewState.rotation,N=R?Br(e.viewState.center,e.viewState.resolution,R,e.size):void 0;let P=0,z,F,G,U,u,V;for(V=x;V<=d;++V)for(F=n.getTileRangeForExtentAndZ(l,V,F),G=n.getResolution(V),U=F.minX;U<=F.maxX;++U)for(u=F.minY;u<=F.maxY;++u)R&&!n.tileCoordIntersectsViewport([V,U,u],N)||(d-V<=f?(++P,z=t.getTile(V,U,u,r,a),z.getState()==B.IDLE&&(E[z.getKey()]=!0,w.isKeyQueued(z.getKey())||w.enqueue([z,m,n.getTileCoordCenter(z.tileCoord),G])),p!==void 0&&p(z)):t.useTile(V,U,u,a));t.updateCacheSize(P,a)}}const Md=Pd;class Od extends Ad{constructor(e){super(e)}createRenderer(){return new Md(this)}}const Ss=Od;function rs(i){return Array.isArray(i)?Math.min(...i):i}const Zr={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Gn=[0,0,0],Jt=5;class Nd{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ee(Jl(this.resolutions_,(r,a)=>a-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,a=this.resolutions_.length-1;r<a;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ee(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Tn(n)),Ee(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ee(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:ys,Ee(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,a)=>{const l=new Xa(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(n){const d=this.getTileRangeForExtentAndZ(n,a);l.minX=Math.max(d.minX,l.minX),l.maxX=Math.min(d.maxX,l.maxX),l.minY=Math.max(d.minY,l.minY),l.maxY=Math.min(d.maxY,l.maxY)}return l}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const r=this.getTileRangeForExtentAndZ(e,t);for(let a=r.minX,l=r.maxX;a<=l;++a)for(let d=r.minY,f=r.maxY;d<=f;++d)n([t,a,d])}forEachTileCoordParentTileRange(e,t,n,r){let a,l,d,f=null,p=e[0]-1;for(this.zoomFactor_===2?(l=e[1],d=e[2]):f=this.getTileCoordExtent(e,r);p>=this.minZoom;){if(l!==void 0&&d!==void 0?(l=Math.floor(l/2),d=Math.floor(d/2),a=jn(l,l,d,d,n)):a=this.getTileRangeForExtentAndZ(f,p,n),t(p,a))return!0;--p}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,l=e[2]*2;return jn(a,a+1,l,l+1,t)}const r=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],a=e[1],l=e[2];if(t===r)return jn(a,l,a,l,n);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,t-r),p=Math.floor(a*f),m=Math.floor(l*f);if(t<r)return jn(p,p,m,m,n);const E=Math.floor(f*(a+1))-1,w=Math.floor(f*(l+1))-1;return jn(p,E,m,w,n)}const d=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(d,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Gn);const r=Gn[1],a=Gn[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Gn);const l=Gn[1],d=Gn[2];return jn(r,l,a,d,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=on(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),a=on(this.getTileSize(e[0]),this.tmpSize_),l=n[0]+e[1]*a[0]*r,d=n[1]-(e[2]+1)*a[1]*r,f=l+a[0]*r,p=d+a[1]*r;return Qn(l,d,f,p,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,r,a){const l=this.getZForResolution(n),d=n/this.getResolution(l),f=this.getOrigin(l),p=on(this.getTileSize(l),this.tmpSize_);let m=d*(e-f[0])/n/p[0],E=d*(f[1]-t)/n/p[1];return r?(m=rn(m,Jt)-1,E=rn(E,Jt)-1):(m=qn(m,Jt),E=qn(E,Jt)),ns(l,m,E,a)}getTileCoordForXYAndZ_(e,t,n,r,a){const l=this.getOrigin(n),d=this.getResolution(n),f=on(this.getTileSize(n),this.tmpSize_);let p=(e-l[0])/d/f[0],m=(l[1]-t)/d/f[1];return r?(p=rn(p,Jt)-1,m=rn(m,Jt)-1):(p=qn(p,Jt),m=qn(m,Jt)),ns(n,p,m,a)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=nr(this.resolutions_,e,t||0);return Ge(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return va(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}}const Za=Nd;function Ka(i){let e=i.getDefaultTileGrid();return e||(e=kd(i),i.setDefaultTileGrid(e)),e}function Dd(i,e,t){const n=e[0],r=i.getTileCoordCenter(e),a=gr(t);if(!ar(a,r)){const l=we(a),d=Math.ceil((a[0]-r[0])/l);return r[0]+=l*d,i.getTileCoordForCoordAndZ(r,n)}return e}function Fd(i,e,t,n){n=n!==void 0?n:"top-left";const r=Va(i,e,t);return new Za({extent:i,origin:vc(i,n),resolutions:r,tileSize:t})}function Wa(i){const e=i||{},t=e.extent||ze("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Va(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Za(n)}function Va(i,e,t,n){e=e!==void 0?e:Mu,t=on(t!==void 0?t:ys);const r=Qe(i),a=we(i);n=n>0?n:Math.max(a/t[0],r/t[1]);const l=e+1,d=new Array(l);for(let f=0;f<l;++f)d[f]=n/Math.pow(2,f);return d}function kd(i,e,t,n){const r=gr(i);return Fd(r,e,t,n)}function gr(i){i=ze(i);let e=i.getExtent();if(!e){const t=180*Yn.degrees/i.getMetersPerUnit();e=Qn(-t,-t,t,t)}return e}class jd extends La{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&on(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Ga(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}forEachLoadedTile(e,t,n,r){const a=this.getTileCacheForProjection(e);if(!a)return!1;let l=!0,d,f,p;for(let m=n.minX;m<=n.maxX;++m)for(let E=n.minY;E<=n.maxY;++E)f=fr(t,m,E),p=!1,a.containsKey(f)&&(d=a.get(f),p=d.getState()===B.LOADED,p&&(p=r(d)!==!1)),p||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,r,a){return Ie()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Ka(e)}getTileCacheForProjection(e){const t=this.getProjection();return Ee(t===null||nn(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const r=this.getTileGridForProjection(n),a=this.getTilePixelRatio(t),l=on(r.getTileSize(e),this.tmpSize);return a==1?l:Eu(l,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=Dd(n,e,t)),md(e,n)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}useTile(e,t,n,r){}}class Gd extends Kt{constructor(e,t){super(e),this.tile=t}}const zd=jd;function Xd(i,e){const t=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(l,d,f){if(!!l)return i.replace(t,l[0].toString()).replace(n,l[1].toString()).replace(r,l[2].toString()).replace(a,function(){const p=l[0],m=e.getFullTileRange(p);if(!m)throw new Error("The {-y} placeholder requires a tile grid with extent");return(m.getHeight()-l[2]-1).toString()})}}function Ud(i,e){const t=i.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=Xd(i[r],e);return Ya(n)}function Ya(i){return i.length===1?i[0]:function(e,t,n){if(!e)return;const r=pd(e),a=Wn(r,i.length);return i[a](e,t,n)}}function qd(i){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(i);if(t){const n=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let a;for(a=n;a<=r;++a)e.push(i.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){const n=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=n;r++)e.push(i.replace(t[0],r.toString()));return e}return e.push(i),e}class Is extends zd{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Is.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=ht(t),r=t.getState();let a;r==B.LOADING?(this.tileLoadingKeys_[n]=!0,a=Zr.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],a=r==B.ERROR?Zr.TILELOADERROR:r==B.LOADED?Zr.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new Gd(a,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=qd(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ud(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}useTile(e,t,n){const r=fr(e,t,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const Hd=Is;class Zd extends Hd{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Kd,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Pa,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const n=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==n?t:{});for(const r in this.tileCacheForProjection){const a=this.tileCacheForProjection[r];a.expireCache(a==n?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!nn(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!nn(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||nn(t,e)))return this.tileGrid;const n=ht(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Ka(e)),this.tileGridForProjection[n]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||nn(t,e))return this.tileCache;const n=ht(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Ga(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(e,t,n,r,a,l){const d=[e,t,n],f=this.getTileCoordForTileUrlFunction(d,a),p=f?this.tileUrlFunction(f,r,a):void 0,m=new this.tileClass(d,p!==void 0?B.IDLE:B.EMPTY,p!==void 0?p:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=l,m.addEventListener(ie.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,n,r,a){const l=this.getProjection();if(!l||!a||nn(l,a))return this.getTileInternal(e,t,n,r,l||a);const d=this.getTileCacheForProjection(a),f=[e,t,n];let p;const m=ja(f);d.containsKey(m)&&(p=d.get(m));const E=this.getKey();if(p&&p.key==E)return p;const w=this.getTileGridForProjection(l),x=this.getTileGridForProjection(a),R=this.getTileCoordForTileUrlFunction(f,a),N=new is(l,w,a,x,f,R,this.getTilePixelRatio(r),this.getGutter(),(P,z,F,G)=>this.getTileInternal(P,z,F,G,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return N.key=E,p?(N.interimTile=p,N.refreshInterimChain(),d.replace(m,N)):d.set(m,N),N}getTileInternal(e,t,n,r,a){let l=null;const d=fr(e,t,n),f=this.getKey();if(!this.tileCache.containsKey(d))l=this.createTile_(e,t,n,r,a,f),this.tileCache.set(d,l);else if(l=this.tileCache.get(d),l.key!=f){const p=l;l=this.createTile_(e,t,n,r,a,f),p.getState()==B.IDLE?l.interimTile=p.interimTile:l.interimTile=p,l.refreshInterimChain(),this.tileCache.replace(d,l)}return l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const n=ze(e);if(n){const r=ht(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function Kd(i,e){i.getImage().src=e}const Ba=Zd;function Wd(i){const e=i[0],t=new Array(e);let n=1<<e-1,r,a;for(r=0;r<e;++r)a=48,i[1]&n&&(a+=1),i[2]&n&&(a+=2),t[r]=String.fromCharCode(a),n>>=1;return t.join("")}const Vd='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>';class Yd extends Ba{constructor(e){const t=e.hidpi!==void 0?e.hidpi:!1;super({cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,opaque:!0,projection:ze("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:t?2:1,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.hidpi_=t,this.culture_=e.culture!==void 0?e.culture:"en-us",this.maxZoom_=e.maxZoom!==void 0?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,this.placeholderTiles_=e.placeholderTiles;const n="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;fetch(n).then(r=>r.json()).then(r=>this.handleImageryMetadataResponse(r))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(e){if(e.statusCode!=200||e.statusDescription!="OK"||e.authenticationResultCode!="ValidCredentials"||e.resourceSets.length!=1||e.resourceSets[0].resources.length!=1){this.setState("error");return}const t=e.resourceSets[0].resources[0],n=this.maxZoom_==-1?t.zoomMax:this.maxZoom_,r=this.getProjection(),a=gr(r),l=this.hidpi_?2:1,d=t.imageWidth==t.imageHeight?t.imageWidth/l:[t.imageWidth/l,t.imageHeight/l],f=Wa({extent:a,minZoom:t.zoomMin,maxZoom:n,tileSize:d});this.tileGrid=f;const p=this.culture_,m=this.hidpi_,E=this.placeholderTiles_;if(this.tileUrlFunction=Ya(t.imageUrlSubdomains.map(function(w){const x=[0,0,0],R=t.imageUrl.replace("{subdomain}",w).replace("{culture}",p);return function(N,P,z){if(!N)return;ns(N[0],N[1],N[2],x);const F=new URL(R.replace("{quadkey}",Wd(x))),G=F.searchParams;return m&&(G.set("dpi","d1"),G.set("device","mobile")),E===!0?G.delete("n"):E===!1&&G.set("n","z"),F.toString()}})),t.imageryProviders){const w=yi(ze("EPSG:4326"),this.getProjection());this.setAttributions(x=>{const R=[],N=x.viewState,P=this.getTileGrid(),z=P.getZForResolution(N.resolution,this.zDirection),G=P.getTileCoordForCoordAndZ(N.center,z)[0];return t.imageryProviders.map(function(U){let u=!1;const V=U.coverageAreas;for(let re=0,le=V.length;re<le;++re){const fe=V[re];if(G>=fe.zoomMin&&G<=fe.zoomMax){const he=fe.bbox,ce=[he[1],he[0],he[3],he[2]],st=wc(ce,w);if(bn(st,x.extent)){u=!0;break}}}u&&R.push(U.attribution)}),R.push(Vd),R})}this.setState("ready")}}const $a=Yd;class Bd extends Ba{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",n=e.tileGrid!==void 0?e.tileGrid:Wa({extent:gr(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const $d=Bd;class Qd extends ba{constructor(e,t,n,r,a,l,d){let f=e.getExtent();f&&e.canWrapX()&&(f=f.slice(),f[0]=-1/0,f[2]=1/0);let p=t.getExtent();p&&t.canWrapX()&&(p=p.slice(),p[0]=-1/0,p[2]=1/0);const m=p?vn(n,p):n,E=xn(m),w=tr(e,t,E,r),x=Ua,R=new qa(e,t,m,f,w*x,r),N=R.calculateSourceExtent(),P=Cn(N)?null:l(N,w,a),z=P?ve.IDLE:ve.EMPTY,F=P?P.getPixelRatio():1;super(n,r,F,z),this.targetProj_=t,this.maxSourceExtent_=f,this.triangulation_=R,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=P,this.sourcePixelRatio_=F,this.interpolate_=d,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==ve.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==ve.LOADED){const t=we(this.targetExtent_)/this.targetResolution_,n=Qe(this.targetExtent_)/this.targetResolution_;this.canvas_=Ha(t,n,this.sourcePixelRatio_,rs(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==ve.IDLE){this.state=ve.LOADING,this.changed();const e=this.sourceImage_.getState();e==ve.LOADED||e==ve.ERROR?this.reproject_():(this.sourceListenerKey_=ae(this.sourceImage_,ie.CHANGE,function(t){const n=this.sourceImage_.getState();(n==ve.LOADED||n==ve.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){Re(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Jd=Qd,an=4,Kr={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class ef extends Kt{constructor(e,t){super(e),this.image=t}}class tf extends La{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=nr(t,e,0);e=t[n]}return e}getImage(e,t,n,r){const a=this.getProjection();if(!a||!r||nn(a,r))return a&&(r=a),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&nn(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Ki(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Jd(a,r,e,t,n,(l,d,f)=>this.getImageInternal(l,d,f,a),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const a=Qa(e,t,n,1),l=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Zi(this.wantedExtent_,a)||Zi(this.image.getExtent(),a))&&(this.wantedResolution_&&rs(this.wantedResolution_)===l||rs(this.image.getResolution())===l)))return this.image;this.wantedProjection_=r,this.wantedExtent_=a,this.wantedResolution_=l,this.image=new ba(a,l,n,this.loader),this.image.addEventListener(ie.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case ve.LOADING:this.loading=!0,n=Kr.IMAGELOADSTART;break;case ve.LOADED:this.loading=!1,n=Kr.IMAGELOADEND;break;case ve.ERROR:this.loading=!1,n=Kr.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new ef(n,t))}}function nf(i,e){i.getImage().src=e}function Qa(i,e,t,n){const r=e/t,a=xn(i),l=rn(we(i)/r,an),d=rn(Qe(i)/r,an),f=rn((n-1)*l/2,an),p=l+2*f,m=rn((n-1)*d/2,an),E=d+2*m;return fi(a,r,0,[p,E])}const rf=tf;function Ja(i,e){const t=[];Object.keys(e).forEach(function(r){e[r]!==null&&e[r]!==void 0&&t.push(r+"="+encodeURIComponent(e[r]))});const n=t.join("&");return i=i.replace(/[?&]$/,""),i+=i.includes("?")?"&":"?",i+n}const el="1.3.0",Ho=[101,101];function tl(i,e,t,n,r){r.WIDTH=t[0],r.HEIGHT=t[1];const a=n.getAxisOrientation();let l;const d=aa(r.VERSION,"1.3")>=0;return r[d?"CRS":"SRS"]=n.getCode(),d&&a.substr(0,2)=="ne"?l=[e[1],e[0],e[3],e[2]]:l=e,r.BBOX=l.join(","),Ja(i,r)}function sf(i,e,t,n,r,a,l){a=Object.assign({REQUEST:"GetMap"},a);const d=e/t,f=[xo(we(i)/d,an),xo(Qe(i)/d,an)];if(t!=1)switch(l){case"geoserver":const m=90*t+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+m:a.FORMAT_OPTIONS="dpi:"+m;break;case"mapserver":a.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":a.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return tl(r,i,f,n,a)}function nl(i,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:el,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},i)}function of(i){const e=i.hidpi===void 0?!0:i.hidpi,t=ze(i.projection||"EPSG:3857"),n=i.ratio||1.5,r=i.load||Ca;return(a,l,d)=>{a=Qa(a,l,d,n),d!=1&&(!e||i.serverType===void 0)&&(d=1);const f=sf(a,l,d,t,i.url,nl(i.params,"GetMap"),i.serverType),p=new Image;return i.crossOrigin!==null&&(p.crossOrigin=i.crossOrigin),r(p,f).then(m=>({image:m,extent:a,pixelRatio:d}))}}function af(i,e,t){if(i.url===void 0)return;const n=ze(i.projection||"EPSG:3857"),r=fi(e,t,0,Ho),a={QUERY_LAYERS:i.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(a,nl(i.params,"GetFeatureInfo"),i.params);const l=qn((e[0]-r[0])/t,an),d=qn((r[3]-e[1])/t,an),f=aa(a.VERSION,"1.3")>=0;return a[f?"I":"X"]=l,a[f?"J":"Y"]=d,tl(i.url,r,Ho,n,a)}function lf(i,e){if(i.url===void 0)return;const t={SERVICE:"WMS",VERSION:el,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(i.params===void 0||i.params.LAYER===void 0){const n=i.params.LAYERS;if(!(!Array.isArray(n)||n.length===1))return;t.LAYER=n}if(e!==void 0){const n=ze(i.projection||"EPSG:3857").getMetersPerUnit()||1,r=28e-5;t.SCALE=e*n/r}return Object.assign(t,i.params),Ja(i.url,t)}class cf extends rf{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:nf,this.params_=e.params,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,r){const a=ze(n),l=this.getProjection();l&&l!==a&&(t=tr(l,a,e,t),e=gs(e,a,l));const d={url:this.url_,params:{...this.params_,...r},projection:l||a};return af(d,e,t)}getLegendUrl(e,t){return lf({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,r){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==r)&&(this.loaderProjection_=r,this.loader=of({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(a,l)=>(this.image.setImage(a),this.imageLoadFunction_(this.image,l),Ca(a))})),super.getImageInternal(e,t,n,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const Ze=cf,uf='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class hf extends $d{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[uf];const n=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:n,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const df=hf,Zo=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],Ko={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class ff extends Sn{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.on,this.once,this.un,this.keys_=e.keys!==void 0?e.keys:!1,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=e.className!==void 0?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=e.activeClassName!==void 0?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=e.inactiveClassName!==void 0?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=e.label!==void 0?e.label:"\u2922";this.labelNode_=typeof t=="string"?document.createTextNode(t):t;const n=e.labelActive!==void 0?e.labelActive:"\xD7";this.labelActiveNode_=typeof n=="string"?document.createTextNode(n):n;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(ie.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${Jn} ${hr}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(!!Wo(t))if(Vo(t))pf(t);else{let n;this.source_?n=typeof this.source_=="string"?t.getElementById(this.source_):this.source_:n=e.getTargetElement(),this.keys_?gf(n):il(n)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=Vo(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Ji(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Ko.ENTERFULLSCREEN)):(Ji(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Ko.LEAVEFULLSCREEN)),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener(je.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(je.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let n=0,r=e.length;n<r;++n)Re(e[n]);e.length=0;const t=this.getMap();if(t){const n=t.getOwnerDocument();Wo(n)?this.element.classList.remove(No):this.element.classList.add(No);for(let r=0,a=Zo.length;r<a;++r)e.push(ae(n,Zo[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function Wo(i){const e=i.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&i.fullscreenEnabled)}function Vo(i){return!!(i.webkitIsFullScreen||i.fullscreenElement)}function il(i){i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}function gf(i){i.webkitRequestFullscreen?i.webkitRequestFullscreen():il(i)}function pf(i){i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()}const mf=ff,Wr="projection",Yo="coordinateFormat";class _f extends Sn{constructor(e){e=e||{};const t=document.createElement("div");t.className=e.className!==void 0?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(Wr,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=e.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=e.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(Yo)}getProjection(){return this.get(Wr)}handleMouseMove(e){const t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const t=e.getViewport();this.listenerKeys.push(ae(t,pi.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(ae(t,pi.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(Yo,e)}setProjection(e){this.set(Wr,ze(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const a=this.getProjection();a?this.transform_=yi(this.mapProjection_,a):this.transform_=ds}const r=this.getMap().getCoordinateFromPixelInternal(e);if(r){if(this.transform_(r,r),this.wrapX_){const l=this.getProjection()||this.mapProjection_;la(r,l)}const a=this.getCoordinateFormat();a?t=a(r):t=r.toString()}}(!this.renderedHTML_||t!==this.renderedHTML_)&&(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}}const yf=_f,Vr="units",vf=[1,2,5],hi=25.4/.28;class Ef extends Sn{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const n=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+Jn,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Vr,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Vr)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Vr,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=e.center,n=e.projection,r=this.getUnits(),a=r=="degrees"?"degrees":"m";let l=Yi(n,e.resolution,t,a);const d=this.minWidth_*(this.dpi_||hi)/hi,f=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||hi)/hi:void 0;let p=d*l,m="";if(r=="degrees"){const G=Yn.degrees;p*=G,p<G/60?(m="\u2033",l*=3600):p<G?(m="\u2032",l*=60):m="\xB0"}else if(r=="imperial")p<.9144?(m="in",l/=.0254):p<1609.344?(m="ft",l/=.3048):(m="mi",l/=1609.344);else if(r=="nautical")l/=1852,m="NM";else if(r=="metric")p<.001?(m="\u03BCm",l*=1e6):p<1?(m="mm",l*=1e3):p<1e3?m="m":(m="km",l/=1e3);else if(r=="us")p<.9144?(m="in",l*=39.37):p<1609.344?(m="ft",l/=.30480061):(m="mi",l/=1609.3472);else throw new Error("Invalid units");let E=3*Math.floor(Math.log(d*l)/Math.log(10)),w,x,R,N,P,z;for(;;){R=Math.floor(E/3);const G=Math.pow(10,R);if(w=vf[(E%3+3)%3]*G,x=Math.round(w/l),isNaN(x)){this.element.style.display="none",this.renderedVisible_=!1;return}if(f!==void 0&&x>=f){w=N,x=P,R=z;break}else if(x>=d)break;N=w,P=x,z=R,++E}const F=this.scaleBar_?this.createScaleBar(x,w,m):w.toFixed(R<0?-R:0)+" "+m;this.renderedHTML_!=F&&(this.innerElement_.innerHTML=F,this.renderedHTML_=F),this.renderedWidth_!=x&&(this.innerElement_.style.width=x+"px",this.renderedWidth_=x),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,n){const r=this.getScaleForResolution(),a=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),l=this.scaleBarSteps_,d=e/l,f=[this.createMarker("absolute")];for(let m=0;m<l;++m){const E=m%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";f.push(`<div><div class="ol-scale-singlebar ${E}" style="width: ${d}px;"></div>`+this.createMarker("relative")+(m%2===0||l===2?this.createStepText(m,e,!1,t,n):"")+"</div>")}return f.push(this.createStepText(l,e,!0,t,n)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+a+"</div>":"")+f.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,n,r,a){const d=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+a),f=e===0?-3:t/this.scaleBarSteps_*-1,p=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${f}px;text-align: ${e===0?"left":"center"};min-width: ${p}px;left: ${n?t+"px":"unset"};">`+d+"</div>"}getScaleForResolution(){const e=Yi(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||hi,n=1e3/25.4;return e*n*t}render(e){const t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}const xf=Ef;var rl={exports:{}};const wf=Rs(Th),Tf=Rs(rc),bf=Rs(dh);(function(i,e){(function(t,n){i.exports=n(wf,Tf,bf)})(yd,function(t,n,r){t="default"in t?t.default:t,r="default"in r?r.default:r;const a="layer-switcher-";class l extends t{constructor(f){const p=Object.assign({},f),m=document.createElement("div");super({element:m,target:p.target}),this.activationMode=p.activationMode||"mouseover",this.startActive=p.startActive===!0,this.label=p.label!==void 0?p.label:"",this.collapseLabel=p.collapseLabel!==void 0?p.collapseLabel:"\xBB",this.tipLabel=p.tipLabel?p.tipLabel:"Legend",this.collapseTipLabel=p.collapseTipLabel?p.collapseTipLabel:"Collapse legend",this.groupSelectStyle=l.getGroupSelectStyle(p.groupSelectStyle),this.reverse=p.reverse!==!1,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",l.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",m.className=this.hiddenClassName,this.button=document.createElement("button"),m.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",m.appendChild(this.panel),l.enableTouchScroll_(this.panel),m.classList.add(a+"group-select-style-"+this.groupSelectStyle),m.classList.add(a+"activation-mode-"+this.activationMode),this.activationMode==="click"?(m.classList.add("activationModeClick"),this.button.onclick=E=>{const w=E||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),w.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=E=>{const w=E||window.event;this.showPanel(),w.preventDefault()},this.panel.onmouseout=E=>{this.panel.contains(E.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(f){for(let p=0;p<this.mapListeners.length;p++)n.unByKey(this.mapListeners[p]);this.mapListeners.length=0,super.setMap(f),f&&(this.startActive?this.showPanel():this.renderPanel(),this.activationMode!=="click"&&this.mapListeners.push(f.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),l.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(f,p,m){const E=new Event("render");for(p.dispatchEvent(E),m=m||{},m.groupSelectStyle=l.getGroupSelectStyle(m.groupSelectStyle),l.ensureTopVisibleBaseLayerShown(f,m.groupSelectStyle);p.firstChild;)p.removeChild(p.firstChild);l.forEachRecursive(f,function(R,N,P){R.set("indeterminate",!1)}),m.groupSelectStyle==="children"||m.groupSelectStyle==="none"?l.setGroupVisibility(f):m.groupSelectStyle==="group"&&l.setChildVisibility(f);const w=document.createElement("ul");p.appendChild(w),l.renderLayers_(f,f,w,m,function(N){l.renderPanel(f,p,m)});const x=new Event("rendercomplete");p.dispatchEvent(x)}static isBaseGroup(f){if(f instanceof r){const p=f.getLayers().getArray();return p.length&&p[0].get("type")==="base"}else return!1}static setGroupVisibility(f){l.getGroupsAndLayers(f,function(m){return m instanceof r&&!m.get("combine")&&!l.isBaseGroup(m)}).reverse().forEach(function(m){const E=m.getLayersArray().map(function(w){return w.getVisible()});E.every(function(w){return w===!0})?(m.setVisible(!0),m.set("indeterminate",!1)):E.every(function(w){return w===!1})?(m.setVisible(!1),m.set("indeterminate",!1)):(m.setVisible(!0),m.set("indeterminate",!0))})}static setChildVisibility(f){l.getGroupsAndLayers(f,function(m){return m instanceof r&&!m.get("combine")&&!l.isBaseGroup(m)}).forEach(function(m){const E=m,w=E.getVisible(),x=E.get("indeterminate");E.getLayers().getArray().forEach(function(R){R.set("indeterminate",!1),(!w||x)&&R.getVisible()&&R.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(f,p){let m;l.forEachRecursive(f,function(E,w,x){E.get("type")==="base"&&E.getVisible()&&(m=E)}),m&&l.setVisible_(f,m,!0,p)}static getGroupsAndLayers(f,p){const m=[];return p=p||function(E,w,x){return!0},l.forEachRecursive(f,function(E,w,x){E.get("title")&&p(E,w,x)&&m.push(E)}),m}static setVisible_(f,p,m,E){p.setVisible(m),m&&p.get("type")==="base"&&l.forEachRecursive(f,function(w,x,R){w!=p&&w.get("type")==="base"&&w.setVisible(!1)}),p instanceof r&&!p.get("combine")&&E==="children"&&p.getLayers().forEach(w=>{l.setVisible_(f,w,p.getVisible(),E)})}static renderLayer_(f,p,m,E,w){const x=document.createElement("li"),R=p.get("title"),N=l.uuid(),P=document.createElement("label");if(p instanceof r&&!p.get("combine")){const z=l.isBaseGroup(p);if(x.classList.add("group"),z&&x.classList.add(a+"base-group"),p.get("fold")){x.classList.add(a+"fold"),x.classList.add(a+p.get("fold"));const G=document.createElement("button");G.onclick=function(U){const u=U||window.event;l.toggleFold_(p,x),u.preventDefault()},x.appendChild(G)}if(!z&&E.groupSelectStyle!="none"){const G=document.createElement("input");G.type="checkbox",G.id=N,G.checked=p.getVisible(),G.indeterminate=p.get("indeterminate"),G.onchange=function(U){const u=U.target;l.setVisible_(f,p,u.checked,E.groupSelectStyle),w(p)},x.appendChild(G),P.htmlFor=N}P.innerHTML=R,x.appendChild(P);const F=document.createElement("ul");x.appendChild(F),l.renderLayers_(f,p,F,E,w)}else{x.className="layer";const z=document.createElement("input");p.get("type")==="base"?z.type="radio":z.type="checkbox",z.id=N,z.checked=p.get("visible"),z.indeterminate=p.get("indeterminate"),z.onchange=function(G){const U=G.target;l.setVisible_(f,p,U.checked,E.groupSelectStyle),w(p)},x.appendChild(z),P.htmlFor=N,P.innerHTML=R;const F=f.getView().getResolution();if(F>=p.getMaxResolution()||F<p.getMinResolution())P.className+=" disabled";else if(p.getMinZoom&&p.getMaxZoom){const G=f.getView().getZoom();(G<=p.getMinZoom()||G>p.getMaxZoom())&&(P.className+=" disabled")}x.appendChild(P)}return x}static renderLayers_(f,p,m,E,w){let x=p.getLayers().getArray().slice();E.reverse&&(x=x.reverse());for(let R=0,N;R<x.length;R++)N=x[R],N.get("title")&&m.appendChild(l.renderLayer_(f,N,R,E,w))}static forEachRecursive(f,p){f.getLayers().forEach(function(m,E,w){p(m,E,w),m instanceof r&&l.forEachRecursive(m,p)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){const p=Math.random()*16|0;return(f=="x"?p:p&3|8).toString(16)})}static enableTouchScroll_(f){if(l.isTouchDevice_()){let p=0;f.addEventListener("touchstart",function(m){p=this.scrollTop+m.touches[0].pageY},!1),f.addEventListener("touchmove",function(m){this.scrollTop=p-m.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static toggleFold_(f,p){p.classList.remove(a+f.get("fold")),f.set("fold",f.get("fold")==="open"?"close":"open"),p.classList.add(a+f.get("fold"))}static getGroupSelectStyle(f){return["none","children","group"].indexOf(f)>=0?f:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=l),l})})(rl);const Cf=rl.exports;let Rf=new Ss({title:"Open Street Map",type:"base",visible:!0,source:new df});var Sf=new He({title:"Landslide Susceptibility",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:LandslideSusceptibilityMap"}}),opacity:.7}),If=new He({title:"population",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:POPULATION"}}),opacity:.7}),Lf=new He({title:"aspect",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:aspect"}}),opacity:.7}),Af=new He({title:"slope",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:slope"}}),opacity:.7}),Pf=new He({title:"roads",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:road"}}),opacity:.7}),Mf=new He({title:"rivers",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:river"}}),opacity:.7}),Of=new He({title:"reclassified_susceptibility",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:classified"}}),opacity:.7}),Nf=new He({title:"confidence",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:confidence"}}),opacity:.7}),Df=new He({title:"dtm",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:dtm"}}),opacity:.7}),Ff=new He({title:"dusaf",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:dusaf"}}),opacity:.7}),kf=new He({title:"faults",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:faults"}}),opacity:.7}),jf=new He({title:"ndvi",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:ndvi"}}),opacity:.7}),Gf=new He({title:"plan",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:plan"}}),opacity:.7}),zf=new He({title:"profile",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:profile"}}),opacity:.7}),Xf=new He({title:"susceptibility_reclassified_resampled",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:susceptibility_reclassified_resampled"}}),opacity:.7}),sl=new He({title:"Testing Points",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:testing_points_sample"}}),opacity:1}),ol=new He({title:"Training Points",source:new Ze({url:"https://www.gis-geoserver.polimi.it/geoserver/gisgeoserver_13/wms",params:{LAYERS:"gisgeoserver_13:training_points_sample"}}),opacity:1});let al=new Rn({title:"Base Maps",layers:[Rf]}),ll=new Rn({title:"Overlay Layers",layers:[Sf,If,Lf,Af,Pf,Mf,Of,Nf,Df,Ff,kf,jf,Gf,zf,Xf,sl,ol]});var Uf=[sl,ol];ll.getLayers().forEach(i=>{Uf.includes(i)?i.setVisible(!0):i.setVisible(!1)});let pr=new hd({target:document.getElementById("map"),layers:[al,ll],view:new kt({center:Wc([10,45.86]),zoom:12})});pr.addControl(new xf);pr.addControl(new mf);pr.addControl(new yf({coordinateFormat:kc(4),projection:"EPSG:4326",className:"custom-control",placeholder:"0.0000, 0.0000"}));var qf=new Cf({});pr.addControl(qf);var cl="AqbDxABFot3cmpxfshRqLmg8UTuPv_bg69Ej3d5AkGmjaJy_w5eFSSbOzoHeN2_H",Hf=new Ss({title:"Bing Maps\u2014Roads",type:"base",visible:!1,source:new $a({key:cl,imagerySet:"Road"})}),Zf=new Ss({title:"Bing Maps\u2014Aerial",type:"base",visible:!1,source:new $a({key:cl,imagerySet:"Aerial"})});al.getLayers().extend([Hf,Zf]);/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */(function(i,e){typeof Xi=="object"&&typeof Xi.exports=="object"?Xi.exports=i.document?e(i,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(i)})(typeof window<"u"?window:globalThis,function(i,e){var t=[],n=Object.getPrototypeOf,r=t.slice,a=t.flat?function(s){return t.flat.call(s)}:function(s){return t.concat.apply([],s)},l=t.push,d=t.indexOf,f={},p=f.toString,m=f.hasOwnProperty,E=m.toString,w=E.call(Object),x={},R=function(s){return typeof s=="function"&&typeof s.nodeType!="number"&&typeof s.item!="function"},N=function(s){return s!=null&&s===s.window},P=i.document,z={type:!0,src:!0,nonce:!0,noModule:!0};function F(s,o,c){var h,g,_=(c=c||P).createElement("script");if(_.text=s,o)for(h in z)(g=o[h]||o.getAttribute&&o.getAttribute(h))&&_.setAttribute(h,g);c.head.appendChild(_).parentNode.removeChild(_)}function G(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?f[p.call(s)]||"object":typeof s}var U="3.6.0",u=function(s,o){return new u.fn.init(s,o)};function V(s){var o=!!s&&"length"in s&&s.length,c=G(s);return!R(s)&&!N(s)&&(c==="array"||o===0||typeof o=="number"&&0<o&&o-1 in s)}u.fn=u.prototype={jquery:U,constructor:u,length:0,toArray:function(){return r.call(this)},get:function(s){return s==null?r.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var o=u.merge(this.constructor(),s);return o.prevObject=this,o},each:function(s){return u.each(this,s)},map:function(s){return this.pushStack(u.map(this,function(o,c){return s.call(o,c,o)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(u.grep(this,function(s,o){return(o+1)%2}))},odd:function(){return this.pushStack(u.grep(this,function(s,o){return o%2}))},eq:function(s){var o=this.length,c=+s+(s<0?o:0);return this.pushStack(0<=c&&c<o?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},u.extend=u.fn.extend=function(){var s,o,c,h,g,_,y=arguments[0]||{},b=1,C=arguments.length,I=!1;for(typeof y=="boolean"&&(I=y,y=arguments[b]||{},b++),typeof y=="object"||R(y)||(y={}),b===C&&(y=this,b--);b<C;b++)if((s=arguments[b])!=null)for(o in s)h=s[o],o!=="__proto__"&&y!==h&&(I&&h&&(u.isPlainObject(h)||(g=Array.isArray(h)))?(c=y[o],_=g&&!Array.isArray(c)?[]:g||u.isPlainObject(c)?c:{},g=!1,y[o]=u.extend(I,_,h)):h!==void 0&&(y[o]=h));return y},u.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var o,c;return!(!s||p.call(s)!=="[object Object]")&&(!(o=n(s))||typeof(c=m.call(o,"constructor")&&o.constructor)=="function"&&E.call(c)===w)},isEmptyObject:function(s){var o;for(o in s)return!1;return!0},globalEval:function(s,o,c){F(s,{nonce:o&&o.nonce},c)},each:function(s,o){var c,h=0;if(V(s))for(c=s.length;h<c&&o.call(s[h],h,s[h])!==!1;h++);else for(h in s)if(o.call(s[h],h,s[h])===!1)break;return s},makeArray:function(s,o){var c=o||[];return s!=null&&(V(Object(s))?u.merge(c,typeof s=="string"?[s]:s):l.call(c,s)),c},inArray:function(s,o,c){return o==null?-1:d.call(o,s,c)},merge:function(s,o){for(var c=+o.length,h=0,g=s.length;h<c;h++)s[g++]=o[h];return s.length=g,s},grep:function(s,o,c){for(var h=[],g=0,_=s.length,y=!c;g<_;g++)!o(s[g],g)!==y&&h.push(s[g]);return h},map:function(s,o,c){var h,g,_=0,y=[];if(V(s))for(h=s.length;_<h;_++)(g=o(s[_],_,c))!=null&&y.push(g);else for(_ in s)(g=o(s[_],_,c))!=null&&y.push(g);return a(y)},guid:1,support:x}),typeof Symbol=="function"&&(u.fn[Symbol.iterator]=t[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,o){f["[object "+o+"]"]=o.toLowerCase()});var re=function(s){var o,c,h,g,_,y,b,C,I,M,k,A,O,Z,W,K,Te,Ne,ft,pe="sizzle"+1*new Date,ee=s.document,lt=0,oe=0,be=Ii(),li=Ii(),Ci=Ii(),gt=Ii(),gn=function(v,T){return v===T&&(k=!0),0},On={}.hasOwnProperty,ct=[],Nn=ct.pop,wt=ct.push,Ce=ct.push,pt=ct.slice,mt=function(v,T){for(var S=0,D=v.length;S<D;S++)if(v[S]===T)return S;return-1},Dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ue="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",De="\\["+te+"*("+ue+")(?:"+te+"*([*^$|!~]?=)"+te+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ue+"))|)"+te+"*\\]",_t=":("+ue+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+De+")*)|.*)\\)|)",Pe=new RegExp(te+"+","g"),yt=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),Dn=new RegExp("^"+te+"*,"+te+"*"),Ri=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),jl=new RegExp(te+"|>"),Gl=new RegExp(_t),zl=new RegExp("^"+ue+"$"),Si={ID:new RegExp("^#("+ue+")"),CLASS:new RegExp("^\\.("+ue+")"),TAG:new RegExp("^("+ue+"|[*])"),ATTR:new RegExp("^"+De),PSEUDO:new RegExp("^"+_t),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+Dt+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},Xl=/HTML$/i,Ul=/^(?:input|select|textarea|button)$/i,ql=/^h\d$/i,ci=/^[^{]+\{\s*\[native \w/,Hl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ar=/[+~]/,Xt=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),Ut=function(v,T){var S="0x"+v.slice(1)-65536;return T||(S<0?String.fromCharCode(S+65536):String.fromCharCode(S>>10|55296,1023&S|56320))},ro=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,so=function(v,T){return T?v==="\0"?"\uFFFD":v.slice(0,-1)+"\\"+v.charCodeAt(v.length-1).toString(16)+" ":"\\"+v},oo=function(){A()},Zl=Ai(function(v){return v.disabled===!0&&v.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ce.apply(ct=pt.call(ee.childNodes),ee.childNodes),ct[ee.childNodes.length].nodeType}catch{Ce={apply:ct.length?function(T,S){wt.apply(T,pt.call(S))}:function(T,S){for(var D=T.length,L=0;T[D++]=S[L++];);T.length=D-1}}}function _e(v,T,S,D){var L,j,X,q,H,J,$,Q=T&&T.ownerDocument,se=T?T.nodeType:9;if(S=S||[],typeof v!="string"||!v||se!==1&&se!==9&&se!==11)return S;if(!D&&(A(T),T=T||O,W)){if(se!==11&&(H=Hl.exec(v)))if(L=H[1]){if(se===9){if(!(X=T.getElementById(L)))return S;if(X.id===L)return S.push(X),S}else if(Q&&(X=Q.getElementById(L))&&ft(T,X)&&X.id===L)return S.push(X),S}else{if(H[2])return Ce.apply(S,T.getElementsByTagName(v)),S;if((L=H[3])&&c.getElementsByClassName&&T.getElementsByClassName)return Ce.apply(S,T.getElementsByClassName(L)),S}if(c.qsa&&!gt[v+" "]&&(!K||!K.test(v))&&(se!==1||T.nodeName.toLowerCase()!=="object")){if($=v,Q=T,se===1&&(jl.test(v)||Ri.test(v))){for((Q=Ar.test(v)&&Mr(T.parentNode)||T)===T&&c.scope||((q=T.getAttribute("id"))?q=q.replace(ro,so):T.setAttribute("id",q=pe)),j=(J=y(v)).length;j--;)J[j]=(q?"#"+q:":scope")+" "+Li(J[j]);$=J.join(",")}try{return Ce.apply(S,Q.querySelectorAll($)),S}catch{gt(v,!0)}finally{q===pe&&T.removeAttribute("id")}}}return C(v.replace(yt,"$1"),T,S,D)}function Ii(){var v=[];return function T(S,D){return v.push(S+" ")>h.cacheLength&&delete T[v.shift()],T[S+" "]=D}}function It(v){return v[pe]=!0,v}function Lt(v){var T=O.createElement("fieldset");try{return!!v(T)}catch{return!1}finally{T.parentNode&&T.parentNode.removeChild(T),T=null}}function Pr(v,T){for(var S=v.split("|"),D=S.length;D--;)h.attrHandle[S[D]]=T}function ao(v,T){var S=T&&v,D=S&&v.nodeType===1&&T.nodeType===1&&v.sourceIndex-T.sourceIndex;if(D)return D;if(S){for(;S=S.nextSibling;)if(S===T)return-1}return v?1:-1}function Kl(v){return function(T){return T.nodeName.toLowerCase()==="input"&&T.type===v}}function Wl(v){return function(T){var S=T.nodeName.toLowerCase();return(S==="input"||S==="button")&&T.type===v}}function lo(v){return function(T){return"form"in T?T.parentNode&&T.disabled===!1?"label"in T?"label"in T.parentNode?T.parentNode.disabled===v:T.disabled===v:T.isDisabled===v||T.isDisabled!==!v&&Zl(T)===v:T.disabled===v:"label"in T&&T.disabled===v}}function pn(v){return It(function(T){return T=+T,It(function(S,D){for(var L,j=v([],S.length,T),X=j.length;X--;)S[L=j[X]]&&(S[L]=!(D[L]=S[L]))})})}function Mr(v){return v&&typeof v.getElementsByTagName<"u"&&v}for(o in c=_e.support={},_=_e.isXML=function(v){var T=v&&v.namespaceURI,S=v&&(v.ownerDocument||v).documentElement;return!Xl.test(T||S&&S.nodeName||"HTML")},A=_e.setDocument=function(v){var T,S,D=v?v.ownerDocument||v:ee;return D!=O&&D.nodeType===9&&D.documentElement&&(Z=(O=D).documentElement,W=!_(O),ee!=O&&(S=O.defaultView)&&S.top!==S&&(S.addEventListener?S.addEventListener("unload",oo,!1):S.attachEvent&&S.attachEvent("onunload",oo)),c.scope=Lt(function(L){return Z.appendChild(L).appendChild(O.createElement("div")),typeof L.querySelectorAll<"u"&&!L.querySelectorAll(":scope fieldset div").length}),c.attributes=Lt(function(L){return L.className="i",!L.getAttribute("className")}),c.getElementsByTagName=Lt(function(L){return L.appendChild(O.createComment("")),!L.getElementsByTagName("*").length}),c.getElementsByClassName=ci.test(O.getElementsByClassName),c.getById=Lt(function(L){return Z.appendChild(L).id=pe,!O.getElementsByName||!O.getElementsByName(pe).length}),c.getById?(h.filter.ID=function(L){var j=L.replace(Xt,Ut);return function(X){return X.getAttribute("id")===j}},h.find.ID=function(L,j){if(typeof j.getElementById<"u"&&W){var X=j.getElementById(L);return X?[X]:[]}}):(h.filter.ID=function(L){var j=L.replace(Xt,Ut);return function(X){var q=typeof X.getAttributeNode<"u"&&X.getAttributeNode("id");return q&&q.value===j}},h.find.ID=function(L,j){if(typeof j.getElementById<"u"&&W){var X,q,H,J=j.getElementById(L);if(J){if((X=J.getAttributeNode("id"))&&X.value===L)return[J];for(H=j.getElementsByName(L),q=0;J=H[q++];)if((X=J.getAttributeNode("id"))&&X.value===L)return[J]}return[]}}),h.find.TAG=c.getElementsByTagName?function(L,j){return typeof j.getElementsByTagName<"u"?j.getElementsByTagName(L):c.qsa?j.querySelectorAll(L):void 0}:function(L,j){var X,q=[],H=0,J=j.getElementsByTagName(L);if(L==="*"){for(;X=J[H++];)X.nodeType===1&&q.push(X);return q}return J},h.find.CLASS=c.getElementsByClassName&&function(L,j){if(typeof j.getElementsByClassName<"u"&&W)return j.getElementsByClassName(L)},Te=[],K=[],(c.qsa=ci.test(O.querySelectorAll))&&(Lt(function(L){var j;Z.appendChild(L).innerHTML="<a id='"+pe+"'></a><select id='"+pe+"-\r\\' msallowcapture=''><option selected=''></option></select>",L.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+te+`*(?:''|"")`),L.querySelectorAll("[selected]").length||K.push("\\["+te+"*(?:value|"+Dt+")"),L.querySelectorAll("[id~="+pe+"-]").length||K.push("~="),(j=O.createElement("input")).setAttribute("name",""),L.appendChild(j),L.querySelectorAll("[name='']").length||K.push("\\["+te+"*name"+te+"*="+te+`*(?:''|"")`),L.querySelectorAll(":checked").length||K.push(":checked"),L.querySelectorAll("a#"+pe+"+*").length||K.push(".#.+[+~]"),L.querySelectorAll("\\\f"),K.push("[\\r\\n\\f]")}),Lt(function(L){L.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var j=O.createElement("input");j.setAttribute("type","hidden"),L.appendChild(j).setAttribute("name","D"),L.querySelectorAll("[name=d]").length&&K.push("name"+te+"*[*^$|!~]?="),L.querySelectorAll(":enabled").length!==2&&K.push(":enabled",":disabled"),Z.appendChild(L).disabled=!0,L.querySelectorAll(":disabled").length!==2&&K.push(":enabled",":disabled"),L.querySelectorAll("*,:x"),K.push(",.*:")})),(c.matchesSelector=ci.test(Ne=Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.oMatchesSelector||Z.msMatchesSelector))&&Lt(function(L){c.disconnectedMatch=Ne.call(L,"*"),Ne.call(L,"[s!='']:x"),Te.push("!=",_t)}),K=K.length&&new RegExp(K.join("|")),Te=Te.length&&new RegExp(Te.join("|")),T=ci.test(Z.compareDocumentPosition),ft=T||ci.test(Z.contains)?function(L,j){var X=L.nodeType===9?L.documentElement:L,q=j&&j.parentNode;return L===q||!(!q||q.nodeType!==1||!(X.contains?X.contains(q):L.compareDocumentPosition&&16&L.compareDocumentPosition(q)))}:function(L,j){if(j){for(;j=j.parentNode;)if(j===L)return!0}return!1},gn=T?function(L,j){if(L===j)return k=!0,0;var X=!L.compareDocumentPosition-!j.compareDocumentPosition;return X||(1&(X=(L.ownerDocument||L)==(j.ownerDocument||j)?L.compareDocumentPosition(j):1)||!c.sortDetached&&j.compareDocumentPosition(L)===X?L==O||L.ownerDocument==ee&&ft(ee,L)?-1:j==O||j.ownerDocument==ee&&ft(ee,j)?1:M?mt(M,L)-mt(M,j):0:4&X?-1:1)}:function(L,j){if(L===j)return k=!0,0;var X,q=0,H=L.parentNode,J=j.parentNode,$=[L],Q=[j];if(!H||!J)return L==O?-1:j==O?1:H?-1:J?1:M?mt(M,L)-mt(M,j):0;if(H===J)return ao(L,j);for(X=L;X=X.parentNode;)$.unshift(X);for(X=j;X=X.parentNode;)Q.unshift(X);for(;$[q]===Q[q];)q++;return q?ao($[q],Q[q]):$[q]==ee?-1:Q[q]==ee?1:0}),O},_e.matches=function(v,T){return _e(v,null,null,T)},_e.matchesSelector=function(v,T){if(A(v),c.matchesSelector&&W&&!gt[T+" "]&&(!Te||!Te.test(T))&&(!K||!K.test(T)))try{var S=Ne.call(v,T);if(S||c.disconnectedMatch||v.document&&v.document.nodeType!==11)return S}catch{gt(T,!0)}return 0<_e(T,O,null,[v]).length},_e.contains=function(v,T){return(v.ownerDocument||v)!=O&&A(v),ft(v,T)},_e.attr=function(v,T){(v.ownerDocument||v)!=O&&A(v);var S=h.attrHandle[T.toLowerCase()],D=S&&On.call(h.attrHandle,T.toLowerCase())?S(v,T,!W):void 0;return D!==void 0?D:c.attributes||!W?v.getAttribute(T):(D=v.getAttributeNode(T))&&D.specified?D.value:null},_e.escape=function(v){return(v+"").replace(ro,so)},_e.error=function(v){throw new Error("Syntax error, unrecognized expression: "+v)},_e.uniqueSort=function(v){var T,S=[],D=0,L=0;if(k=!c.detectDuplicates,M=!c.sortStable&&v.slice(0),v.sort(gn),k){for(;T=v[L++];)T===v[L]&&(D=S.push(L));for(;D--;)v.splice(S[D],1)}return M=null,v},g=_e.getText=function(v){var T,S="",D=0,L=v.nodeType;if(L){if(L===1||L===9||L===11){if(typeof v.textContent=="string")return v.textContent;for(v=v.firstChild;v;v=v.nextSibling)S+=g(v)}else if(L===3||L===4)return v.nodeValue}else for(;T=v[D++];)S+=g(T);return S},(h=_e.selectors={cacheLength:50,createPseudo:It,match:Si,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(v){return v[1]=v[1].replace(Xt,Ut),v[3]=(v[3]||v[4]||v[5]||"").replace(Xt,Ut),v[2]==="~="&&(v[3]=" "+v[3]+" "),v.slice(0,4)},CHILD:function(v){return v[1]=v[1].toLowerCase(),v[1].slice(0,3)==="nth"?(v[3]||_e.error(v[0]),v[4]=+(v[4]?v[5]+(v[6]||1):2*(v[3]==="even"||v[3]==="odd")),v[5]=+(v[7]+v[8]||v[3]==="odd")):v[3]&&_e.error(v[0]),v},PSEUDO:function(v){var T,S=!v[6]&&v[2];return Si.CHILD.test(v[0])?null:(v[3]?v[2]=v[4]||v[5]||"":S&&Gl.test(S)&&(T=y(S,!0))&&(T=S.indexOf(")",S.length-T)-S.length)&&(v[0]=v[0].slice(0,T),v[2]=S.slice(0,T)),v.slice(0,3))}},filter:{TAG:function(v){var T=v.replace(Xt,Ut).toLowerCase();return v==="*"?function(){return!0}:function(S){return S.nodeName&&S.nodeName.toLowerCase()===T}},CLASS:function(v){var T=be[v+" "];return T||(T=new RegExp("(^|"+te+")"+v+"("+te+"|$)"))&&be(v,function(S){return T.test(typeof S.className=="string"&&S.className||typeof S.getAttribute<"u"&&S.getAttribute("class")||"")})},ATTR:function(v,T,S){return function(D){var L=_e.attr(D,v);return L==null?T==="!=":!T||(L+="",T==="="?L===S:T==="!="?L!==S:T==="^="?S&&L.indexOf(S)===0:T==="*="?S&&-1<L.indexOf(S):T==="$="?S&&L.slice(-S.length)===S:T==="~="?-1<(" "+L.replace(Pe," ")+" ").indexOf(S):T==="|="&&(L===S||L.slice(0,S.length+1)===S+"-"))}},CHILD:function(v,T,S,D,L){var j=v.slice(0,3)!=="nth",X=v.slice(-4)!=="last",q=T==="of-type";return D===1&&L===0?function(H){return!!H.parentNode}:function(H,J,$){var Q,se,Le,ne,Fe,ke,it=j!==X?"nextSibling":"previousSibling",ye=H.parentNode,Ft=q&&H.nodeName.toLowerCase(),$e=!$&&!q,Me=!1;if(ye){if(j){for(;it;){for(ne=H;ne=ne[it];)if(q?ne.nodeName.toLowerCase()===Ft:ne.nodeType===1)return!1;ke=it=v==="only"&&!ke&&"nextSibling"}return!0}if(ke=[X?ye.firstChild:ye.lastChild],X&&$e){for(Me=(Fe=(Q=(se=(Le=(ne=ye)[pe]||(ne[pe]={}))[ne.uniqueID]||(Le[ne.uniqueID]={}))[v]||[])[0]===lt&&Q[1])&&Q[2],ne=Fe&&ye.childNodes[Fe];ne=++Fe&&ne&&ne[it]||(Me=Fe=0)||ke.pop();)if(ne.nodeType===1&&++Me&&ne===H){se[v]=[lt,Fe,Me];break}}else if($e&&(Me=Fe=(Q=(se=(Le=(ne=H)[pe]||(ne[pe]={}))[ne.uniqueID]||(Le[ne.uniqueID]={}))[v]||[])[0]===lt&&Q[1]),Me===!1)for(;(ne=++Fe&&ne&&ne[it]||(Me=Fe=0)||ke.pop())&&!((q?ne.nodeName.toLowerCase()===Ft:ne.nodeType===1)&&++Me&&($e&&((se=(Le=ne[pe]||(ne[pe]={}))[ne.uniqueID]||(Le[ne.uniqueID]={}))[v]=[lt,Me]),ne===H)););return(Me-=L)===D||Me%D==0&&0<=Me/D}}},PSEUDO:function(v,T){var S,D=h.pseudos[v]||h.setFilters[v.toLowerCase()]||_e.error("unsupported pseudo: "+v);return D[pe]?D(T):1<D.length?(S=[v,v,"",T],h.setFilters.hasOwnProperty(v.toLowerCase())?It(function(L,j){for(var X,q=D(L,T),H=q.length;H--;)L[X=mt(L,q[H])]=!(j[X]=q[H])}):function(L){return D(L,0,S)}):D}},pseudos:{not:It(function(v){var T=[],S=[],D=b(v.replace(yt,"$1"));return D[pe]?It(function(L,j,X,q){for(var H,J=D(L,null,q,[]),$=L.length;$--;)(H=J[$])&&(L[$]=!(j[$]=H))}):function(L,j,X){return T[0]=L,D(T,null,X,S),T[0]=null,!S.pop()}}),has:It(function(v){return function(T){return 0<_e(v,T).length}}),contains:It(function(v){return v=v.replace(Xt,Ut),function(T){return-1<(T.textContent||g(T)).indexOf(v)}}),lang:It(function(v){return zl.test(v||"")||_e.error("unsupported lang: "+v),v=v.replace(Xt,Ut).toLowerCase(),function(T){var S;do if(S=W?T.lang:T.getAttribute("xml:lang")||T.getAttribute("lang"))return(S=S.toLowerCase())===v||S.indexOf(v+"-")===0;while((T=T.parentNode)&&T.nodeType===1);return!1}}),target:function(v){var T=s.location&&s.location.hash;return T&&T.slice(1)===v.id},root:function(v){return v===Z},focus:function(v){return v===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(v.type||v.href||~v.tabIndex)},enabled:lo(!1),disabled:lo(!0),checked:function(v){var T=v.nodeName.toLowerCase();return T==="input"&&!!v.checked||T==="option"&&!!v.selected},selected:function(v){return v.parentNode&&v.parentNode.selectedIndex,v.selected===!0},empty:function(v){for(v=v.firstChild;v;v=v.nextSibling)if(v.nodeType<6)return!1;return!0},parent:function(v){return!h.pseudos.empty(v)},header:function(v){return ql.test(v.nodeName)},input:function(v){return Ul.test(v.nodeName)},button:function(v){var T=v.nodeName.toLowerCase();return T==="input"&&v.type==="button"||T==="button"},text:function(v){var T;return v.nodeName.toLowerCase()==="input"&&v.type==="text"&&((T=v.getAttribute("type"))==null||T.toLowerCase()==="text")},first:pn(function(){return[0]}),last:pn(function(v,T){return[T-1]}),eq:pn(function(v,T,S){return[S<0?S+T:S]}),even:pn(function(v,T){for(var S=0;S<T;S+=2)v.push(S);return v}),odd:pn(function(v,T){for(var S=1;S<T;S+=2)v.push(S);return v}),lt:pn(function(v,T,S){for(var D=S<0?S+T:T<S?T:S;0<=--D;)v.push(D);return v}),gt:pn(function(v,T,S){for(var D=S<0?S+T:S;++D<T;)v.push(D);return v})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[o]=Kl(o);for(o in{submit:!0,reset:!0})h.pseudos[o]=Wl(o);function co(){}function Li(v){for(var T=0,S=v.length,D="";T<S;T++)D+=v[T].value;return D}function Ai(v,T,S){var D=T.dir,L=T.next,j=L||D,X=S&&j==="parentNode",q=oe++;return T.first?function(H,J,$){for(;H=H[D];)if(H.nodeType===1||X)return v(H,J,$);return!1}:function(H,J,$){var Q,se,Le,ne=[lt,q];if($){for(;H=H[D];)if((H.nodeType===1||X)&&v(H,J,$))return!0}else for(;H=H[D];)if(H.nodeType===1||X)if(se=(Le=H[pe]||(H[pe]={}))[H.uniqueID]||(Le[H.uniqueID]={}),L&&L===H.nodeName.toLowerCase())H=H[D]||H;else{if((Q=se[j])&&Q[0]===lt&&Q[1]===q)return ne[2]=Q[2];if((se[j]=ne)[2]=v(H,J,$))return!0}return!1}}function Or(v){return 1<v.length?function(T,S,D){for(var L=v.length;L--;)if(!v[L](T,S,D))return!1;return!0}:v[0]}function Pi(v,T,S,D,L){for(var j,X=[],q=0,H=v.length,J=T!=null;q<H;q++)(j=v[q])&&(S&&!S(j,D,L)||(X.push(j),J&&T.push(q)));return X}function Nr(v,T,S,D,L,j){return D&&!D[pe]&&(D=Nr(D)),L&&!L[pe]&&(L=Nr(L,j)),It(function(X,q,H,J){var $,Q,se,Le=[],ne=[],Fe=q.length,ke=X||function(Ft,$e,Me){for(var At=0,Mi=$e.length;At<Mi;At++)_e(Ft,$e[At],Me);return Me}(T||"*",H.nodeType?[H]:H,[]),it=!v||!X&&T?ke:Pi(ke,Le,v,H,J),ye=S?L||(X?v:Fe||D)?[]:q:it;if(S&&S(it,ye,H,J),D)for($=Pi(ye,ne),D($,[],H,J),Q=$.length;Q--;)(se=$[Q])&&(ye[ne[Q]]=!(it[ne[Q]]=se));if(X){if(L||v){if(L){for($=[],Q=ye.length;Q--;)(se=ye[Q])&&$.push(it[Q]=se);L(null,ye=[],$,J)}for(Q=ye.length;Q--;)(se=ye[Q])&&-1<($=L?mt(X,se):Le[Q])&&(X[$]=!(q[$]=se))}}else ye=Pi(ye===q?ye.splice(Fe,ye.length):ye),L?L(null,q,ye,J):Ce.apply(q,ye)})}function Dr(v){for(var T,S,D,L=v.length,j=h.relative[v[0].type],X=j||h.relative[" "],q=j?1:0,H=Ai(function(Q){return Q===T},X,!0),J=Ai(function(Q){return-1<mt(T,Q)},X,!0),$=[function(Q,se,Le){var ne=!j&&(Le||se!==I)||((T=se).nodeType?H(Q,se,Le):J(Q,se,Le));return T=null,ne}];q<L;q++)if(S=h.relative[v[q].type])$=[Ai(Or($),S)];else{if((S=h.filter[v[q].type].apply(null,v[q].matches))[pe]){for(D=++q;D<L&&!h.relative[v[D].type];D++);return Nr(1<q&&Or($),1<q&&Li(v.slice(0,q-1).concat({value:v[q-2].type===" "?"*":""})).replace(yt,"$1"),S,q<D&&Dr(v.slice(q,D)),D<L&&Dr(v=v.slice(D)),D<L&&Li(v))}$.push(S)}return Or($)}return co.prototype=h.filters=h.pseudos,h.setFilters=new co,y=_e.tokenize=function(v,T){var S,D,L,j,X,q,H,J=li[v+" "];if(J)return T?0:J.slice(0);for(X=v,q=[],H=h.preFilter;X;){for(j in S&&!(D=Dn.exec(X))||(D&&(X=X.slice(D[0].length)||X),q.push(L=[])),S=!1,(D=Ri.exec(X))&&(S=D.shift(),L.push({value:S,type:D[0].replace(yt," ")}),X=X.slice(S.length)),h.filter)!(D=Si[j].exec(X))||H[j]&&!(D=H[j](D))||(S=D.shift(),L.push({value:S,type:j,matches:D}),X=X.slice(S.length));if(!S)break}return T?X.length:X?_e.error(v):li(v,q).slice(0)},b=_e.compile=function(v,T){var S,D,L,j,X,q,H=[],J=[],$=Ci[v+" "];if(!$){for(T||(T=y(v)),S=T.length;S--;)($=Dr(T[S]))[pe]?H.push($):J.push($);($=Ci(v,(D=J,j=0<(L=H).length,X=0<D.length,q=function(Q,se,Le,ne,Fe){var ke,it,ye,Ft=0,$e="0",Me=Q&&[],At=[],Mi=I,uo=Q||X&&h.find.TAG("*",Fe),ho=lt+=Mi==null?1:Math.random()||.1,Vl=uo.length;for(Fe&&(I=se==O||se||Fe);$e!==Vl&&(ke=uo[$e])!=null;$e++){if(X&&ke){for(it=0,se||ke.ownerDocument==O||(A(ke),Le=!W);ye=D[it++];)if(ye(ke,se||O,Le)){ne.push(ke);break}Fe&&(lt=ho)}j&&((ke=!ye&&ke)&&Ft--,Q&&Me.push(ke))}if(Ft+=$e,j&&$e!==Ft){for(it=0;ye=L[it++];)ye(Me,At,se,Le);if(Q){if(0<Ft)for(;$e--;)Me[$e]||At[$e]||(At[$e]=Nn.call(ne));At=Pi(At)}Ce.apply(ne,At),Fe&&!Q&&0<At.length&&1<Ft+L.length&&_e.uniqueSort(ne)}return Fe&&(lt=ho,I=Mi),Me},j?It(q):q))).selector=v}return $},C=_e.select=function(v,T,S,D){var L,j,X,q,H,J=typeof v=="function"&&v,$=!D&&y(v=J.selector||v);if(S=S||[],$.length===1){if(2<(j=$[0]=$[0].slice(0)).length&&(X=j[0]).type==="ID"&&T.nodeType===9&&W&&h.relative[j[1].type]){if(!(T=(h.find.ID(X.matches[0].replace(Xt,Ut),T)||[])[0]))return S;J&&(T=T.parentNode),v=v.slice(j.shift().value.length)}for(L=Si.needsContext.test(v)?0:j.length;L--&&(X=j[L],!h.relative[q=X.type]);)if((H=h.find[q])&&(D=H(X.matches[0].replace(Xt,Ut),Ar.test(j[0].type)&&Mr(T.parentNode)||T))){if(j.splice(L,1),!(v=D.length&&Li(j)))return Ce.apply(S,D),S;break}}return(J||b(v,$))(D,T,!W,S,!T||Ar.test(v)&&Mr(T.parentNode)||T),S},c.sortStable=pe.split("").sort(gn).join("")===pe,c.detectDuplicates=!!k,A(),c.sortDetached=Lt(function(v){return 1&v.compareDocumentPosition(O.createElement("fieldset"))}),Lt(function(v){return v.innerHTML="<a href='#'></a>",v.firstChild.getAttribute("href")==="#"})||Pr("type|href|height|width",function(v,T,S){if(!S)return v.getAttribute(T,T.toLowerCase()==="type"?1:2)}),c.attributes&&Lt(function(v){return v.innerHTML="<input/>",v.firstChild.setAttribute("value",""),v.firstChild.getAttribute("value")===""})||Pr("value",function(v,T,S){if(!S&&v.nodeName.toLowerCase()==="input")return v.defaultValue}),Lt(function(v){return v.getAttribute("disabled")==null})||Pr(Dt,function(v,T,S){var D;if(!S)return v[T]===!0?T.toLowerCase():(D=v.getAttributeNode(T))&&D.specified?D.value:null}),_e}(i);u.find=re,u.expr=re.selectors,u.expr[":"]=u.expr.pseudos,u.uniqueSort=u.unique=re.uniqueSort,u.text=re.getText,u.isXMLDoc=re.isXML,u.contains=re.contains,u.escapeSelector=re.escape;var le=function(s,o,c){for(var h=[],g=c!==void 0;(s=s[o])&&s.nodeType!==9;)if(s.nodeType===1){if(g&&u(s).is(c))break;h.push(s)}return h},fe=function(s,o){for(var c=[];s;s=s.nextSibling)s.nodeType===1&&s!==o&&c.push(s);return c},he=u.expr.match.needsContext;function ce(s,o){return s.nodeName&&s.nodeName.toLowerCase()===o.toLowerCase()}var st=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Je(s,o,c){return R(o)?u.grep(s,function(h,g){return!!o.call(h,g,h)!==c}):o.nodeType?u.grep(s,function(h){return h===o!==c}):typeof o!="string"?u.grep(s,function(h){return-1<d.call(o,h)!==c}):u.filter(o,s,c)}u.filter=function(s,o,c){var h=o[0];return c&&(s=":not("+s+")"),o.length===1&&h.nodeType===1?u.find.matchesSelector(h,s)?[h]:[]:u.find.matches(s,u.grep(o,function(g){return g.nodeType===1}))},u.fn.extend({find:function(s){var o,c,h=this.length,g=this;if(typeof s!="string")return this.pushStack(u(s).filter(function(){for(o=0;o<h;o++)if(u.contains(g[o],this))return!0}));for(c=this.pushStack([]),o=0;o<h;o++)u.find(s,g[o],c);return 1<h?u.uniqueSort(c):c},filter:function(s){return this.pushStack(Je(this,s||[],!1))},not:function(s){return this.pushStack(Je(this,s||[],!0))},is:function(s){return!!Je(this,typeof s=="string"&&he.test(s)?u(s):s||[],!1).length}});var Ke,et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(u.fn.init=function(s,o,c){var h,g;if(!s)return this;if(c=c||Ke,typeof s=="string"){if(!(h=s[0]==="<"&&s[s.length-1]===">"&&3<=s.length?[null,s,null]:et.exec(s))||!h[1]&&o)return!o||o.jquery?(o||c).find(s):this.constructor(o).find(s);if(h[1]){if(o=o instanceof u?o[0]:o,u.merge(this,u.parseHTML(h[1],o&&o.nodeType?o.ownerDocument||o:P,!0)),st.test(h[1])&&u.isPlainObject(o))for(h in o)R(this[h])?this[h](o[h]):this.attr(h,o[h]);return this}return(g=P.getElementById(h[2]))&&(this[0]=g,this.length=1),this}return s.nodeType?(this[0]=s,this.length=1,this):R(s)?c.ready!==void 0?c.ready(s):s(u):u.makeArray(s,this)}).prototype=u.fn,Ke=u(P);var We=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};function dt(s,o){for(;(s=s[o])&&s.nodeType!==1;);return s}u.fn.extend({has:function(s){var o=u(s,this),c=o.length;return this.filter(function(){for(var h=0;h<c;h++)if(u.contains(this,o[h]))return!0})},closest:function(s,o){var c,h=0,g=this.length,_=[],y=typeof s!="string"&&u(s);if(!he.test(s)){for(;h<g;h++)for(c=this[h];c&&c!==o;c=c.parentNode)if(c.nodeType<11&&(y?-1<y.index(c):c.nodeType===1&&u.find.matchesSelector(c,s))){_.push(c);break}}return this.pushStack(1<_.length?u.uniqueSort(_):_)},index:function(s){return s?typeof s=="string"?d.call(u(s),this[0]):d.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,o){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(s,o))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}}),u.each({parent:function(s){var o=s.parentNode;return o&&o.nodeType!==11?o:null},parents:function(s){return le(s,"parentNode")},parentsUntil:function(s,o,c){return le(s,"parentNode",c)},next:function(s){return dt(s,"nextSibling")},prev:function(s){return dt(s,"previousSibling")},nextAll:function(s){return le(s,"nextSibling")},prevAll:function(s){return le(s,"previousSibling")},nextUntil:function(s,o,c){return le(s,"nextSibling",c)},prevUntil:function(s,o,c){return le(s,"previousSibling",c)},siblings:function(s){return fe((s.parentNode||{}).firstChild,s)},children:function(s){return fe(s.firstChild)},contents:function(s){return s.contentDocument!=null&&n(s.contentDocument)?s.contentDocument:(ce(s,"template")&&(s=s.content||s),u.merge([],s.childNodes))}},function(s,o){u.fn[s]=function(c,h){var g=u.map(this,o,c);return s.slice(-5)!=="Until"&&(h=c),h&&typeof h=="string"&&(g=u.filter(h,g)),1<this.length&&(de[s]||u.uniqueSort(g),We.test(s)&&g.reverse()),this.pushStack(g)}});var Ae=/[^\x20\t\r\n\f]+/g;function Xe(s){return s}function Mt(s){throw s}function Oe(s,o,c,h){var g;try{s&&R(g=s.promise)?g.call(s).done(o).fail(c):s&&R(g=s.then)?g.call(s,o,c):o.apply(void 0,[s].slice(h))}catch(_){c.apply(void 0,[_])}}u.Callbacks=function(s){var o,c;s=typeof s=="string"?(o=s,c={},u.each(o.match(Ae)||[],function(A,O){c[O]=!0}),c):u.extend({},s);var h,g,_,y,b=[],C=[],I=-1,M=function(){for(y=y||s.once,_=h=!0;C.length;I=-1)for(g=C.shift();++I<b.length;)b[I].apply(g[0],g[1])===!1&&s.stopOnFalse&&(I=b.length,g=!1);s.memory||(g=!1),h=!1,y&&(b=g?[]:"")},k={add:function(){return b&&(g&&!h&&(I=b.length-1,C.push(g)),function A(O){u.each(O,function(Z,W){R(W)?s.unique&&k.has(W)||b.push(W):W&&W.length&&G(W)!=="string"&&A(W)})}(arguments),g&&!h&&M()),this},remove:function(){return u.each(arguments,function(A,O){for(var Z;-1<(Z=u.inArray(O,b,Z));)b.splice(Z,1),Z<=I&&I--}),this},has:function(A){return A?-1<u.inArray(A,b):0<b.length},empty:function(){return b&&(b=[]),this},disable:function(){return y=C=[],b=g="",this},disabled:function(){return!b},lock:function(){return y=C=[],g||h||(b=g=""),this},locked:function(){return!!y},fireWith:function(A,O){return y||(O=[A,(O=O||[]).slice?O.slice():O],C.push(O),h||M()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!_}};return k},u.extend({Deferred:function(s){var o=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],c="pending",h={state:function(){return c},always:function(){return g.done(arguments).fail(arguments),this},catch:function(_){return h.then(null,_)},pipe:function(){var _=arguments;return u.Deferred(function(y){u.each(o,function(b,C){var I=R(_[C[4]])&&_[C[4]];g[C[1]](function(){var M=I&&I.apply(this,arguments);M&&R(M.promise)?M.promise().progress(y.notify).done(y.resolve).fail(y.reject):y[C[0]+"With"](this,I?[M]:arguments)})}),_=null}).promise()},then:function(_,y,b){var C=0;function I(M,k,A,O){return function(){var Z=this,W=arguments,K=function(){var Ne,ft;if(!(M<C)){if((Ne=A.apply(Z,W))===k.promise())throw new TypeError("Thenable self-resolution");ft=Ne&&(typeof Ne=="object"||typeof Ne=="function")&&Ne.then,R(ft)?O?ft.call(Ne,I(C,k,Xe,O),I(C,k,Mt,O)):(C++,ft.call(Ne,I(C,k,Xe,O),I(C,k,Mt,O),I(C,k,Xe,k.notifyWith))):(A!==Xe&&(Z=void 0,W=[Ne]),(O||k.resolveWith)(Z,W))}},Te=O?K:function(){try{K()}catch(Ne){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(Ne,Te.stackTrace),C<=M+1&&(A!==Mt&&(Z=void 0,W=[Ne]),k.rejectWith(Z,W))}};M?Te():(u.Deferred.getStackHook&&(Te.stackTrace=u.Deferred.getStackHook()),i.setTimeout(Te))}}return u.Deferred(function(M){o[0][3].add(I(0,M,R(b)?b:Xe,M.notifyWith)),o[1][3].add(I(0,M,R(_)?_:Xe)),o[2][3].add(I(0,M,R(y)?y:Mt))}).promise()},promise:function(_){return _!=null?u.extend(_,h):h}},g={};return u.each(o,function(_,y){var b=y[2],C=y[5];h[y[1]]=b.add,C&&b.add(function(){c=C},o[3-_][2].disable,o[3-_][3].disable,o[0][2].lock,o[0][3].lock),b.add(y[3].fire),g[y[0]]=function(){return g[y[0]+"With"](this===g?void 0:this,arguments),this},g[y[0]+"With"]=b.fireWith}),h.promise(g),s&&s.call(g,g),g},when:function(s){var o=arguments.length,c=o,h=Array(c),g=r.call(arguments),_=u.Deferred(),y=function(b){return function(C){h[b]=this,g[b]=1<arguments.length?r.call(arguments):C,--o||_.resolveWith(h,g)}};if(o<=1&&(Oe(s,_.done(y(c)).resolve,_.reject,!o),_.state()==="pending"||R(g[c]&&g[c].then)))return _.then();for(;c--;)Oe(g[c],y(c),_.reject);return _.promise()}});var Ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(s,o){i.console&&i.console.warn&&s&&Ve.test(s.name)&&i.console.warn("jQuery.Deferred exception: "+s.message,s.stack,o)},u.readyException=function(s){i.setTimeout(function(){throw s})};var me=u.Deferred();function xe(){P.removeEventListener("DOMContentLoaded",xe),i.removeEventListener("load",xe),u.ready()}u.fn.ready=function(s){return me.then(s).catch(function(o){u.readyException(o)}),this},u.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--u.readyWait:u.isReady)||(u.isReady=!0)!==s&&0<--u.readyWait||me.resolveWith(P,[u])}}),u.ready.then=me.then,P.readyState==="complete"||P.readyState!=="loading"&&!P.documentElement.doScroll?i.setTimeout(u.ready):(P.addEventListener("DOMContentLoaded",xe),i.addEventListener("load",xe));var Ye=function(s,o,c,h,g,_,y){var b=0,C=s.length,I=c==null;if(G(c)==="object")for(b in g=!0,c)Ye(s,o,b,c[b],!0,_,y);else if(h!==void 0&&(g=!0,R(h)||(y=!0),I&&(y?(o.call(s,h),o=null):(I=o,o=function(M,k,A){return I.call(u(M),A)})),o))for(;b<C;b++)o(s[b],c,y?h:h.call(s[b],b,o(s[b],c)));return g?s:I?o.call(s):C?o(s[0],c):_},tt=/^-ms-/,Vt=/-([a-z])/g;function Yt(s,o){return o.toUpperCase()}function ot(s){return s.replace(tt,"ms-").replace(Vt,Yt)}var Bt=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function Ot(){this.expando=u.expando+Ot.uid++}Ot.uid=1,Ot.prototype={cache:function(s){var o=s[this.expando];return o||(o={},Bt(s)&&(s.nodeType?s[this.expando]=o:Object.defineProperty(s,this.expando,{value:o,configurable:!0}))),o},set:function(s,o,c){var h,g=this.cache(s);if(typeof o=="string")g[ot(o)]=c;else for(h in o)g[ot(h)]=o[h];return g},get:function(s,o){return o===void 0?this.cache(s):s[this.expando]&&s[this.expando][ot(o)]},access:function(s,o,c){return o===void 0||o&&typeof o=="string"&&c===void 0?this.get(s,o):(this.set(s,o,c),c!==void 0?c:o)},remove:function(s,o){var c,h=s[this.expando];if(h!==void 0){if(o!==void 0)for(c=(o=Array.isArray(o)?o.map(ot):(o=ot(o))in h?[o]:o.match(Ae)||[]).length;c--;)delete h[o[c]];(o===void 0||u.isEmptyObject(h))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var o=s[this.expando];return o!==void 0&&!u.isEmptyObject(o)}};var Y=new Ot,Ue=new Ot,mr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;function ti(s,o,c){var h,g;if(c===void 0&&s.nodeType===1)if(h="data-"+o.replace($t,"-$&").toLowerCase(),typeof(c=s.getAttribute(h))=="string"){try{c=(g=c)==="true"||g!=="false"&&(g==="null"?null:g===+g+""?+g:mr.test(g)?JSON.parse(g):g)}catch{}Ue.set(s,o,c)}else c=void 0;return c}u.extend({hasData:function(s){return Ue.hasData(s)||Y.hasData(s)},data:function(s,o,c){return Ue.access(s,o,c)},removeData:function(s,o){Ue.remove(s,o)},_data:function(s,o,c){return Y.access(s,o,c)},_removeData:function(s,o){Y.remove(s,o)}}),u.fn.extend({data:function(s,o){var c,h,g,_=this[0],y=_&&_.attributes;if(s===void 0){if(this.length&&(g=Ue.get(_),_.nodeType===1&&!Y.get(_,"hasDataAttrs"))){for(c=y.length;c--;)y[c]&&(h=y[c].name).indexOf("data-")===0&&(h=ot(h.slice(5)),ti(_,h,g[h]));Y.set(_,"hasDataAttrs",!0)}return g}return typeof s=="object"?this.each(function(){Ue.set(this,s)}):Ye(this,function(b){var C;if(_&&b===void 0)return(C=Ue.get(_,s))!==void 0||(C=ti(_,s))!==void 0?C:void 0;this.each(function(){Ue.set(this,s,b)})},null,o,1<arguments.length,null,!0)},removeData:function(s){return this.each(function(){Ue.remove(this,s)})}}),u.extend({queue:function(s,o,c){var h;if(s)return o=(o||"fx")+"queue",h=Y.get(s,o),c&&(!h||Array.isArray(c)?h=Y.access(s,o,u.makeArray(c)):h.push(c)),h||[]},dequeue:function(s,o){o=o||"fx";var c=u.queue(s,o),h=c.length,g=c.shift(),_=u._queueHooks(s,o);g==="inprogress"&&(g=c.shift(),h--),g&&(o==="fx"&&c.unshift("inprogress"),delete _.stop,g.call(s,function(){u.dequeue(s,o)},_)),!h&&_&&_.empty.fire()},_queueHooks:function(s,o){var c=o+"queueHooks";return Y.get(s,c)||Y.access(s,c,{empty:u.Callbacks("once memory").add(function(){Y.remove(s,[o+"queue",c])})})}}),u.fn.extend({queue:function(s,o){var c=2;return typeof s!="string"&&(o=s,s="fx",c--),arguments.length<c?u.queue(this[0],s):o===void 0?this:this.each(function(){var h=u.queue(this,s,o);u._queueHooks(this,s),s==="fx"&&h[0]!=="inprogress"&&u.dequeue(this,s)})},dequeue:function(s){return this.each(function(){u.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,o){var c,h=1,g=u.Deferred(),_=this,y=this.length,b=function(){--h||g.resolveWith(_,[_])};for(typeof s!="string"&&(o=s,s=void 0),s=s||"fx";y--;)(c=Y.get(_[y],s+"queueHooks"))&&c.empty&&(h++,c.empty.add(b));return b(),g.promise(o)}});var ni=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,un=new RegExp("^(?:([+-])=|)("+ni+")([a-z%]*)$","i"),Et=["Top","Right","Bottom","Left"],jt=P.documentElement,Be=function(s){return u.contains(s.ownerDocument,s)},bt={composed:!0};jt.getRootNode&&(Be=function(s){return u.contains(s.ownerDocument,s)||s.getRootNode(bt)===s.ownerDocument});var Nt=function(s,o){return(s=o||s).style.display==="none"||s.style.display===""&&Be(s)&&u.css(s,"display")==="none"};function Qt(s,o,c,h){var g,_,y=20,b=h?function(){return h.cur()}:function(){return u.css(s,o,"")},C=b(),I=c&&c[3]||(u.cssNumber[o]?"":"px"),M=s.nodeType&&(u.cssNumber[o]||I!=="px"&&+C)&&un.exec(u.css(s,o));if(M&&M[3]!==I){for(C/=2,I=I||M[3],M=+C||1;y--;)u.style(s,o,M+I),(1-_)*(1-(_=b()/C||.5))<=0&&(y=0),M/=_;M*=2,u.style(s,o,M+I),c=c||[]}return c&&(M=+M||+C||0,g=c[1]?M+(c[1]+1)*c[2]:+c[2],h&&(h.unit=I,h.start=M,h.end=g)),g}var ii={};function Gt(s,o){for(var c,h,g,_,y,b,C,I=[],M=0,k=s.length;M<k;M++)(h=s[M]).style&&(c=h.style.display,o?(c==="none"&&(I[M]=Y.get(h,"display")||null,I[M]||(h.style.display="")),h.style.display===""&&Nt(h)&&(I[M]=(C=y=_=void 0,y=(g=h).ownerDocument,b=g.nodeName,(C=ii[b])||(_=y.body.appendChild(y.createElement(b)),C=u.css(_,"display"),_.parentNode.removeChild(_),C==="none"&&(C="block"),ii[b]=C)))):c!=="none"&&(I[M]="none",Y.set(h,"display",c)));for(M=0;M<k;M++)I[M]!=null&&(s[M].style.display=I[M]);return s}u.fn.extend({show:function(){return Gt(this,!0)},hide:function(){return Gt(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){Nt(this)?u(this).show():u(this).hide()})}});var Ct,zt,hn=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ls=/^$|^module$|\/(?:java|ecma)script/i;Ct=P.createDocumentFragment().appendChild(P.createElement("div")),(zt=P.createElement("input")).setAttribute("type","radio"),zt.setAttribute("checked","checked"),zt.setAttribute("name","t"),Ct.appendChild(zt),x.checkClone=Ct.cloneNode(!0).cloneNode(!0).lastChild.checked,Ct.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!Ct.cloneNode(!0).lastChild.defaultValue,Ct.innerHTML="<option></option>",x.option=!!Ct.lastChild;var xt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function at(s,o){var c;return c=typeof s.getElementsByTagName<"u"?s.getElementsByTagName(o||"*"):typeof s.querySelectorAll<"u"?s.querySelectorAll(o||"*"):[],o===void 0||o&&ce(s,o)?u.merge([s],c):c}function _r(s,o){for(var c=0,h=s.length;c<h;c++)Y.set(s[c],"globalEval",!o||Y.get(o[c],"globalEval"))}xt.tbody=xt.tfoot=xt.colgroup=xt.caption=xt.thead,xt.th=xt.td,x.option||(xt.optgroup=xt.option=[1,"<select multiple='multiple'>","</select>"]);var ul=/<|&#?\w+;/;function As(s,o,c,h,g){for(var _,y,b,C,I,M,k=o.createDocumentFragment(),A=[],O=0,Z=s.length;O<Z;O++)if((_=s[O])||_===0)if(G(_)==="object")u.merge(A,_.nodeType?[_]:_);else if(ul.test(_)){for(y=y||k.appendChild(o.createElement("div")),b=(nt.exec(_)||["",""])[1].toLowerCase(),C=xt[b]||xt._default,y.innerHTML=C[1]+u.htmlPrefilter(_)+C[2],M=C[0];M--;)y=y.lastChild;u.merge(A,y.childNodes),(y=k.firstChild).textContent=""}else A.push(o.createTextNode(_));for(k.textContent="",O=0;_=A[O++];)if(h&&-1<u.inArray(_,h))g&&g.push(_);else if(I=Be(_),y=at(k.appendChild(_),"script"),I&&_r(y),c)for(M=0;_=y[M++];)Ls.test(_.type||"")&&c.push(_);return k}var Ps=/^([^.]*)(?:\.(.+)|)/;function In(){return!0}function Ln(){return!1}function hl(s,o){return s===function(){try{return P.activeElement}catch{}}()==(o==="focus")}function yr(s,o,c,h,g,_){var y,b;if(typeof o=="object"){for(b in typeof c!="string"&&(h=h||c,c=void 0),o)yr(s,b,c,h,o[b],_);return s}if(h==null&&g==null?(g=c,h=c=void 0):g==null&&(typeof c=="string"?(g=h,h=void 0):(g=h,h=c,c=void 0)),g===!1)g=Ln;else if(!g)return s;return _===1&&(y=g,(g=function(C){return u().off(C),y.apply(this,arguments)}).guid=y.guid||(y.guid=u.guid++)),s.each(function(){u.event.add(this,o,g,h,c)})}function xi(s,o,c){c?(Y.set(s,o,!1),u.event.add(s,o,{namespace:!1,handler:function(h){var g,_,y=Y.get(this,o);if(1&h.isTrigger&&this[o]){if(y.length)(u.event.special[o]||{}).delegateType&&h.stopPropagation();else if(y=r.call(arguments),Y.set(this,o,y),g=c(this,o),this[o](),y!==(_=Y.get(this,o))||g?Y.set(this,o,!1):_={},y!==_)return h.stopImmediatePropagation(),h.preventDefault(),_&&_.value}else y.length&&(Y.set(this,o,{value:u.event.trigger(u.extend(y[0],u.Event.prototype),y.slice(1),this)}),h.stopImmediatePropagation())}})):Y.get(s,o)===void 0&&u.event.add(s,o,In)}u.event={global:{},add:function(s,o,c,h,g){var _,y,b,C,I,M,k,A,O,Z,W,K=Y.get(s);if(Bt(s))for(c.handler&&(c=(_=c).handler,g=_.selector),g&&u.find.matchesSelector(jt,g),c.guid||(c.guid=u.guid++),(C=K.events)||(C=K.events=Object.create(null)),(y=K.handle)||(y=K.handle=function(Te){return typeof u<"u"&&u.event.triggered!==Te.type?u.event.dispatch.apply(s,arguments):void 0}),I=(o=(o||"").match(Ae)||[""]).length;I--;)O=W=(b=Ps.exec(o[I])||[])[1],Z=(b[2]||"").split(".").sort(),O&&(k=u.event.special[O]||{},O=(g?k.delegateType:k.bindType)||O,k=u.event.special[O]||{},M=u.extend({type:O,origType:W,data:h,handler:c,guid:c.guid,selector:g,needsContext:g&&u.expr.match.needsContext.test(g),namespace:Z.join(".")},_),(A=C[O])||((A=C[O]=[]).delegateCount=0,k.setup&&k.setup.call(s,h,Z,y)!==!1||s.addEventListener&&s.addEventListener(O,y)),k.add&&(k.add.call(s,M),M.handler.guid||(M.handler.guid=c.guid)),g?A.splice(A.delegateCount++,0,M):A.push(M),u.event.global[O]=!0)},remove:function(s,o,c,h,g){var _,y,b,C,I,M,k,A,O,Z,W,K=Y.hasData(s)&&Y.get(s);if(K&&(C=K.events)){for(I=(o=(o||"").match(Ae)||[""]).length;I--;)if(O=W=(b=Ps.exec(o[I])||[])[1],Z=(b[2]||"").split(".").sort(),O){for(k=u.event.special[O]||{},A=C[O=(h?k.delegateType:k.bindType)||O]||[],b=b[2]&&new RegExp("(^|\\.)"+Z.join("\\.(?:.*\\.|)")+"(\\.|$)"),y=_=A.length;_--;)M=A[_],!g&&W!==M.origType||c&&c.guid!==M.guid||b&&!b.test(M.namespace)||h&&h!==M.selector&&(h!=="**"||!M.selector)||(A.splice(_,1),M.selector&&A.delegateCount--,k.remove&&k.remove.call(s,M));y&&!A.length&&(k.teardown&&k.teardown.call(s,Z,K.handle)!==!1||u.removeEvent(s,O,K.handle),delete C[O])}else for(O in C)u.event.remove(s,O+o[I],c,h,!0);u.isEmptyObject(C)&&Y.remove(s,"handle events")}},dispatch:function(s){var o,c,h,g,_,y,b=new Array(arguments.length),C=u.event.fix(s),I=(Y.get(this,"events")||Object.create(null))[C.type]||[],M=u.event.special[C.type]||{};for(b[0]=C,o=1;o<arguments.length;o++)b[o]=arguments[o];if(C.delegateTarget=this,!M.preDispatch||M.preDispatch.call(this,C)!==!1){for(y=u.event.handlers.call(this,C,I),o=0;(g=y[o++])&&!C.isPropagationStopped();)for(C.currentTarget=g.elem,c=0;(_=g.handlers[c++])&&!C.isImmediatePropagationStopped();)C.rnamespace&&_.namespace!==!1&&!C.rnamespace.test(_.namespace)||(C.handleObj=_,C.data=_.data,(h=((u.event.special[_.origType]||{}).handle||_.handler).apply(g.elem,b))!==void 0&&(C.result=h)===!1&&(C.preventDefault(),C.stopPropagation()));return M.postDispatch&&M.postDispatch.call(this,C),C.result}},handlers:function(s,o){var c,h,g,_,y,b=[],C=o.delegateCount,I=s.target;if(C&&I.nodeType&&!(s.type==="click"&&1<=s.button)){for(;I!==this;I=I.parentNode||this)if(I.nodeType===1&&(s.type!=="click"||I.disabled!==!0)){for(_=[],y={},c=0;c<C;c++)y[g=(h=o[c]).selector+" "]===void 0&&(y[g]=h.needsContext?-1<u(g,this).index(I):u.find(g,this,null,[I]).length),y[g]&&_.push(h);_.length&&b.push({elem:I,handlers:_})}}return I=this,C<o.length&&b.push({elem:I,handlers:o.slice(C)}),b},addProp:function(s,o){Object.defineProperty(u.Event.prototype,s,{enumerable:!0,configurable:!0,get:R(o)?function(){if(this.originalEvent)return o(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(c){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(s){return s[u.expando]?s:new u.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var o=this||s;return hn.test(o.type)&&o.click&&ce(o,"input")&&xi(o,"click",In),!1},trigger:function(s){var o=this||s;return hn.test(o.type)&&o.click&&ce(o,"input")&&xi(o,"click"),!0},_default:function(s){var o=s.target;return hn.test(o.type)&&o.click&&ce(o,"input")&&Y.get(o,"click")||ce(o,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}},u.removeEvent=function(s,o,c){s.removeEventListener&&s.removeEventListener(o,c)},u.Event=function(s,o){if(!(this instanceof u.Event))return new u.Event(s,o);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?In:Ln,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,o&&u.extend(this,o),this.timeStamp=s&&s.timeStamp||Date.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:Ln,isPropagationStopped:Ln,isImmediatePropagationStopped:Ln,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=In,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=In,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=In,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},u.event.addProp),u.each({focus:"focusin",blur:"focusout"},function(s,o){u.event.special[s]={setup:function(){return xi(this,s,hl),!1},trigger:function(){return xi(this,s),!0},_default:function(){return!0},delegateType:o}}),u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,o){u.event.special[s]={delegateType:o,bindType:o,handle:function(c){var h,g=c.relatedTarget,_=c.handleObj;return g&&(g===this||u.contains(this,g))||(c.type=_.origType,h=_.handler.apply(this,arguments),c.type=o),h}}}),u.fn.extend({on:function(s,o,c,h){return yr(this,s,o,c,h)},one:function(s,o,c,h){return yr(this,s,o,c,h,1)},off:function(s,o,c){var h,g;if(s&&s.preventDefault&&s.handleObj)return h=s.handleObj,u(s.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof s=="object"){for(g in s)this.off(g,o,s[g]);return this}return o!==!1&&typeof o!="function"||(c=o,o=void 0),c===!1&&(c=Ln),this.each(function(){u.event.remove(this,s,c,o)})}});var dl=/<script|<style|<link/i,fl=/checked\s*(?:[^=]|=\s*.checked.)/i,gl=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ms(s,o){return ce(s,"table")&&ce(o.nodeType!==11?o:o.firstChild,"tr")&&u(s).children("tbody")[0]||s}function pl(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function ml(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function Os(s,o){var c,h,g,_,y,b;if(o.nodeType===1){if(Y.hasData(s)&&(b=Y.get(s).events))for(g in Y.remove(o,"handle events"),b)for(c=0,h=b[g].length;c<h;c++)u.event.add(o,g,b[g][c]);Ue.hasData(s)&&(_=Ue.access(s),y=u.extend({},_),Ue.set(o,y))}}function An(s,o,c,h){o=a(o);var g,_,y,b,C,I,M=0,k=s.length,A=k-1,O=o[0],Z=R(O);if(Z||1<k&&typeof O=="string"&&!x.checkClone&&fl.test(O))return s.each(function(W){var K=s.eq(W);Z&&(o[0]=O.call(this,W,K.html())),An(K,o,c,h)});if(k&&(_=(g=As(o,s[0].ownerDocument,!1,s,h)).firstChild,g.childNodes.length===1&&(g=_),_||h)){for(b=(y=u.map(at(g,"script"),pl)).length;M<k;M++)C=g,M!==A&&(C=u.clone(C,!0,!0),b&&u.merge(y,at(C,"script"))),c.call(s[M],C,M);if(b)for(I=y[y.length-1].ownerDocument,u.map(y,ml),M=0;M<b;M++)C=y[M],Ls.test(C.type||"")&&!Y.access(C,"globalEval")&&u.contains(I,C)&&(C.src&&(C.type||"").toLowerCase()!=="module"?u._evalUrl&&!C.noModule&&u._evalUrl(C.src,{nonce:C.nonce||C.getAttribute("nonce")},I):F(C.textContent.replace(gl,""),C,I))}return s}function Ns(s,o,c){for(var h,g=o?u.filter(o,s):s,_=0;(h=g[_])!=null;_++)c||h.nodeType!==1||u.cleanData(at(h)),h.parentNode&&(c&&Be(h)&&_r(at(h,"script")),h.parentNode.removeChild(h));return s}u.extend({htmlPrefilter:function(s){return s},clone:function(s,o,c){var h,g,_,y,b,C,I,M=s.cloneNode(!0),k=Be(s);if(!(x.noCloneChecked||s.nodeType!==1&&s.nodeType!==11||u.isXMLDoc(s)))for(y=at(M),h=0,g=(_=at(s)).length;h<g;h++)b=_[h],C=y[h],(I=C.nodeName.toLowerCase())==="input"&&hn.test(b.type)?C.checked=b.checked:I!=="input"&&I!=="textarea"||(C.defaultValue=b.defaultValue);if(o)if(c)for(_=_||at(s),y=y||at(M),h=0,g=_.length;h<g;h++)Os(_[h],y[h]);else Os(s,M);return 0<(y=at(M,"script")).length&&_r(y,!k&&at(s,"script")),M},cleanData:function(s){for(var o,c,h,g=u.event.special,_=0;(c=s[_])!==void 0;_++)if(Bt(c)){if(o=c[Y.expando]){if(o.events)for(h in o.events)g[h]?u.event.remove(c,h):u.removeEvent(c,h,o.handle);c[Y.expando]=void 0}c[Ue.expando]&&(c[Ue.expando]=void 0)}}}),u.fn.extend({detach:function(s){return Ns(this,s,!0)},remove:function(s){return Ns(this,s)},text:function(s){return Ye(this,function(o){return o===void 0?u.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=o)})},null,s,arguments.length)},append:function(){return An(this,arguments,function(s){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||Ms(this,s).appendChild(s)})},prepend:function(){return An(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=Ms(this,s);o.insertBefore(s,o.firstChild)}})},before:function(){return An(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return An(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,o=0;(s=this[o])!=null;o++)s.nodeType===1&&(u.cleanData(at(s,!1)),s.textContent="");return this},clone:function(s,o){return s=s!=null&&s,o=o==null?s:o,this.map(function(){return u.clone(this,s,o)})},html:function(s){return Ye(this,function(o){var c=this[0]||{},h=0,g=this.length;if(o===void 0&&c.nodeType===1)return c.innerHTML;if(typeof o=="string"&&!dl.test(o)&&!xt[(nt.exec(o)||["",""])[1].toLowerCase()]){o=u.htmlPrefilter(o);try{for(;h<g;h++)(c=this[h]||{}).nodeType===1&&(u.cleanData(at(c,!1)),c.innerHTML=o);c=0}catch{}}c&&this.empty().append(o)},null,s,arguments.length)},replaceWith:function(){var s=[];return An(this,arguments,function(o){var c=this.parentNode;u.inArray(this,s)<0&&(u.cleanData(at(this)),c&&c.replaceChild(o,this))},s)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,o){u.fn[s]=function(c){for(var h,g=[],_=u(c),y=_.length-1,b=0;b<=y;b++)h=b===y?this:this.clone(!0),u(_[b])[o](h),l.apply(g,h.get());return this.pushStack(g)}});var vr=new RegExp("^("+ni+")(?!px)[a-z%]+$","i"),wi=function(s){var o=s.ownerDocument.defaultView;return o&&o.opener||(o=i),o.getComputedStyle(s)},Ds=function(s,o,c){var h,g,_={};for(g in o)_[g]=s.style[g],s.style[g]=o[g];for(g in h=c.call(s),o)s.style[g]=_[g];return h},_l=new RegExp(Et.join("|"),"i");function ri(s,o,c){var h,g,_,y,b=s.style;return(c=c||wi(s))&&((y=c.getPropertyValue(o)||c[o])!==""||Be(s)||(y=u.style(s,o)),!x.pixelBoxStyles()&&vr.test(y)&&_l.test(o)&&(h=b.width,g=b.minWidth,_=b.maxWidth,b.minWidth=b.maxWidth=b.width=y,y=c.width,b.width=h,b.minWidth=g,b.maxWidth=_)),y!==void 0?y+"":y}function Fs(s,o){return{get:function(){if(!s())return(this.get=o).apply(this,arguments);delete this.get}}}(function(){function s(){if(I){C.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",I.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jt.appendChild(C).appendChild(I);var M=i.getComputedStyle(I);c=M.top!=="1%",b=o(M.marginLeft)===12,I.style.right="60%",_=o(M.right)===36,h=o(M.width)===36,I.style.position="absolute",g=o(I.offsetWidth/3)===12,jt.removeChild(C),I=null}}function o(M){return Math.round(parseFloat(M))}var c,h,g,_,y,b,C=P.createElement("div"),I=P.createElement("div");I.style&&(I.style.backgroundClip="content-box",I.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=I.style.backgroundClip==="content-box",u.extend(x,{boxSizingReliable:function(){return s(),h},pixelBoxStyles:function(){return s(),_},pixelPosition:function(){return s(),c},reliableMarginLeft:function(){return s(),b},scrollboxSize:function(){return s(),g},reliableTrDimensions:function(){var M,k,A,O;return y==null&&(M=P.createElement("table"),k=P.createElement("tr"),A=P.createElement("div"),M.style.cssText="position:absolute;left:-11111px;border-collapse:separate",k.style.cssText="border:1px solid",k.style.height="1px",A.style.height="9px",A.style.display="block",jt.appendChild(M).appendChild(k).appendChild(A),O=i.getComputedStyle(k),y=parseInt(O.height,10)+parseInt(O.borderTopWidth,10)+parseInt(O.borderBottomWidth,10)===k.offsetHeight,jt.removeChild(M)),y}}))})();var ks=["Webkit","Moz","ms"],js=P.createElement("div").style,Gs={};function Er(s){var o=u.cssProps[s]||Gs[s];return o||(s in js?s:Gs[s]=function(c){for(var h=c[0].toUpperCase()+c.slice(1),g=ks.length;g--;)if((c=ks[g]+h)in js)return c}(s)||s)}var yl=/^(none|table(?!-c[ea]).+)/,zs=/^--/,vl={position:"absolute",visibility:"hidden",display:"block"},Xs={letterSpacing:"0",fontWeight:"400"};function Us(s,o,c){var h=un.exec(o);return h?Math.max(0,h[2]-(c||0))+(h[3]||"px"):o}function xr(s,o,c,h,g,_){var y=o==="width"?1:0,b=0,C=0;if(c===(h?"border":"content"))return 0;for(;y<4;y+=2)c==="margin"&&(C+=u.css(s,c+Et[y],!0,g)),h?(c==="content"&&(C-=u.css(s,"padding"+Et[y],!0,g)),c!=="margin"&&(C-=u.css(s,"border"+Et[y]+"Width",!0,g))):(C+=u.css(s,"padding"+Et[y],!0,g),c!=="padding"?C+=u.css(s,"border"+Et[y]+"Width",!0,g):b+=u.css(s,"border"+Et[y]+"Width",!0,g));return!h&&0<=_&&(C+=Math.max(0,Math.ceil(s["offset"+o[0].toUpperCase()+o.slice(1)]-_-C-b-.5))||0),C}function qs(s,o,c){var h=wi(s),g=(!x.boxSizingReliable()||c)&&u.css(s,"boxSizing",!1,h)==="border-box",_=g,y=ri(s,o,h),b="offset"+o[0].toUpperCase()+o.slice(1);if(vr.test(y)){if(!c)return y;y="auto"}return(!x.boxSizingReliable()&&g||!x.reliableTrDimensions()&&ce(s,"tr")||y==="auto"||!parseFloat(y)&&u.css(s,"display",!1,h)==="inline")&&s.getClientRects().length&&(g=u.css(s,"boxSizing",!1,h)==="border-box",(_=b in s)&&(y=s[b])),(y=parseFloat(y)||0)+xr(s,o,c||(g?"border":"content"),_,h,y)+"px"}function Rt(s,o,c,h,g){return new Rt.prototype.init(s,o,c,h,g)}u.extend({cssHooks:{opacity:{get:function(s,o){if(o){var c=ri(s,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(s,o,c,h){if(s&&s.nodeType!==3&&s.nodeType!==8&&s.style){var g,_,y,b=ot(o),C=zs.test(o),I=s.style;if(C||(o=Er(b)),y=u.cssHooks[o]||u.cssHooks[b],c===void 0)return y&&"get"in y&&(g=y.get(s,!1,h))!==void 0?g:I[o];(_=typeof c)=="string"&&(g=un.exec(c))&&g[1]&&(c=Qt(s,o,g),_="number"),c!=null&&c==c&&(_!=="number"||C||(c+=g&&g[3]||(u.cssNumber[b]?"":"px")),x.clearCloneStyle||c!==""||o.indexOf("background")!==0||(I[o]="inherit"),y&&"set"in y&&(c=y.set(s,c,h))===void 0||(C?I.setProperty(o,c):I[o]=c))}},css:function(s,o,c,h){var g,_,y,b=ot(o);return zs.test(o)||(o=Er(b)),(y=u.cssHooks[o]||u.cssHooks[b])&&"get"in y&&(g=y.get(s,!0,c)),g===void 0&&(g=ri(s,o,h)),g==="normal"&&o in Xs&&(g=Xs[o]),c===""||c?(_=parseFloat(g),c===!0||isFinite(_)?_||0:g):g}}),u.each(["height","width"],function(s,o){u.cssHooks[o]={get:function(c,h,g){if(h)return!yl.test(u.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?qs(c,o,g):Ds(c,vl,function(){return qs(c,o,g)})},set:function(c,h,g){var _,y=wi(c),b=!x.scrollboxSize()&&y.position==="absolute",C=(b||g)&&u.css(c,"boxSizing",!1,y)==="border-box",I=g?xr(c,o,g,C,y):0;return C&&b&&(I-=Math.ceil(c["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(y[o])-xr(c,o,"border",!1,y)-.5)),I&&(_=un.exec(h))&&(_[3]||"px")!=="px"&&(c.style[o]=h,h=u.css(c,o)),Us(0,h,I)}}}),u.cssHooks.marginLeft=Fs(x.reliableMarginLeft,function(s,o){if(o)return(parseFloat(ri(s,"marginLeft"))||s.getBoundingClientRect().left-Ds(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),u.each({margin:"",padding:"",border:"Width"},function(s,o){u.cssHooks[s+o]={expand:function(c){for(var h=0,g={},_=typeof c=="string"?c.split(" "):[c];h<4;h++)g[s+Et[h]+o]=_[h]||_[h-2]||_[0];return g}},s!=="margin"&&(u.cssHooks[s+o].set=Us)}),u.fn.extend({css:function(s,o){return Ye(this,function(c,h,g){var _,y,b={},C=0;if(Array.isArray(h)){for(_=wi(c),y=h.length;C<y;C++)b[h[C]]=u.css(c,h[C],!1,_);return b}return g!==void 0?u.style(c,h,g):u.css(c,h)},s,o,1<arguments.length)}}),((u.Tween=Rt).prototype={constructor:Rt,init:function(s,o,c,h,g,_){this.elem=s,this.prop=c,this.easing=g||u.easing._default,this.options=o,this.start=this.now=this.cur(),this.end=h,this.unit=_||(u.cssNumber[c]?"":"px")},cur:function(){var s=Rt.propHooks[this.prop];return s&&s.get?s.get(this):Rt.propHooks._default.get(this)},run:function(s){var o,c=Rt.propHooks[this.prop];return this.options.duration?this.pos=o=u.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=o=s,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Rt.propHooks._default.set(this),this}}).init.prototype=Rt.prototype,(Rt.propHooks={_default:{get:function(s){var o;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(o=u.css(s.elem,s.prop,""))&&o!=="auto"?o:0},set:function(s){u.fx.step[s.prop]?u.fx.step[s.prop](s):s.elem.nodeType!==1||!u.cssHooks[s.prop]&&s.elem.style[Er(s.prop)]==null?s.elem[s.prop]=s.now:u.style(s.elem,s.prop,s.now+s.unit)}}}).scrollTop=Rt.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},u.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},u.fx=Rt.prototype.init,u.fx.step={};var Pn,Ti,Mn,Hs,El=/^(?:toggle|show|hide)$/,xl=/queueHooks$/;function wr(){Ti&&(P.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(wr):i.setTimeout(wr,u.fx.interval),u.fx.tick())}function Zs(){return i.setTimeout(function(){Pn=void 0}),Pn=Date.now()}function bi(s,o){var c,h=0,g={height:s};for(o=o?1:0;h<4;h+=2-o)g["margin"+(c=Et[h])]=g["padding"+c]=s;return o&&(g.opacity=g.width=s),g}function Ks(s,o,c){for(var h,g=(St.tweeners[o]||[]).concat(St.tweeners["*"]),_=0,y=g.length;_<y;_++)if(h=g[_].call(c,o,s))return h}function St(s,o,c){var h,g,_=0,y=St.prefilters.length,b=u.Deferred().always(function(){delete C.elem}),C=function(){if(g)return!1;for(var k=Pn||Zs(),A=Math.max(0,I.startTime+I.duration-k),O=1-(A/I.duration||0),Z=0,W=I.tweens.length;Z<W;Z++)I.tweens[Z].run(O);return b.notifyWith(s,[I,O,A]),O<1&&W?A:(W||b.notifyWith(s,[I,1,0]),b.resolveWith(s,[I]),!1)},I=b.promise({elem:s,props:u.extend({},o),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},c),originalProperties:o,originalOptions:c,startTime:Pn||Zs(),duration:c.duration,tweens:[],createTween:function(k,A){var O=u.Tween(s,I.opts,k,A,I.opts.specialEasing[k]||I.opts.easing);return I.tweens.push(O),O},stop:function(k){var A=0,O=k?I.tweens.length:0;if(g)return this;for(g=!0;A<O;A++)I.tweens[A].run(1);return k?(b.notifyWith(s,[I,1,0]),b.resolveWith(s,[I,k])):b.rejectWith(s,[I,k]),this}}),M=I.props;for(!function(k,A){var O,Z,W,K,Te;for(O in k)if(W=A[Z=ot(O)],K=k[O],Array.isArray(K)&&(W=K[1],K=k[O]=K[0]),O!==Z&&(k[Z]=K,delete k[O]),(Te=u.cssHooks[Z])&&"expand"in Te)for(O in K=Te.expand(K),delete k[Z],K)O in k||(k[O]=K[O],A[O]=W);else A[Z]=W}(M,I.opts.specialEasing);_<y;_++)if(h=St.prefilters[_].call(I,s,M,I.opts))return R(h.stop)&&(u._queueHooks(I.elem,I.opts.queue).stop=h.stop.bind(h)),h;return u.map(M,Ks,I),R(I.opts.start)&&I.opts.start.call(s,I),I.progress(I.opts.progress).done(I.opts.done,I.opts.complete).fail(I.opts.fail).always(I.opts.always),u.fx.timer(u.extend(C,{elem:s,anim:I,queue:I.opts.queue})),I}u.Animation=u.extend(St,{tweeners:{"*":[function(s,o){var c=this.createTween(s,o);return Qt(c.elem,s,un.exec(o),c),c}]},tweener:function(s,o){R(s)?(o=s,s=["*"]):s=s.match(Ae);for(var c,h=0,g=s.length;h<g;h++)c=s[h],St.tweeners[c]=St.tweeners[c]||[],St.tweeners[c].unshift(o)},prefilters:[function(s,o,c){var h,g,_,y,b,C,I,M,k="width"in o||"height"in o,A=this,O={},Z=s.style,W=s.nodeType&&Nt(s),K=Y.get(s,"fxshow");for(h in c.queue||((y=u._queueHooks(s,"fx")).unqueued==null&&(y.unqueued=0,b=y.empty.fire,y.empty.fire=function(){y.unqueued||b()}),y.unqueued++,A.always(function(){A.always(function(){y.unqueued--,u.queue(s,"fx").length||y.empty.fire()})})),o)if(g=o[h],El.test(g)){if(delete o[h],_=_||g==="toggle",g===(W?"hide":"show")){if(g!=="show"||!K||K[h]===void 0)continue;W=!0}O[h]=K&&K[h]||u.style(s,h)}if((C=!u.isEmptyObject(o))||!u.isEmptyObject(O))for(h in k&&s.nodeType===1&&(c.overflow=[Z.overflow,Z.overflowX,Z.overflowY],(I=K&&K.display)==null&&(I=Y.get(s,"display")),(M=u.css(s,"display"))==="none"&&(I?M=I:(Gt([s],!0),I=s.style.display||I,M=u.css(s,"display"),Gt([s]))),(M==="inline"||M==="inline-block"&&I!=null)&&u.css(s,"float")==="none"&&(C||(A.done(function(){Z.display=I}),I==null&&(M=Z.display,I=M==="none"?"":M)),Z.display="inline-block")),c.overflow&&(Z.overflow="hidden",A.always(function(){Z.overflow=c.overflow[0],Z.overflowX=c.overflow[1],Z.overflowY=c.overflow[2]})),C=!1,O)C||(K?"hidden"in K&&(W=K.hidden):K=Y.access(s,"fxshow",{display:I}),_&&(K.hidden=!W),W&&Gt([s],!0),A.done(function(){for(h in W||Gt([s]),Y.remove(s,"fxshow"),O)u.style(s,h,O[h])})),C=Ks(W?K[h]:0,h,A),h in K||(K[h]=C.start,W&&(C.end=C.start,C.start=0))}],prefilter:function(s,o){o?St.prefilters.unshift(s):St.prefilters.push(s)}}),u.speed=function(s,o,c){var h=s&&typeof s=="object"?u.extend({},s):{complete:c||!c&&o||R(s)&&s,duration:s,easing:c&&o||o&&!R(o)&&o};return u.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in u.fx.speeds?h.duration=u.fx.speeds[h.duration]:h.duration=u.fx.speeds._default),h.queue!=null&&h.queue!==!0||(h.queue="fx"),h.old=h.complete,h.complete=function(){R(h.old)&&h.old.call(this),h.queue&&u.dequeue(this,h.queue)},h},u.fn.extend({fadeTo:function(s,o,c,h){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:o},s,c,h)},animate:function(s,o,c,h){var g=u.isEmptyObject(s),_=u.speed(o,c,h),y=function(){var b=St(this,u.extend({},s),_);(g||Y.get(this,"finish"))&&b.stop(!0)};return y.finish=y,g||_.queue===!1?this.each(y):this.queue(_.queue,y)},stop:function(s,o,c){var h=function(g){var _=g.stop;delete g.stop,_(c)};return typeof s!="string"&&(c=o,o=s,s=void 0),o&&this.queue(s||"fx",[]),this.each(function(){var g=!0,_=s!=null&&s+"queueHooks",y=u.timers,b=Y.get(this);if(_)b[_]&&b[_].stop&&h(b[_]);else for(_ in b)b[_]&&b[_].stop&&xl.test(_)&&h(b[_]);for(_=y.length;_--;)y[_].elem!==this||s!=null&&y[_].queue!==s||(y[_].anim.stop(c),g=!1,y.splice(_,1));!g&&c||u.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var o,c=Y.get(this),h=c[s+"queue"],g=c[s+"queueHooks"],_=u.timers,y=h?h.length:0;for(c.finish=!0,u.queue(this,s,[]),g&&g.stop&&g.stop.call(this,!0),o=_.length;o--;)_[o].elem===this&&_[o].queue===s&&(_[o].anim.stop(!0),_.splice(o,1));for(o=0;o<y;o++)h[o]&&h[o].finish&&h[o].finish.call(this);delete c.finish})}}),u.each(["toggle","show","hide"],function(s,o){var c=u.fn[o];u.fn[o]=function(h,g,_){return h==null||typeof h=="boolean"?c.apply(this,arguments):this.animate(bi(o,!0),h,g,_)}}),u.each({slideDown:bi("show"),slideUp:bi("hide"),slideToggle:bi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,o){u.fn[s]=function(c,h,g){return this.animate(o,c,h,g)}}),u.timers=[],u.fx.tick=function(){var s,o=0,c=u.timers;for(Pn=Date.now();o<c.length;o++)(s=c[o])()||c[o]!==s||c.splice(o--,1);c.length||u.fx.stop(),Pn=void 0},u.fx.timer=function(s){u.timers.push(s),u.fx.start()},u.fx.interval=13,u.fx.start=function(){Ti||(Ti=!0,wr())},u.fx.stop=function(){Ti=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(s,o){return s=u.fx&&u.fx.speeds[s]||s,o=o||"fx",this.queue(o,function(c,h){var g=i.setTimeout(c,s);h.stop=function(){i.clearTimeout(g)}})},Mn=P.createElement("input"),Hs=P.createElement("select").appendChild(P.createElement("option")),Mn.type="checkbox",x.checkOn=Mn.value!=="",x.optSelected=Hs.selected,(Mn=P.createElement("input")).value="t",Mn.type="radio",x.radioValue=Mn.value==="t";var Ws,si=u.expr.attrHandle;u.fn.extend({attr:function(s,o){return Ye(this,u.attr,s,o,1<arguments.length)},removeAttr:function(s){return this.each(function(){u.removeAttr(this,s)})}}),u.extend({attr:function(s,o,c){var h,g,_=s.nodeType;if(_!==3&&_!==8&&_!==2)return typeof s.getAttribute>"u"?u.prop(s,o,c):(_===1&&u.isXMLDoc(s)||(g=u.attrHooks[o.toLowerCase()]||(u.expr.match.bool.test(o)?Ws:void 0)),c!==void 0?c===null?void u.removeAttr(s,o):g&&"set"in g&&(h=g.set(s,c,o))!==void 0?h:(s.setAttribute(o,c+""),c):g&&"get"in g&&(h=g.get(s,o))!==null?h:(h=u.find.attr(s,o))==null?void 0:h)},attrHooks:{type:{set:function(s,o){if(!x.radioValue&&o==="radio"&&ce(s,"input")){var c=s.value;return s.setAttribute("type",o),c&&(s.value=c),o}}}},removeAttr:function(s,o){var c,h=0,g=o&&o.match(Ae);if(g&&s.nodeType===1)for(;c=g[h++];)s.removeAttribute(c)}}),Ws={set:function(s,o,c){return o===!1?u.removeAttr(s,c):s.setAttribute(c,c),c}},u.each(u.expr.match.bool.source.match(/\w+/g),function(s,o){var c=si[o]||u.find.attr;si[o]=function(h,g,_){var y,b,C=g.toLowerCase();return _||(b=si[C],si[C]=y,y=c(h,g,_)!=null?C:null,si[C]=b),y}});var wl=/^(?:input|select|textarea|button)$/i,Tl=/^(?:a|area)$/i;function dn(s){return(s.match(Ae)||[]).join(" ")}function fn(s){return s.getAttribute&&s.getAttribute("class")||""}function Tr(s){return Array.isArray(s)?s:typeof s=="string"&&s.match(Ae)||[]}u.fn.extend({prop:function(s,o){return Ye(this,u.prop,s,o,1<arguments.length)},removeProp:function(s){return this.each(function(){delete this[u.propFix[s]||s]})}}),u.extend({prop:function(s,o,c){var h,g,_=s.nodeType;if(_!==3&&_!==8&&_!==2)return _===1&&u.isXMLDoc(s)||(o=u.propFix[o]||o,g=u.propHooks[o]),c!==void 0?g&&"set"in g&&(h=g.set(s,c,o))!==void 0?h:s[o]=c:g&&"get"in g&&(h=g.get(s,o))!==null?h:s[o]},propHooks:{tabIndex:{get:function(s){var o=u.find.attr(s,"tabindex");return o?parseInt(o,10):wl.test(s.nodeName)||Tl.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(u.propHooks.selected={get:function(s){var o=s.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null},set:function(s){var o=s.parentNode;o&&(o.selectedIndex,o.parentNode&&o.parentNode.selectedIndex)}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this}),u.fn.extend({addClass:function(s){var o,c,h,g,_,y,b,C=0;if(R(s))return this.each(function(I){u(this).addClass(s.call(this,I,fn(this)))});if((o=Tr(s)).length){for(;c=this[C++];)if(g=fn(c),h=c.nodeType===1&&" "+dn(g)+" "){for(y=0;_=o[y++];)h.indexOf(" "+_+" ")<0&&(h+=_+" ");g!==(b=dn(h))&&c.setAttribute("class",b)}}return this},removeClass:function(s){var o,c,h,g,_,y,b,C=0;if(R(s))return this.each(function(I){u(this).removeClass(s.call(this,I,fn(this)))});if(!arguments.length)return this.attr("class","");if((o=Tr(s)).length){for(;c=this[C++];)if(g=fn(c),h=c.nodeType===1&&" "+dn(g)+" "){for(y=0;_=o[y++];)for(;-1<h.indexOf(" "+_+" ");)h=h.replace(" "+_+" "," ");g!==(b=dn(h))&&c.setAttribute("class",b)}}return this},toggleClass:function(s,o){var c=typeof s,h=c==="string"||Array.isArray(s);return typeof o=="boolean"&&h?o?this.addClass(s):this.removeClass(s):R(s)?this.each(function(g){u(this).toggleClass(s.call(this,g,fn(this),o),o)}):this.each(function(){var g,_,y,b;if(h)for(_=0,y=u(this),b=Tr(s);g=b[_++];)y.hasClass(g)?y.removeClass(g):y.addClass(g);else s!==void 0&&c!=="boolean"||((g=fn(this))&&Y.set(this,"__className__",g),this.setAttribute&&this.setAttribute("class",g||s===!1?"":Y.get(this,"__className__")||""))})},hasClass:function(s){var o,c,h=0;for(o=" "+s+" ";c=this[h++];)if(c.nodeType===1&&-1<(" "+dn(fn(c))+" ").indexOf(o))return!0;return!1}});var bl=/\r/g;u.fn.extend({val:function(s){var o,c,h,g=this[0];return arguments.length?(h=R(s),this.each(function(_){var y;this.nodeType===1&&((y=h?s.call(this,_,u(this).val()):s)==null?y="":typeof y=="number"?y+="":Array.isArray(y)&&(y=u.map(y,function(b){return b==null?"":b+""})),(o=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()])&&"set"in o&&o.set(this,y,"value")!==void 0||(this.value=y))})):g?(o=u.valHooks[g.type]||u.valHooks[g.nodeName.toLowerCase()])&&"get"in o&&(c=o.get(g,"value"))!==void 0?c:typeof(c=g.value)=="string"?c.replace(bl,""):c==null?"":c:void 0}}),u.extend({valHooks:{option:{get:function(s){var o=u.find.attr(s,"value");return o!=null?o:dn(u.text(s))}},select:{get:function(s){var o,c,h,g=s.options,_=s.selectedIndex,y=s.type==="select-one",b=y?null:[],C=y?_+1:g.length;for(h=_<0?C:y?_:0;h<C;h++)if(((c=g[h]).selected||h===_)&&!c.disabled&&(!c.parentNode.disabled||!ce(c.parentNode,"optgroup"))){if(o=u(c).val(),y)return o;b.push(o)}return b},set:function(s,o){for(var c,h,g=s.options,_=u.makeArray(o),y=g.length;y--;)((h=g[y]).selected=-1<u.inArray(u.valHooks.option.get(h),_))&&(c=!0);return c||(s.selectedIndex=-1),_}}}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(s,o){if(Array.isArray(o))return s.checked=-1<u.inArray(u(s).val(),o)}},x.checkOn||(u.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})}),x.focusin="onfocusin"in i;var Vs=/^(?:focusinfocus|focusoutblur)$/,Ys=function(s){s.stopPropagation()};u.extend(u.event,{trigger:function(s,o,c,h){var g,_,y,b,C,I,M,k,A=[c||P],O=m.call(s,"type")?s.type:s,Z=m.call(s,"namespace")?s.namespace.split("."):[];if(_=k=y=c=c||P,c.nodeType!==3&&c.nodeType!==8&&!Vs.test(O+u.event.triggered)&&(-1<O.indexOf(".")&&(O=(Z=O.split(".")).shift(),Z.sort()),C=O.indexOf(":")<0&&"on"+O,(s=s[u.expando]?s:new u.Event(O,typeof s=="object"&&s)).isTrigger=h?2:3,s.namespace=Z.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+Z.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=c),o=o==null?[s]:u.makeArray(o,[s]),M=u.event.special[O]||{},h||!M.trigger||M.trigger.apply(c,o)!==!1)){if(!h&&!M.noBubble&&!N(c)){for(b=M.delegateType||O,Vs.test(b+O)||(_=_.parentNode);_;_=_.parentNode)A.push(_),y=_;y===(c.ownerDocument||P)&&A.push(y.defaultView||y.parentWindow||i)}for(g=0;(_=A[g++])&&!s.isPropagationStopped();)k=_,s.type=1<g?b:M.bindType||O,(I=(Y.get(_,"events")||Object.create(null))[s.type]&&Y.get(_,"handle"))&&I.apply(_,o),(I=C&&_[C])&&I.apply&&Bt(_)&&(s.result=I.apply(_,o),s.result===!1&&s.preventDefault());return s.type=O,h||s.isDefaultPrevented()||M._default&&M._default.apply(A.pop(),o)!==!1||!Bt(c)||C&&R(c[O])&&!N(c)&&((y=c[C])&&(c[C]=null),u.event.triggered=O,s.isPropagationStopped()&&k.addEventListener(O,Ys),c[O](),s.isPropagationStopped()&&k.removeEventListener(O,Ys),u.event.triggered=void 0,y&&(c[C]=y)),s.result}},simulate:function(s,o,c){var h=u.extend(new u.Event,c,{type:s,isSimulated:!0});u.event.trigger(h,null,o)}}),u.fn.extend({trigger:function(s,o){return this.each(function(){u.event.trigger(s,o,this)})},triggerHandler:function(s,o){var c=this[0];if(c)return u.event.trigger(s,o,c,!0)}}),x.focusin||u.each({focus:"focusin",blur:"focusout"},function(s,o){var c=function(h){u.event.simulate(o,h.target,u.event.fix(h))};u.event.special[o]={setup:function(){var h=this.ownerDocument||this.document||this,g=Y.access(h,o);g||h.addEventListener(s,c,!0),Y.access(h,o,(g||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,g=Y.access(h,o)-1;g?Y.access(h,o,g):(h.removeEventListener(s,c,!0),Y.remove(h,o))}}});var oi=i.location,Bs={guid:Date.now()},br=/\?/;u.parseXML=function(s){var o,c;if(!s||typeof s!="string")return null;try{o=new i.DOMParser().parseFromString(s,"text/xml")}catch{}return c=o&&o.getElementsByTagName("parsererror")[0],o&&!c||u.error("Invalid XML: "+(c?u.map(c.childNodes,function(h){return h.textContent}).join(`
`):s)),o};var Cl=/\[\]$/,$s=/\r?\n/g,Rl=/^(?:submit|button|image|reset|file)$/i,Sl=/^(?:input|select|textarea|keygen)/i;function Cr(s,o,c,h){var g;if(Array.isArray(o))u.each(o,function(_,y){c||Cl.test(s)?h(s,y):Cr(s+"["+(typeof y=="object"&&y!=null?_:"")+"]",y,c,h)});else if(c||G(o)!=="object")h(s,o);else for(g in o)Cr(s+"["+g+"]",o[g],c,h)}u.param=function(s,o){var c,h=[],g=function(_,y){var b=R(y)?y():y;h[h.length]=encodeURIComponent(_)+"="+encodeURIComponent(b==null?"":b)};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!u.isPlainObject(s))u.each(s,function(){g(this.name,this.value)});else for(c in s)Cr(c,s[c],o,g);return h.join("&")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=u.prop(this,"elements");return s?u.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!u(this).is(":disabled")&&Sl.test(this.nodeName)&&!Rl.test(s)&&(this.checked||!hn.test(s))}).map(function(s,o){var c=u(this).val();return c==null?null:Array.isArray(c)?u.map(c,function(h){return{name:o.name,value:h.replace($s,`\r
`)}}):{name:o.name,value:c.replace($s,`\r
`)}}).get()}});var Il=/%20/g,Ll=/#.*$/,Al=/([?&])_=[^&]*/,Pl=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ml=/^(?:GET|HEAD)$/,Ol=/^\/\//,Qs={},Rr={},Js="*/".concat("*"),Sr=P.createElement("a");function eo(s){return function(o,c){typeof o!="string"&&(c=o,o="*");var h,g=0,_=o.toLowerCase().match(Ae)||[];if(R(c))for(;h=_[g++];)h[0]==="+"?(h=h.slice(1)||"*",(s[h]=s[h]||[]).unshift(c)):(s[h]=s[h]||[]).push(c)}}function to(s,o,c,h){var g={},_=s===Rr;function y(b){var C;return g[b]=!0,u.each(s[b]||[],function(I,M){var k=M(o,c,h);return typeof k!="string"||_||g[k]?_?!(C=k):void 0:(o.dataTypes.unshift(k),y(k),!1)}),C}return y(o.dataTypes[0])||!g["*"]&&y("*")}function Ir(s,o){var c,h,g=u.ajaxSettings.flatOptions||{};for(c in o)o[c]!==void 0&&((g[c]?s:h||(h={}))[c]=o[c]);return h&&u.extend(!0,s,h),s}Sr.href=oi.href,u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Js,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,o){return o?Ir(Ir(s,u.ajaxSettings),o):Ir(u.ajaxSettings,s)},ajaxPrefilter:eo(Qs),ajaxTransport:eo(Rr),ajax:function(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};var c,h,g,_,y,b,C,I,M,k,A=u.ajaxSetup({},o),O=A.context||A,Z=A.context&&(O.nodeType||O.jquery)?u(O):u.event,W=u.Deferred(),K=u.Callbacks("once memory"),Te=A.statusCode||{},Ne={},ft={},pe="canceled",ee={readyState:0,getResponseHeader:function(oe){var be;if(C){if(!_)for(_={};be=Pl.exec(g);)_[be[1].toLowerCase()+" "]=(_[be[1].toLowerCase()+" "]||[]).concat(be[2]);be=_[oe.toLowerCase()+" "]}return be==null?null:be.join(", ")},getAllResponseHeaders:function(){return C?g:null},setRequestHeader:function(oe,be){return C==null&&(oe=ft[oe.toLowerCase()]=ft[oe.toLowerCase()]||oe,Ne[oe]=be),this},overrideMimeType:function(oe){return C==null&&(A.mimeType=oe),this},statusCode:function(oe){var be;if(oe)if(C)ee.always(oe[ee.status]);else for(be in oe)Te[be]=[Te[be],oe[be]];return this},abort:function(oe){var be=oe||pe;return c&&c.abort(be),lt(0,be),this}};if(W.promise(ee),A.url=((s||A.url||oi.href)+"").replace(Ol,oi.protocol+"//"),A.type=o.method||o.type||A.method||A.type,A.dataTypes=(A.dataType||"*").toLowerCase().match(Ae)||[""],A.crossDomain==null){b=P.createElement("a");try{b.href=A.url,b.href=b.href,A.crossDomain=Sr.protocol+"//"+Sr.host!=b.protocol+"//"+b.host}catch{A.crossDomain=!0}}if(A.data&&A.processData&&typeof A.data!="string"&&(A.data=u.param(A.data,A.traditional)),to(Qs,A,o,ee),C)return ee;for(M in(I=u.event&&A.global)&&u.active++==0&&u.event.trigger("ajaxStart"),A.type=A.type.toUpperCase(),A.hasContent=!Ml.test(A.type),h=A.url.replace(Ll,""),A.hasContent?A.data&&A.processData&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(A.data=A.data.replace(Il,"+")):(k=A.url.slice(h.length),A.data&&(A.processData||typeof A.data=="string")&&(h+=(br.test(h)?"&":"?")+A.data,delete A.data),A.cache===!1&&(h=h.replace(Al,"$1"),k=(br.test(h)?"&":"?")+"_="+Bs.guid+++k),A.url=h+k),A.ifModified&&(u.lastModified[h]&&ee.setRequestHeader("If-Modified-Since",u.lastModified[h]),u.etag[h]&&ee.setRequestHeader("If-None-Match",u.etag[h])),(A.data&&A.hasContent&&A.contentType!==!1||o.contentType)&&ee.setRequestHeader("Content-Type",A.contentType),ee.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+(A.dataTypes[0]!=="*"?", "+Js+"; q=0.01":""):A.accepts["*"]),A.headers)ee.setRequestHeader(M,A.headers[M]);if(A.beforeSend&&(A.beforeSend.call(O,ee,A)===!1||C))return ee.abort();if(pe="abort",K.add(A.complete),ee.done(A.success),ee.fail(A.error),c=to(Rr,A,o,ee)){if(ee.readyState=1,I&&Z.trigger("ajaxSend",[ee,A]),C)return ee;A.async&&0<A.timeout&&(y=i.setTimeout(function(){ee.abort("timeout")},A.timeout));try{C=!1,c.send(Ne,lt)}catch(oe){if(C)throw oe;lt(-1,oe)}}else lt(-1,"No Transport");function lt(oe,be,li,Ci){var gt,gn,On,ct,Nn,wt=be;C||(C=!0,y&&i.clearTimeout(y),c=void 0,g=Ci||"",ee.readyState=0<oe?4:0,gt=200<=oe&&oe<300||oe===304,li&&(ct=function(Ce,pt,mt){for(var Dt,te,ue,De,_t=Ce.contents,Pe=Ce.dataTypes;Pe[0]==="*";)Pe.shift(),Dt===void 0&&(Dt=Ce.mimeType||pt.getResponseHeader("Content-Type"));if(Dt){for(te in _t)if(_t[te]&&_t[te].test(Dt)){Pe.unshift(te);break}}if(Pe[0]in mt)ue=Pe[0];else{for(te in mt){if(!Pe[0]||Ce.converters[te+" "+Pe[0]]){ue=te;break}De||(De=te)}ue=ue||De}if(ue)return ue!==Pe[0]&&Pe.unshift(ue),mt[ue]}(A,ee,li)),!gt&&-1<u.inArray("script",A.dataTypes)&&u.inArray("json",A.dataTypes)<0&&(A.converters["text script"]=function(){}),ct=function(Ce,pt,mt,Dt){var te,ue,De,_t,Pe,yt={},Dn=Ce.dataTypes.slice();if(Dn[1])for(De in Ce.converters)yt[De.toLowerCase()]=Ce.converters[De];for(ue=Dn.shift();ue;)if(Ce.responseFields[ue]&&(mt[Ce.responseFields[ue]]=pt),!Pe&&Dt&&Ce.dataFilter&&(pt=Ce.dataFilter(pt,Ce.dataType)),Pe=ue,ue=Dn.shift()){if(ue==="*")ue=Pe;else if(Pe!=="*"&&Pe!==ue){if(!(De=yt[Pe+" "+ue]||yt["* "+ue])){for(te in yt)if((_t=te.split(" "))[1]===ue&&(De=yt[Pe+" "+_t[0]]||yt["* "+_t[0]])){De===!0?De=yt[te]:yt[te]!==!0&&(ue=_t[0],Dn.unshift(_t[1]));break}}if(De!==!0)if(De&&Ce.throws)pt=De(pt);else try{pt=De(pt)}catch(Ri){return{state:"parsererror",error:De?Ri:"No conversion from "+Pe+" to "+ue}}}}return{state:"success",data:pt}}(A,ct,ee,gt),gt?(A.ifModified&&((Nn=ee.getResponseHeader("Last-Modified"))&&(u.lastModified[h]=Nn),(Nn=ee.getResponseHeader("etag"))&&(u.etag[h]=Nn)),oe===204||A.type==="HEAD"?wt="nocontent":oe===304?wt="notmodified":(wt=ct.state,gn=ct.data,gt=!(On=ct.error))):(On=wt,!oe&&wt||(wt="error",oe<0&&(oe=0))),ee.status=oe,ee.statusText=(be||wt)+"",gt?W.resolveWith(O,[gn,wt,ee]):W.rejectWith(O,[ee,wt,On]),ee.statusCode(Te),Te=void 0,I&&Z.trigger(gt?"ajaxSuccess":"ajaxError",[ee,A,gt?gn:On]),K.fireWith(O,[ee,wt]),I&&(Z.trigger("ajaxComplete",[ee,A]),--u.active||u.event.trigger("ajaxStop")))}return ee},getJSON:function(s,o,c){return u.get(s,o,c,"json")},getScript:function(s,o){return u.get(s,void 0,o,"script")}}),u.each(["get","post"],function(s,o){u[o]=function(c,h,g,_){return R(h)&&(_=_||g,g=h,h=void 0),u.ajax(u.extend({url:c,type:o,dataType:_,data:h,success:g},u.isPlainObject(c)&&c))}}),u.ajaxPrefilter(function(s){var o;for(o in s.headers)o.toLowerCase()==="content-type"&&(s.contentType=s.headers[o]||"")}),u._evalUrl=function(s,o,c){return u.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){u.globalEval(h,o,c)}})},u.fn.extend({wrapAll:function(s){var o;return this[0]&&(R(s)&&(s=s.call(this[0])),o=u(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(s){return R(s)?this.each(function(o){u(this).wrapInner(s.call(this,o))}):this.each(function(){var o=u(this),c=o.contents();c.length?c.wrapAll(s):o.append(s)})},wrap:function(s){var o=R(s);return this.each(function(c){u(this).wrapAll(o?s.call(this,c):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}}),u.expr.pseudos.hidden=function(s){return!u.expr.pseudos.visible(s)},u.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},u.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var Nl={0:200,1223:204},ai=u.ajaxSettings.xhr();x.cors=!!ai&&"withCredentials"in ai,x.ajax=ai=!!ai,u.ajaxTransport(function(s){var o,c;if(x.cors||ai&&!s.crossDomain)return{send:function(h,g){var _,y=s.xhr();if(y.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(_ in s.xhrFields)y[_]=s.xhrFields[_];for(_ in s.mimeType&&y.overrideMimeType&&y.overrideMimeType(s.mimeType),s.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest"),h)y.setRequestHeader(_,h[_]);o=function(b){return function(){o&&(o=c=y.onload=y.onerror=y.onabort=y.ontimeout=y.onreadystatechange=null,b==="abort"?y.abort():b==="error"?typeof y.status!="number"?g(0,"error"):g(y.status,y.statusText):g(Nl[y.status]||y.status,y.statusText,(y.responseType||"text")!=="text"||typeof y.responseText!="string"?{binary:y.response}:{text:y.responseText},y.getAllResponseHeaders()))}},y.onload=o(),c=y.onerror=y.ontimeout=o("error"),y.onabort!==void 0?y.onabort=c:y.onreadystatechange=function(){y.readyState===4&&i.setTimeout(function(){o&&c()})},o=o("abort");try{y.send(s.hasContent&&s.data||null)}catch(b){if(o)throw b}},abort:function(){o&&o()}}}),u.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return u.globalEval(s),s}}}),u.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),u.ajaxTransport("script",function(s){var o,c;if(s.crossDomain||s.scriptAttrs)return{send:function(h,g){o=u("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",c=function(_){o.remove(),c=null,_&&g(_.type==="error"?404:200,_.type)}),P.head.appendChild(o[0])},abort:function(){c&&c()}}});var no,io=[],Lr=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=io.pop()||u.expando+"_"+Bs.guid++;return this[s]=!0,s}}),u.ajaxPrefilter("json jsonp",function(s,o,c){var h,g,_,y=s.jsonp!==!1&&(Lr.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Lr.test(s.data)&&"data");if(y||s.dataTypes[0]==="jsonp")return h=s.jsonpCallback=R(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,y?s[y]=s[y].replace(Lr,"$1"+h):s.jsonp!==!1&&(s.url+=(br.test(s.url)?"&":"?")+s.jsonp+"="+h),s.converters["script json"]=function(){return _||u.error(h+" was not called"),_[0]},s.dataTypes[0]="json",g=i[h],i[h]=function(){_=arguments},c.always(function(){g===void 0?u(i).removeProp(h):i[h]=g,s[h]&&(s.jsonpCallback=o.jsonpCallback,io.push(h)),_&&R(g)&&g(_[0]),_=g=void 0}),"script"}),x.createHTMLDocument=((no=P.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",no.childNodes.length===2),u.parseHTML=function(s,o,c){return typeof s!="string"?[]:(typeof o=="boolean"&&(c=o,o=!1),o||(x.createHTMLDocument?((h=(o=P.implementation.createHTMLDocument("")).createElement("base")).href=P.location.href,o.head.appendChild(h)):o=P),_=!c&&[],(g=st.exec(s))?[o.createElement(g[1])]:(g=As([s],o,_),_&&_.length&&u(_).remove(),u.merge([],g.childNodes)));var h,g,_},u.fn.load=function(s,o,c){var h,g,_,y=this,b=s.indexOf(" ");return-1<b&&(h=dn(s.slice(b)),s=s.slice(0,b)),R(o)?(c=o,o=void 0):o&&typeof o=="object"&&(g="POST"),0<y.length&&u.ajax({url:s,type:g||"GET",dataType:"html",data:o}).done(function(C){_=arguments,y.html(h?u("<div>").append(u.parseHTML(C)).find(h):C)}).always(c&&function(C,I){y.each(function(){c.apply(this,_||[C.responseText,I,C])})}),this},u.expr.pseudos.animated=function(s){return u.grep(u.timers,function(o){return s===o.elem}).length},u.offset={setOffset:function(s,o,c){var h,g,_,y,b,C,I=u.css(s,"position"),M=u(s),k={};I==="static"&&(s.style.position="relative"),b=M.offset(),_=u.css(s,"top"),C=u.css(s,"left"),(I==="absolute"||I==="fixed")&&-1<(_+C).indexOf("auto")?(y=(h=M.position()).top,g=h.left):(y=parseFloat(_)||0,g=parseFloat(C)||0),R(o)&&(o=o.call(s,c,u.extend({},b))),o.top!=null&&(k.top=o.top-b.top+y),o.left!=null&&(k.left=o.left-b.left+g),"using"in o?o.using.call(s,k):M.css(k)}},u.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(g){u.offset.setOffset(this,s,g)});var o,c,h=this[0];return h?h.getClientRects().length?(o=h.getBoundingClientRect(),c=h.ownerDocument.defaultView,{top:o.top+c.pageYOffset,left:o.left+c.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var s,o,c,h=this[0],g={top:0,left:0};if(u.css(h,"position")==="fixed")o=h.getBoundingClientRect();else{for(o=this.offset(),c=h.ownerDocument,s=h.offsetParent||c.documentElement;s&&(s===c.body||s===c.documentElement)&&u.css(s,"position")==="static";)s=s.parentNode;s&&s!==h&&s.nodeType===1&&((g=u(s).offset()).top+=u.css(s,"borderTopWidth",!0),g.left+=u.css(s,"borderLeftWidth",!0))}return{top:o.top-g.top-u.css(h,"marginTop",!0),left:o.left-g.left-u.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&u.css(s,"position")==="static";)s=s.offsetParent;return s||jt})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,o){var c=o==="pageYOffset";u.fn[s]=function(h){return Ye(this,function(g,_,y){var b;if(N(g)?b=g:g.nodeType===9&&(b=g.defaultView),y===void 0)return b?b[o]:g[_];b?b.scrollTo(c?b.pageXOffset:y,c?y:b.pageYOffset):g[_]=y},s,h,arguments.length)}}),u.each(["top","left"],function(s,o){u.cssHooks[o]=Fs(x.pixelPosition,function(c,h){if(h)return h=ri(c,o),vr.test(h)?u(c).position()[o]+"px":h})}),u.each({Height:"height",Width:"width"},function(s,o){u.each({padding:"inner"+s,content:o,"":"outer"+s},function(c,h){u.fn[h]=function(g,_){var y=arguments.length&&(c||typeof g!="boolean"),b=c||(g===!0||_===!0?"margin":"border");return Ye(this,function(C,I,M){var k;return N(C)?h.indexOf("outer")===0?C["inner"+s]:C.document.documentElement["client"+s]:C.nodeType===9?(k=C.documentElement,Math.max(C.body["scroll"+s],k["scroll"+s],C.body["offset"+s],k["offset"+s],k["client"+s])):M===void 0?u.css(C,I,b):u.style(C,I,M,b)},o,y?g:void 0,y)}})}),u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,o){u.fn[o]=function(c){return this.on(o,c)}}),u.fn.extend({bind:function(s,o,c){return this.on(s,null,o,c)},unbind:function(s,o){return this.off(s,null,o)},delegate:function(s,o,c,h){return this.on(o,s,c,h)},undelegate:function(s,o,c){return arguments.length===1?this.off(s,"**"):this.off(o,s||"**",c)},hover:function(s,o){return this.mouseenter(s).mouseleave(o||s)}}),u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,o){u.fn[o]=function(c,h){return 0<arguments.length?this.on(o,null,c,h):this.trigger(o)}});var Dl=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;u.proxy=function(s,o){var c,h,g;if(typeof o=="string"&&(c=s[o],o=s,s=c),R(s))return h=r.call(arguments,2),(g=function(){return s.apply(o||this,h.concat(r.call(arguments)))}).guid=s.guid=s.guid||u.guid++,g},u.holdReady=function(s){s?u.readyWait++:u.ready(!0)},u.isArray=Array.isArray,u.parseJSON=JSON.parse,u.nodeName=ce,u.isFunction=R,u.isWindow=N,u.camelCase=ot,u.type=G,u.now=Date.now,u.isNumeric=function(s){var o=u.type(s);return(o==="number"||o==="string")&&!isNaN(s-parseFloat(s))},u.trim=function(s){return s==null?"":(s+"").replace(Dl,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return u});var Fl=i.jQuery,kl=i.$;return u.noConflict=function(s){return i.$===u&&(i.$=kl),s&&i.jQuery===u&&(i.jQuery=Fl),u},typeof e>"u"&&(i.jQuery=i.$=u),u})});export default Kf();
